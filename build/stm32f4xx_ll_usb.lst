ARM GAS  /tmp/ccyAKTho.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_ll_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USB_CoreInit,"ax",%progbits
  18              		.align	1
  19              		.global	USB_CoreInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USB_CoreInit:
  26              	.LFB124:
  27              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *    
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following 
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions 
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * <h2><center>&copy; COPYRIGHT(c) 2017 STMicroelectronics</center></h2>
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Redistribution and use in source and binary forms, with or without modification,
ARM GAS  /tmp/ccyAKTho.s 			page 2


  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * are permitted provided that the following conditions are met:
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      this list of conditions and the following disclaimer.
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      this list of conditions and the following disclaimer in the documentation
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      and/or other materials provided with the distribution.
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      may be used to endorse or promote products derived from this software
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *      without specific prior written permission.
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */ 
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(HAL_PCD_MODULE_ENABLED) || defined(HAL_HCD_MODULE_ENABLED)
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F405xx) || defined(STM32F415xx) || defined(STM32F407xx) || defined(STM32F417xx) ||
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F427xx) || defined(STM32F437xx) || defined(STM32F429xx) || defined(STM32F439xx) ||
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F401xC) || defined(STM32F401xE) || defined(STM32F411xE) || defined(STM32F446xx) ||
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) || defined(STM32F412Vx) ||
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup LL_USB_Exported_Functions USB Low Layer Exported Functions
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup LL_USB_Group1 Initialization/de-initialization functions 
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *  @brief    Initialization and Configuration functions 
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim    
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****               ##### Initialization/de-initialization functions #####
ARM GAS  /tmp/ccyAKTho.s 			page 3


  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]  This section provides functions allowing to:
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg  pointer to a USB_OTG_CfgTypeDef structure that contains
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  28              		.loc 1 104 0
  29              		.cfi_startproc
  30              		@ args = 56, pretend = 16, frame = 8
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 84B0     		sub	sp, sp, #16
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35 0002 80B5     		push	{r7, lr}
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 7, -24
  39              		.cfi_offset 14, -20
  40 0004 82B0     		sub	sp, sp, #8
  41              	.LCFI2:
  42              		.cfi_def_cfa_offset 32
  43 0006 00AF     		add	r7, sp, #0
  44              	.LCFI3:
  45              		.cfi_def_cfa_register 7
  46 0008 7860     		str	r0, [r7, #4]
  47 000a 07F11400 		add	r0, r7, #20
  48 000e 80E80E00 		stm	r0, {r1, r2, r3}
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  49              		.loc 1 105 0
  50 0012 BB6A     		ldr	r3, [r7, #40]
  51 0014 012B     		cmp	r3, #1
  52 0016 20D1     		bne	.L2
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  53              		.loc 1 108 0
  54 0018 7B68     		ldr	r3, [r7, #4]
  55 001a 9B6B     		ldr	r3, [r3, #56]
  56 001c 23F48032 		bic	r2, r3, #65536
  57 0020 7B68     		ldr	r3, [r7, #4]
  58 0022 9A63     		str	r2, [r3, #56]
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  59              		.loc 1 111 0
  60 0024 7B68     		ldr	r3, [r7, #4]
  61 0026 DB68     		ldr	r3, [r3, #12]
ARM GAS  /tmp/ccyAKTho.s 			page 4


  62 0028 23F48403 		bic	r3, r3, #4325376
  63 002c 23F04003 		bic	r3, r3, #64
  64 0030 7A68     		ldr	r2, [r7, #4]
  65 0032 D360     		str	r3, [r2, #12]
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  66              		.loc 1 114 0
  67 0034 7B68     		ldr	r3, [r7, #4]
  68 0036 DB68     		ldr	r3, [r3, #12]
  69 0038 23F44012 		bic	r2, r3, #3145728
  70 003c 7B68     		ldr	r3, [r7, #4]
  71 003e DA60     		str	r2, [r3, #12]
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.use_external_vbus == 1U)
  72              		.loc 1 115 0
  73 0040 7B6C     		ldr	r3, [r7, #68]
  74 0042 012B     		cmp	r3, #1
  75 0044 05D1     		bne	.L3
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  76              		.loc 1 117 0
  77 0046 7B68     		ldr	r3, [r7, #4]
  78 0048 DB68     		ldr	r3, [r3, #12]
  79 004a 43F48012 		orr	r2, r3, #1048576
  80 004e 7B68     		ldr	r3, [r7, #4]
  81 0050 DA60     		str	r2, [r3, #12]
  82              	.L3:
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select  */
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_CoreReset(USBx); 
  83              		.loc 1 120 0
  84 0052 7868     		ldr	r0, [r7, #4]
  85 0054 FFF7FEFF 		bl	USB_CoreReset
  86 0058 0CE0     		b	.L4
  87              	.L2:
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  88              		.loc 1 125 0
  89 005a 7B68     		ldr	r3, [r7, #4]
  90 005c DB68     		ldr	r3, [r3, #12]
  91 005e 43F04002 		orr	r2, r3, #64
  92 0062 7B68     		ldr	r3, [r7, #4]
  93 0064 DA60     		str	r2, [r3, #12]
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select and set Host mode */
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_CoreReset(USBx);
  94              		.loc 1 128 0
  95 0066 7868     		ldr	r0, [r7, #4]
  96 0068 FFF7FEFF 		bl	USB_CoreReset
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate the power down*/
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG = USB_OTG_GCCFG_PWRDWN;
  97              		.loc 1 131 0
  98 006c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccyAKTho.s 			page 5


  99 006e 4FF48032 		mov	r2, #65536
 100 0072 9A63     		str	r2, [r3, #56]
 101              	.L4:
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.dma_enable == ENABLE)
 102              		.loc 1 134 0
 103 0074 3B6A     		ldr	r3, [r7, #32]
 104 0076 012B     		cmp	r3, #1
 105 0078 0BD1     		bne	.L5
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 106              		.loc 1 136 0
 107 007a 7B68     		ldr	r3, [r7, #4]
 108 007c 9B68     		ldr	r3, [r3, #8]
 109 007e 43F00602 		orr	r2, r3, #6
 110 0082 7B68     		ldr	r3, [r7, #4]
 111 0084 9A60     		str	r2, [r3, #8]
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 112              		.loc 1 137 0
 113 0086 7B68     		ldr	r3, [r7, #4]
 114 0088 9B68     		ldr	r3, [r3, #8]
 115 008a 43F02002 		orr	r2, r3, #32
 116 008e 7B68     		ldr	r3, [r7, #4]
 117 0090 9A60     		str	r2, [r3, #8]
 118              	.L5:
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }  
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 119              		.loc 1 140 0
 120 0092 0023     		movs	r3, #0
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 121              		.loc 1 141 0
 122 0094 1846     		mov	r0, r3
 123 0096 0837     		adds	r7, r7, #8
 124              	.LCFI4:
 125              		.cfi_def_cfa_offset 24
 126 0098 BD46     		mov	sp, r7
 127              	.LCFI5:
 128              		.cfi_def_cfa_register 13
 129              		@ sp needed
 130 009a BDE88040 		pop	{r7, lr}
 131              	.LCFI6:
 132              		.cfi_restore 14
 133              		.cfi_restore 7
 134              		.cfi_def_cfa_offset 16
 135 009e 04B0     		add	sp, sp, #16
 136              	.LCFI7:
 137              		.cfi_def_cfa_offset 0
 138 00a0 7047     		bx	lr
 139              		.cfi_endproc
 140              	.LFE124:
 142              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 143              		.align	1
 144              		.global	USB_EnableGlobalInt
 145              		.syntax unified
 146              		.thumb
ARM GAS  /tmp/ccyAKTho.s 			page 6


 147              		.thumb_func
 148              		.fpu fpv4-sp-d16
 150              	USB_EnableGlobalInt:
 151              	.LFB125:
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 152              		.loc 1 150 0
 153              		.cfi_startproc
 154              		@ args = 0, pretend = 0, frame = 8
 155              		@ frame_needed = 1, uses_anonymous_args = 0
 156              		@ link register save eliminated.
 157 0000 80B4     		push	{r7}
 158              	.LCFI8:
 159              		.cfi_def_cfa_offset 4
 160              		.cfi_offset 7, -4
 161 0002 83B0     		sub	sp, sp, #12
 162              	.LCFI9:
 163              		.cfi_def_cfa_offset 16
 164 0004 00AF     		add	r7, sp, #0
 165              	.LCFI10:
 166              		.cfi_def_cfa_register 7
 167 0006 7860     		str	r0, [r7, #4]
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 168              		.loc 1 151 0
 169 0008 7B68     		ldr	r3, [r7, #4]
 170 000a 9B68     		ldr	r3, [r3, #8]
 171 000c 43F00102 		orr	r2, r3, #1
 172 0010 7B68     		ldr	r3, [r7, #4]
 173 0012 9A60     		str	r2, [r3, #8]
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 174              		.loc 1 152 0
 175 0014 0023     		movs	r3, #0
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 176              		.loc 1 153 0
 177 0016 1846     		mov	r0, r3
 178 0018 0C37     		adds	r7, r7, #12
 179              	.LCFI11:
 180              		.cfi_def_cfa_offset 4
 181 001a BD46     		mov	sp, r7
 182              	.LCFI12:
 183              		.cfi_def_cfa_register 13
 184              		@ sp needed
 185 001c 5DF8047B 		ldr	r7, [sp], #4
 186              	.LCFI13:
 187              		.cfi_restore 7
 188              		.cfi_def_cfa_offset 0
 189 0020 7047     		bx	lr
 190              		.cfi_endproc
 191              	.LFE125:
 193              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
ARM GAS  /tmp/ccyAKTho.s 			page 7


 194              		.align	1
 195              		.global	USB_DisableGlobalInt
 196              		.syntax unified
 197              		.thumb
 198              		.thumb_func
 199              		.fpu fpv4-sp-d16
 201              	USB_DisableGlobalInt:
 202              	.LFB126:
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 203              		.loc 1 163 0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 8
 206              		@ frame_needed = 1, uses_anonymous_args = 0
 207              		@ link register save eliminated.
 208 0000 80B4     		push	{r7}
 209              	.LCFI14:
 210              		.cfi_def_cfa_offset 4
 211              		.cfi_offset 7, -4
 212 0002 83B0     		sub	sp, sp, #12
 213              	.LCFI15:
 214              		.cfi_def_cfa_offset 16
 215 0004 00AF     		add	r7, sp, #0
 216              	.LCFI16:
 217              		.cfi_def_cfa_register 7
 218 0006 7860     		str	r0, [r7, #4]
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 219              		.loc 1 164 0
 220 0008 7B68     		ldr	r3, [r7, #4]
 221 000a 9B68     		ldr	r3, [r3, #8]
 222 000c 23F00102 		bic	r2, r3, #1
 223 0010 7B68     		ldr	r3, [r7, #4]
 224 0012 9A60     		str	r2, [r3, #8]
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 225              		.loc 1 165 0
 226 0014 0023     		movs	r3, #0
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 227              		.loc 1 166 0
 228 0016 1846     		mov	r0, r3
 229 0018 0C37     		adds	r7, r7, #12
 230              	.LCFI17:
 231              		.cfi_def_cfa_offset 4
 232 001a BD46     		mov	sp, r7
 233              	.LCFI18:
 234              		.cfi_def_cfa_register 13
 235              		@ sp needed
 236 001c 5DF8047B 		ldr	r7, [sp], #4
 237              	.LCFI19:
 238              		.cfi_restore 7
ARM GAS  /tmp/ccyAKTho.s 			page 8


 239              		.cfi_def_cfa_offset 0
 240 0020 7047     		bx	lr
 241              		.cfi_endproc
 242              	.LFE126:
 244              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 245              		.align	1
 246              		.global	USB_SetCurrentMode
 247              		.syntax unified
 248              		.thumb
 249              		.thumb_func
 250              		.fpu fpv4-sp-d16
 252              	USB_SetCurrentMode:
 253              	.LFB127:
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode   current core mode
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_DEVICE_MODE: Peripheral mode
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_HOST_MODE: Host mode
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_DRD_MODE: Dual Role Device mode  
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx , USB_OTG_ModeTypeDef mode)
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 254              		.loc 1 179 0
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 8
 257              		@ frame_needed = 1, uses_anonymous_args = 0
 258 0000 80B5     		push	{r7, lr}
 259              	.LCFI20:
 260              		.cfi_def_cfa_offset 8
 261              		.cfi_offset 7, -8
 262              		.cfi_offset 14, -4
 263 0002 82B0     		sub	sp, sp, #8
 264              	.LCFI21:
 265              		.cfi_def_cfa_offset 16
 266 0004 00AF     		add	r7, sp, #0
 267              	.LCFI22:
 268              		.cfi_def_cfa_register 7
 269 0006 7860     		str	r0, [r7, #4]
 270 0008 0B46     		mov	r3, r1
 271 000a FB70     		strb	r3, [r7, #3]
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD); 
 272              		.loc 1 180 0
 273 000c 7B68     		ldr	r3, [r7, #4]
 274 000e DB68     		ldr	r3, [r3, #12]
 275 0010 23F0C042 		bic	r2, r3, #1610612736
 276 0014 7B68     		ldr	r3, [r7, #4]
 277 0016 DA60     		str	r2, [r3, #12]
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ( mode == USB_OTG_HOST_MODE)
 278              		.loc 1 182 0
 279 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 280 001a 012B     		cmp	r3, #1
 281 001c 06D1     		bne	.L12
ARM GAS  /tmp/ccyAKTho.s 			page 9


 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD; 
 282              		.loc 1 184 0
 283 001e 7B68     		ldr	r3, [r7, #4]
 284 0020 DB68     		ldr	r3, [r3, #12]
 285 0022 43F00052 		orr	r2, r3, #536870912
 286 0026 7B68     		ldr	r3, [r7, #4]
 287 0028 DA60     		str	r2, [r3, #12]
 288 002a 08E0     		b	.L13
 289              	.L12:
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ( mode == USB_OTG_DEVICE_MODE)
 290              		.loc 1 186 0
 291 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 292 002e 002B     		cmp	r3, #0
 293 0030 05D1     		bne	.L13
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD; 
 294              		.loc 1 188 0
 295 0032 7B68     		ldr	r3, [r7, #4]
 296 0034 DB68     		ldr	r3, [r3, #12]
 297 0036 43F08042 		orr	r2, r3, #1073741824
 298 003a 7B68     		ldr	r3, [r7, #4]
 299 003c DA60     		str	r2, [r3, #12]
 300              	.L13:
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(50U);
 301              		.loc 1 190 0
 302 003e 3220     		movs	r0, #50
 303 0040 FFF7FEFF 		bl	HAL_Delay
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 304              		.loc 1 192 0
 305 0044 0023     		movs	r3, #0
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 306              		.loc 1 193 0
 307 0046 1846     		mov	r0, r3
 308 0048 0837     		adds	r7, r7, #8
 309              	.LCFI23:
 310              		.cfi_def_cfa_offset 8
 311 004a BD46     		mov	sp, r7
 312              	.LCFI24:
 313              		.cfi_def_cfa_register 13
 314              		@ sp needed
 315 004c 80BD     		pop	{r7, pc}
 316              		.cfi_endproc
 317              	.LFE127:
 319              		.section	.text.USB_DevInit,"ax",%progbits
 320              		.align	1
 321              		.global	USB_DevInit
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu fpv4-sp-d16
 327              	USB_DevInit:
 328              	.LFB128:
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccyAKTho.s 			page 10


 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers 
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 329              		.loc 1 204 0
 330              		.cfi_startproc
 331              		@ args = 56, pretend = 16, frame = 16
 332              		@ frame_needed = 1, uses_anonymous_args = 0
 333 0000 84B0     		sub	sp, sp, #16
 334              	.LCFI25:
 335              		.cfi_def_cfa_offset 16
 336 0002 80B5     		push	{r7, lr}
 337              	.LCFI26:
 338              		.cfi_def_cfa_offset 24
 339              		.cfi_offset 7, -24
 340              		.cfi_offset 14, -20
 341 0004 84B0     		sub	sp, sp, #16
 342              	.LCFI27:
 343              		.cfi_def_cfa_offset 40
 344 0006 00AF     		add	r7, sp, #0
 345              	.LCFI28:
 346              		.cfi_def_cfa_register 7
 347 0008 7860     		str	r0, [r7, #4]
 348 000a 07F11C00 		add	r0, r7, #28
 349 000e 80E80E00 		stm	r0, {r1, r2, r3}
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i = 0U;
 350              		.loc 1 205 0
 351 0012 0023     		movs	r3, #0
 352 0014 FB60     		str	r3, [r7, #12]
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*Activate VBUS Sensing B */
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable*/ 
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 353              		.loc 1 222 0
 354 0016 7B6C     		ldr	r3, [r7, #68]
 355 0018 002B     		cmp	r3, #0
 356 001a 06D1     		bne	.L16
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccyAKTho.s 			page 11


 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 357              		.loc 1 224 0
 358 001c 7B68     		ldr	r3, [r7, #4]
 359 001e 9B6B     		ldr	r3, [r3, #56]
 360 0020 43F40012 		orr	r2, r3, #2097152
 361 0024 7B68     		ldr	r3, [r7, #4]
 362 0026 9A63     		str	r2, [r3, #56]
 363 0028 05E0     		b	.L17
 364              	.L16:
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable VBUS */
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 365              		.loc 1 229 0
 366 002a 7B68     		ldr	r3, [r7, #4]
 367 002c 9B6B     		ldr	r3, [r3, #56]
 368 002e 43F40022 		orr	r2, r3, #524288
 369 0032 7B68     		ldr	r3, [r7, #4]
 370 0034 9A63     		str	r2, [r3, #56]
 371              	.L17:
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 372              		.loc 1 234 0
 373 0036 7B68     		ldr	r3, [r7, #4]
 374 0038 03F56063 		add	r3, r3, #3584
 375 003c 1A46     		mov	r2, r3
 376 003e 0023     		movs	r3, #0
 377 0040 1360     		str	r3, [r2]
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 378              		.loc 1 237 0
 379 0042 7B68     		ldr	r3, [r7, #4]
 380 0044 03F50063 		add	r3, r3, #2048
 381 0048 1A46     		mov	r2, r3
 382 004a 7B68     		ldr	r3, [r7, #4]
 383 004c 03F50063 		add	r3, r3, #2048
 384 0050 1B68     		ldr	r3, [r3]
 385 0052 1360     		str	r3, [r2]
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.phy_itface  == USB_OTG_ULPI_PHY)
 386              		.loc 1 239 0
 387 0054 3B6B     		ldr	r3, [r7, #48]
 388 0056 012B     		cmp	r3, #1
 389 0058 0CD1     		bne	.L18
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if(cfg.speed == USB_OTG_SPEED_HIGH)
 390              		.loc 1 241 0
 391 005a 7B6A     		ldr	r3, [r7, #36]
 392 005c 002B     		cmp	r3, #0
 393 005e 04D1     		bne	.L19
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {      
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set High speed phy */
ARM GAS  /tmp/ccyAKTho.s 			page 12


 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_SetDevSpeed (USBx , USB_OTG_SPEED_HIGH);
 394              		.loc 1 244 0
 395 0060 0021     		movs	r1, #0
 396 0062 7868     		ldr	r0, [r7, #4]
 397 0064 FFF7FEFF 		bl	USB_SetDevSpeed
 398 0068 08E0     		b	.L21
 399              	.L19:
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else 
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* set High speed phy in Full speed mode */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_SetDevSpeed (USBx , USB_OTG_SPEED_HIGH_IN_FULL);
 400              		.loc 1 249 0
 401 006a 0121     		movs	r1, #1
 402 006c 7868     		ldr	r0, [r7, #4]
 403 006e FFF7FEFF 		bl	USB_SetDevSpeed
 404 0072 03E0     		b	.L21
 405              	.L18:
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Full speed phy */
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_SetDevSpeed (USBx , USB_OTG_SPEED_FULL);
 406              		.loc 1 255 0
 407 0074 0321     		movs	r1, #3
 408 0076 7868     		ldr	r0, [r7, #4]
 409 0078 FFF7FEFF 		bl	USB_SetDevSpeed
 410              	.L21:
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx , 0x10U); /* all Tx FIFOs */
 411              		.loc 1 259 0
 412 007c 1021     		movs	r1, #16
 413 007e 7868     		ldr	r0, [r7, #4]
 414 0080 FFF7FEFF 		bl	USB_FlushTxFifo
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 415              		.loc 1 260 0
 416 0084 7868     		ldr	r0, [r7, #4]
 417 0086 FFF7FEFF 		bl	USB_FlushRxFifo
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 418              		.loc 1 263 0
 419 008a 7B68     		ldr	r3, [r7, #4]
 420 008c 03F50063 		add	r3, r3, #2048
 421 0090 1A46     		mov	r2, r3
 422 0092 0023     		movs	r3, #0
 423 0094 1361     		str	r3, [r2, #16]
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 424              		.loc 1 264 0
 425 0096 7B68     		ldr	r3, [r7, #4]
 426 0098 03F50063 		add	r3, r3, #2048
 427 009c 1A46     		mov	r2, r3
 428 009e 0023     		movs	r3, #0
 429 00a0 5361     		str	r3, [r2, #20]
ARM GAS  /tmp/ccyAKTho.s 			page 13


 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 430              		.loc 1 265 0
 431 00a2 7B68     		ldr	r3, [r7, #4]
 432 00a4 03F50063 		add	r3, r3, #2048
 433 00a8 1A46     		mov	r2, r3
 434 00aa 4FF0FF33 		mov	r3, #-1
 435 00ae 9361     		str	r3, [r2, #24]
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 436              		.loc 1 266 0
 437 00b0 7B68     		ldr	r3, [r7, #4]
 438 00b2 03F50063 		add	r3, r3, #2048
 439 00b6 1A46     		mov	r2, r3
 440 00b8 0023     		movs	r3, #0
 441 00ba D361     		str	r3, [r2, #28]
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 442              		.loc 1 268 0
 443 00bc 0023     		movs	r3, #0
 444 00be FB60     		str	r3, [r7, #12]
 445 00c0 34E0     		b	.L22
 446              	.L25:
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 447              		.loc 1 270 0
 448 00c2 FB68     		ldr	r3, [r7, #12]
 449 00c4 5A01     		lsls	r2, r3, #5
 450 00c6 7B68     		ldr	r3, [r7, #4]
 451 00c8 1344     		add	r3, r3, r2
 452 00ca 03F51063 		add	r3, r3, #2304
 453 00ce 1B68     		ldr	r3, [r3]
 454 00d0 03F00043 		and	r3, r3, #-2147483648
 455 00d4 B3F1004F 		cmp	r3, #-2147483648
 456 00d8 0AD1     		bne	.L23
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = (USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK);
 457              		.loc 1 272 0
 458 00da FB68     		ldr	r3, [r7, #12]
 459 00dc 5A01     		lsls	r2, r3, #5
 460 00de 7B68     		ldr	r3, [r7, #4]
 461 00e0 1344     		add	r3, r3, r2
 462 00e2 03F51063 		add	r3, r3, #2304
 463 00e6 1A46     		mov	r2, r3
 464 00e8 4FF09043 		mov	r3, #1207959552
 465 00ec 1360     		str	r3, [r2]
 466 00ee 08E0     		b	.L24
 467              	.L23:
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 468              		.loc 1 276 0
 469 00f0 FB68     		ldr	r3, [r7, #12]
 470 00f2 5A01     		lsls	r2, r3, #5
 471 00f4 7B68     		ldr	r3, [r7, #4]
 472 00f6 1344     		add	r3, r3, r2
 473 00f8 03F51063 		add	r3, r3, #2304
 474 00fc 1A46     		mov	r2, r3
ARM GAS  /tmp/ccyAKTho.s 			page 14


 475 00fe 0023     		movs	r3, #0
 476 0100 1360     		str	r3, [r2]
 477              	.L24:
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 478              		.loc 1 279 0 discriminator 2
 479 0102 FB68     		ldr	r3, [r7, #12]
 480 0104 5A01     		lsls	r2, r3, #5
 481 0106 7B68     		ldr	r3, [r7, #4]
 482 0108 1344     		add	r3, r3, r2
 483 010a 03F51063 		add	r3, r3, #2304
 484 010e 1A46     		mov	r2, r3
 485 0110 0023     		movs	r3, #0
 486 0112 1361     		str	r3, [r2, #16]
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 487              		.loc 1 280 0 discriminator 2
 488 0114 FB68     		ldr	r3, [r7, #12]
 489 0116 5A01     		lsls	r2, r3, #5
 490 0118 7B68     		ldr	r3, [r7, #4]
 491 011a 1344     		add	r3, r3, r2
 492 011c 03F51063 		add	r3, r3, #2304
 493 0120 1A46     		mov	r2, r3
 494 0122 FF23     		movs	r3, #255
 495 0124 9360     		str	r3, [r2, #8]
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 496              		.loc 1 268 0 discriminator 2
 497 0126 FB68     		ldr	r3, [r7, #12]
 498 0128 0133     		adds	r3, r3, #1
 499 012a FB60     		str	r3, [r7, #12]
 500              	.L22:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 501              		.loc 1 268 0 is_stmt 0 discriminator 1
 502 012c FA69     		ldr	r2, [r7, #28]
 503 012e FB68     		ldr	r3, [r7, #12]
 504 0130 9A42     		cmp	r2, r3
 505 0132 C6D8     		bhi	.L25
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 506              		.loc 1 283 0 is_stmt 1
 507 0134 0023     		movs	r3, #0
 508 0136 FB60     		str	r3, [r7, #12]
 509 0138 34E0     		b	.L26
 510              	.L29:
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 511              		.loc 1 285 0
 512 013a FB68     		ldr	r3, [r7, #12]
 513 013c 5A01     		lsls	r2, r3, #5
 514 013e 7B68     		ldr	r3, [r7, #4]
 515 0140 1344     		add	r3, r3, r2
 516 0142 03F53063 		add	r3, r3, #2816
 517 0146 1B68     		ldr	r3, [r3]
 518 0148 03F00043 		and	r3, r3, #-2147483648
 519 014c B3F1004F 		cmp	r3, #-2147483648
 520 0150 0AD1     		bne	.L27
ARM GAS  /tmp/ccyAKTho.s 			page 15


 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = (USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK);
 521              		.loc 1 287 0
 522 0152 FB68     		ldr	r3, [r7, #12]
 523 0154 5A01     		lsls	r2, r3, #5
 524 0156 7B68     		ldr	r3, [r7, #4]
 525 0158 1344     		add	r3, r3, r2
 526 015a 03F53063 		add	r3, r3, #2816
 527 015e 1A46     		mov	r2, r3
 528 0160 4FF09043 		mov	r3, #1207959552
 529 0164 1360     		str	r3, [r2]
 530 0166 08E0     		b	.L28
 531              	.L27:
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 532              		.loc 1 291 0
 533 0168 FB68     		ldr	r3, [r7, #12]
 534 016a 5A01     		lsls	r2, r3, #5
 535 016c 7B68     		ldr	r3, [r7, #4]
 536 016e 1344     		add	r3, r3, r2
 537 0170 03F53063 		add	r3, r3, #2816
 538 0174 1A46     		mov	r2, r3
 539 0176 0023     		movs	r3, #0
 540 0178 1360     		str	r3, [r2]
 541              	.L28:
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 542              		.loc 1 294 0 discriminator 2
 543 017a FB68     		ldr	r3, [r7, #12]
 544 017c 5A01     		lsls	r2, r3, #5
 545 017e 7B68     		ldr	r3, [r7, #4]
 546 0180 1344     		add	r3, r3, r2
 547 0182 03F53063 		add	r3, r3, #2816
 548 0186 1A46     		mov	r2, r3
 549 0188 0023     		movs	r3, #0
 550 018a 1361     		str	r3, [r2, #16]
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 551              		.loc 1 295 0 discriminator 2
 552 018c FB68     		ldr	r3, [r7, #12]
 553 018e 5A01     		lsls	r2, r3, #5
 554 0190 7B68     		ldr	r3, [r7, #4]
 555 0192 1344     		add	r3, r3, r2
 556 0194 03F53063 		add	r3, r3, #2816
 557 0198 1A46     		mov	r2, r3
 558 019a FF23     		movs	r3, #255
 559 019c 9360     		str	r3, [r2, #8]
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 560              		.loc 1 283 0 discriminator 2
 561 019e FB68     		ldr	r3, [r7, #12]
 562 01a0 0133     		adds	r3, r3, #1
 563 01a2 FB60     		str	r3, [r7, #12]
 564              	.L26:
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 565              		.loc 1 283 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccyAKTho.s 			page 16


 566 01a4 FA69     		ldr	r2, [r7, #28]
 567 01a6 FB68     		ldr	r3, [r7, #12]
 568 01a8 9A42     		cmp	r2, r3
 569 01aa C6D8     		bhi	.L29
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 570              		.loc 1 298 0 is_stmt 1
 571 01ac 7B68     		ldr	r3, [r7, #4]
 572 01ae 03F50063 		add	r3, r3, #2048
 573 01b2 1A46     		mov	r2, r3
 574 01b4 7B68     		ldr	r3, [r7, #4]
 575 01b6 03F50063 		add	r3, r3, #2048
 576 01ba 1B69     		ldr	r3, [r3, #16]
 577 01bc 23F48073 		bic	r3, r3, #256
 578 01c0 1361     		str	r3, [r2, #16]
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 579              		.loc 1 300 0
 580 01c2 BB6A     		ldr	r3, [r7, #40]
 581 01c4 012B     		cmp	r3, #1
 582 01c6 17D1     		bne	.L30
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Set threshold parameters */
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL = (USB_OTG_DTHRCTL_TXTHRLEN_6 | USB_OTG_DTHRCTL_RXTHRLEN_6);
 583              		.loc 1 303 0
 584 01c8 7B68     		ldr	r3, [r7, #4]
 585 01ca 03F50063 		add	r3, r3, #2048
 586 01ce 1A46     		mov	r2, r3
 587 01d0 224B     		ldr	r3, .L35
 588 01d2 1363     		str	r3, [r2, #48]
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL |= (USB_OTG_DTHRCTL_RXTHREN | USB_OTG_DTHRCTL_ISOTHREN | USB_OTG_DTHRCTL_N
 589              		.loc 1 304 0
 590 01d4 7B68     		ldr	r3, [r7, #4]
 591 01d6 03F50063 		add	r3, r3, #2048
 592 01da 1A46     		mov	r2, r3
 593 01dc 7B68     		ldr	r3, [r7, #4]
 594 01de 03F50063 		add	r3, r3, #2048
 595 01e2 1B6B     		ldr	r3, [r3, #48]
 596 01e4 43F48033 		orr	r3, r3, #65536
 597 01e8 43F00303 		orr	r3, r3, #3
 598 01ec 1363     		str	r3, [r2, #48]
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     i= USBx_DEVICE->DTHRCTL;
 599              		.loc 1 306 0
 600 01ee 7B68     		ldr	r3, [r7, #4]
 601 01f0 03F50063 		add	r3, r3, #2048
 602 01f4 1B6B     		ldr	r3, [r3, #48]
 603 01f6 FB60     		str	r3, [r7, #12]
 604              	.L30:
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 605              		.loc 1 310 0
 606 01f8 7B68     		ldr	r3, [r7, #4]
 607 01fa 0022     		movs	r2, #0
ARM GAS  /tmp/ccyAKTho.s 			page 17


 608 01fc 9A61     		str	r2, [r3, #24]
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 609              		.loc 1 313 0
 610 01fe 7B68     		ldr	r3, [r7, #4]
 611 0200 6FF08042 		mvn	r2, #1073741824
 612 0204 5A61     		str	r2, [r3, #20]
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == DISABLE)
 613              		.loc 1 316 0
 614 0206 BB6A     		ldr	r3, [r7, #40]
 615 0208 002B     		cmp	r3, #0
 616 020a 05D1     		bne	.L31
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM; 
 617              		.loc 1 318 0
 618 020c 7B68     		ldr	r3, [r7, #4]
 619 020e 9B69     		ldr	r3, [r3, #24]
 620 0210 43F01002 		orr	r2, r3, #16
 621 0214 7B68     		ldr	r3, [r7, #4]
 622 0216 9A61     		str	r2, [r3, #24]
 623              	.L31:
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |\
 624              		.loc 1 322 0
 625 0218 7B68     		ldr	r3, [r7, #4]
 626 021a 9A69     		ldr	r2, [r3, #24]
 627 021c 104B     		ldr	r3, .L35+4
 628 021e 1343     		orrs	r3, r3, r2
 629 0220 7A68     		ldr	r2, [r7, #4]
 630 0222 9361     		str	r3, [r2, #24]
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |\
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM|\
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM);
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(cfg.Sof_enable)
 631              		.loc 1 327 0
 632 0224 7B6B     		ldr	r3, [r7, #52]
 633 0226 002B     		cmp	r3, #0
 634 0228 05D0     		beq	.L32
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 635              		.loc 1 329 0
 636 022a 7B68     		ldr	r3, [r7, #4]
 637 022c 9B69     		ldr	r3, [r3, #24]
 638 022e 43F00802 		orr	r2, r3, #8
 639 0232 7B68     		ldr	r3, [r7, #4]
 640 0234 9A61     		str	r2, [r3, #24]
 641              	.L32:
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == ENABLE)
 642              		.loc 1 332 0
ARM GAS  /tmp/ccyAKTho.s 			page 18


 643 0236 7B6C     		ldr	r3, [r7, #68]
 644 0238 012B     		cmp	r3, #1
 645 023a 07D1     		bne	.L33
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT); 
 646              		.loc 1 334 0
 647 023c 7B68     		ldr	r3, [r7, #4]
 648 023e 9B69     		ldr	r3, [r3, #24]
 649 0240 43F08043 		orr	r3, r3, #1073741824
 650 0244 43F00403 		orr	r3, r3, #4
 651 0248 7A68     		ldr	r2, [r7, #4]
 652 024a 9361     		str	r3, [r2, #24]
 653              	.L33:
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 654              		.loc 1 337 0
 655 024c 0023     		movs	r3, #0
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 656              		.loc 1 338 0
 657 024e 1846     		mov	r0, r3
 658 0250 1037     		adds	r7, r7, #16
 659              	.LCFI29:
 660              		.cfi_def_cfa_offset 24
 661 0252 BD46     		mov	sp, r7
 662              	.LCFI30:
 663              		.cfi_def_cfa_register 13
 664              		@ sp needed
 665 0254 BDE88040 		pop	{r7, lr}
 666              	.LCFI31:
 667              		.cfi_restore 14
 668              		.cfi_restore 7
 669              		.cfi_def_cfa_offset 16
 670 0258 04B0     		add	sp, sp, #16
 671              	.LCFI32:
 672              		.cfi_def_cfa_offset 0
 673 025a 7047     		bx	lr
 674              	.L36:
 675              		.align	2
 676              	.L35:
 677 025c 00018000 		.word	8388864
 678 0260 00383C80 		.word	-2143537152
 679              		.cfi_endproc
 680              	.LFE128:
 682              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 683              		.align	1
 684              		.global	USB_FlushTxFifo
 685              		.syntax unified
 686              		.thumb
 687              		.thumb_func
 688              		.fpu fpv4-sp-d16
 690              	USB_FlushTxFifo:
 691              	.LFB129:
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
ARM GAS  /tmp/ccyAKTho.s 			page 19


 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo (USB_OTG_GlobalTypeDef *USBx, uint32_t num )
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 692              		.loc 1 350 0
 693              		.cfi_startproc
 694              		@ args = 0, pretend = 0, frame = 16
 695              		@ frame_needed = 1, uses_anonymous_args = 0
 696              		@ link register save eliminated.
 697 0000 80B4     		push	{r7}
 698              	.LCFI33:
 699              		.cfi_def_cfa_offset 4
 700              		.cfi_offset 7, -4
 701 0002 85B0     		sub	sp, sp, #20
 702              	.LCFI34:
 703              		.cfi_def_cfa_offset 24
 704 0004 00AF     		add	r7, sp, #0
 705              	.LCFI35:
 706              		.cfi_def_cfa_register 7
 707 0006 7860     		str	r0, [r7, #4]
 708 0008 3960     		str	r1, [r7]
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
 709              		.loc 1 351 0
 710 000a 0023     		movs	r3, #0
 711 000c FB60     		str	r3, [r7, #12]
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = ( USB_OTG_GRSTCTL_TXFFLSH |(uint32_t)( num << 6)); 
 712              		.loc 1 353 0
 713 000e 3B68     		ldr	r3, [r7]
 714 0010 9B01     		lsls	r3, r3, #6
 715 0012 43F02002 		orr	r2, r3, #32
 716 0016 7B68     		ldr	r3, [r7, #4]
 717 0018 1A61     		str	r2, [r3, #16]
 718              	.L40:
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000)
 719              		.loc 1 357 0
 720 001a FB68     		ldr	r3, [r7, #12]
 721 001c 0133     		adds	r3, r3, #1
 722 001e FB60     		str	r3, [r7, #12]
 723 0020 FB68     		ldr	r3, [r7, #12]
 724 0022 094A     		ldr	r2, .L41
 725 0024 9342     		cmp	r3, r2
 726 0026 01D9     		bls	.L38
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 727              		.loc 1 359 0
 728 0028 0323     		movs	r3, #3
 729 002a 06E0     		b	.L39
 730              	.L38:
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
ARM GAS  /tmp/ccyAKTho.s 			page 20


 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 731              		.loc 1 362 0
 732 002c 7B68     		ldr	r3, [r7, #4]
 733 002e 1B69     		ldr	r3, [r3, #16]
 734 0030 03F02003 		and	r3, r3, #32
 735 0034 202B     		cmp	r3, #32
 736 0036 F0D0     		beq	.L40
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 737              		.loc 1 364 0
 738 0038 0023     		movs	r3, #0
 739              	.L39:
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 740              		.loc 1 365 0
 741 003a 1846     		mov	r0, r3
 742 003c 1437     		adds	r7, r7, #20
 743              	.LCFI36:
 744              		.cfi_def_cfa_offset 4
 745 003e BD46     		mov	sp, r7
 746              	.LCFI37:
 747              		.cfi_def_cfa_register 13
 748              		@ sp needed
 749 0040 5DF8047B 		ldr	r7, [sp], #4
 750              	.LCFI38:
 751              		.cfi_restore 7
 752              		.cfi_def_cfa_offset 0
 753 0044 7047     		bx	lr
 754              	.L42:
 755 0046 00BF     		.align	2
 756              	.L41:
 757 0048 400D0300 		.word	200000
 758              		.cfi_endproc
 759              	.LFE129:
 761              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 762              		.align	1
 763              		.global	USB_FlushRxFifo
 764              		.syntax unified
 765              		.thumb
 766              		.thumb_func
 767              		.fpu fpv4-sp-d16
 769              	USB_FlushRxFifo:
 770              	.LFB130:
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 771              		.loc 1 374 0
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 16
 774              		@ frame_needed = 1, uses_anonymous_args = 0
 775              		@ link register save eliminated.
ARM GAS  /tmp/ccyAKTho.s 			page 21


 776 0000 80B4     		push	{r7}
 777              	.LCFI39:
 778              		.cfi_def_cfa_offset 4
 779              		.cfi_offset 7, -4
 780 0002 85B0     		sub	sp, sp, #20
 781              	.LCFI40:
 782              		.cfi_def_cfa_offset 24
 783 0004 00AF     		add	r7, sp, #0
 784              	.LCFI41:
 785              		.cfi_def_cfa_register 7
 786 0006 7860     		str	r0, [r7, #4]
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
 787              		.loc 1 375 0
 788 0008 0023     		movs	r3, #0
 789 000a FB60     		str	r3, [r7, #12]
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 790              		.loc 1 377 0
 791 000c 7B68     		ldr	r3, [r7, #4]
 792 000e 1022     		movs	r2, #16
 793 0010 1A61     		str	r2, [r3, #16]
 794              	.L46:
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000)
 795              		.loc 1 381 0
 796 0012 FB68     		ldr	r3, [r7, #12]
 797 0014 0133     		adds	r3, r3, #1
 798 0016 FB60     		str	r3, [r7, #12]
 799 0018 FB68     		ldr	r3, [r7, #12]
 800 001a 094A     		ldr	r2, .L47
 801 001c 9342     		cmp	r3, r2
 802 001e 01D9     		bls	.L44
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 803              		.loc 1 383 0
 804 0020 0323     		movs	r3, #3
 805 0022 06E0     		b	.L45
 806              	.L44:
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 807              		.loc 1 386 0
 808 0024 7B68     		ldr	r3, [r7, #4]
 809 0026 1B69     		ldr	r3, [r3, #16]
 810 0028 03F01003 		and	r3, r3, #16
 811 002c 102B     		cmp	r3, #16
 812 002e F0D0     		beq	.L46
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 813              		.loc 1 388 0
 814 0030 0023     		movs	r3, #0
 815              	.L45:
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 816              		.loc 1 389 0
 817 0032 1846     		mov	r0, r3
ARM GAS  /tmp/ccyAKTho.s 			page 22


 818 0034 1437     		adds	r7, r7, #20
 819              	.LCFI42:
 820              		.cfi_def_cfa_offset 4
 821 0036 BD46     		mov	sp, r7
 822              	.LCFI43:
 823              		.cfi_def_cfa_register 13
 824              		@ sp needed
 825 0038 5DF8047B 		ldr	r7, [sp], #4
 826              	.LCFI44:
 827              		.cfi_restore 7
 828              		.cfi_def_cfa_offset 0
 829 003c 7047     		bx	lr
 830              	.L48:
 831 003e 00BF     		.align	2
 832              	.L47:
 833 0040 400D0300 		.word	200000
 834              		.cfi_endproc
 835              	.LFE130:
 837              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 838              		.align	1
 839              		.global	USB_SetDevSpeed
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
 843              		.fpu fpv4-sp-d16
 845              	USB_SetDevSpeed:
 846              	.LFB131:
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed :Initializes the DevSpd field of DCFG register 
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx , uint8_t speed)
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 847              		.loc 1 404 0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 8
 850              		@ frame_needed = 1, uses_anonymous_args = 0
 851              		@ link register save eliminated.
 852 0000 80B4     		push	{r7}
 853              	.LCFI45:
 854              		.cfi_def_cfa_offset 4
 855              		.cfi_offset 7, -4
 856 0002 83B0     		sub	sp, sp, #12
 857              	.LCFI46:
 858              		.cfi_def_cfa_offset 16
 859 0004 00AF     		add	r7, sp, #0
 860              	.LCFI47:
 861              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccyAKTho.s 			page 23


 862 0006 7860     		str	r0, [r7, #4]
 863 0008 0B46     		mov	r3, r1
 864 000a FB70     		strb	r3, [r7, #3]
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 865              		.loc 1 405 0
 866 000c 7B68     		ldr	r3, [r7, #4]
 867 000e 03F50063 		add	r3, r3, #2048
 868 0012 1946     		mov	r1, r3
 869 0014 7B68     		ldr	r3, [r7, #4]
 870 0016 03F50063 		add	r3, r3, #2048
 871 001a 1A68     		ldr	r2, [r3]
 872 001c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 873 001e 1343     		orrs	r3, r3, r2
 874 0020 0B60     		str	r3, [r1]
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 875              		.loc 1 406 0
 876 0022 0023     		movs	r3, #0
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 877              		.loc 1 407 0
 878 0024 1846     		mov	r0, r3
 879 0026 0C37     		adds	r7, r7, #12
 880              	.LCFI48:
 881              		.cfi_def_cfa_offset 4
 882 0028 BD46     		mov	sp, r7
 883              	.LCFI49:
 884              		.cfi_def_cfa_register 13
 885              		@ sp needed
 886 002a 5DF8047B 		ldr	r7, [sp], #4
 887              	.LCFI50:
 888              		.cfi_restore 7
 889              		.cfi_def_cfa_offset 0
 890 002e 7047     		bx	lr
 891              		.cfi_endproc
 892              	.LFE131:
 894              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 895              		.align	1
 896              		.global	USB_GetDevSpeed
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 900              		.fpu fpv4-sp-d16
 902              	USB_GetDevSpeed:
 903              	.LFB132:
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed :Return the  Dev Speed 
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : device speed
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 904              		.loc 1 419 0
 905              		.cfi_startproc
ARM GAS  /tmp/ccyAKTho.s 			page 24


 906              		@ args = 0, pretend = 0, frame = 16
 907              		@ frame_needed = 1, uses_anonymous_args = 0
 908              		@ link register save eliminated.
 909 0000 80B4     		push	{r7}
 910              	.LCFI51:
 911              		.cfi_def_cfa_offset 4
 912              		.cfi_offset 7, -4
 913 0002 85B0     		sub	sp, sp, #20
 914              	.LCFI52:
 915              		.cfi_def_cfa_offset 24
 916 0004 00AF     		add	r7, sp, #0
 917              	.LCFI53:
 918              		.cfi_def_cfa_register 7
 919 0006 7860     		str	r0, [r7, #4]
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed = 0U;
 920              		.loc 1 420 0
 921 0008 0023     		movs	r3, #0
 922 000a FB73     		strb	r3, [r7, #15]
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 923              		.loc 1 422 0
 924 000c 7B68     		ldr	r3, [r7, #4]
 925 000e 03F50063 		add	r3, r3, #2048
 926 0012 9B68     		ldr	r3, [r3, #8]
 927 0014 03F00603 		and	r3, r3, #6
 928 0018 002B     		cmp	r3, #0
 929 001a 02D1     		bne	.L52
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_HIGH;
 930              		.loc 1 424 0
 931 001c 0023     		movs	r3, #0
 932 001e FB73     		strb	r3, [r7, #15]
 933 0020 1CE0     		b	.L53
 934              	.L52:
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ)||
 935              		.loc 1 426 0
 936 0022 7B68     		ldr	r3, [r7, #4]
 937 0024 03F50063 		add	r3, r3, #2048
 938 0028 9B68     		ldr	r3, [r3, #8]
 939 002a 03F00603 		and	r3, r3, #6
 940 002e 022B     		cmp	r3, #2
 941 0030 07D0     		beq	.L54
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 942              		.loc 1 427 0 discriminator 1
 943 0032 7B68     		ldr	r3, [r7, #4]
 944 0034 03F50063 		add	r3, r3, #2048
 945 0038 9B68     		ldr	r3, [r3, #8]
 946 003a 03F00603 		and	r3, r3, #6
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_FS_PHY_48MHZ))
 947              		.loc 1 426 0 discriminator 1
 948 003e 062B     		cmp	r3, #6
 949 0040 02D1     		bne	.L55
 950              	.L54:
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_FULL;
 951              		.loc 1 429 0
ARM GAS  /tmp/ccyAKTho.s 			page 25


 952 0042 0323     		movs	r3, #3
 953 0044 FB73     		strb	r3, [r7, #15]
 954 0046 09E0     		b	.L53
 955              	.L55:
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 956              		.loc 1 431 0
 957 0048 7B68     		ldr	r3, [r7, #4]
 958 004a 03F50063 		add	r3, r3, #2048
 959 004e 9B68     		ldr	r3, [r3, #8]
 960 0050 03F00603 		and	r3, r3, #6
 961 0054 042B     		cmp	r3, #4
 962 0056 01D1     		bne	.L53
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USB_OTG_SPEED_LOW;
 963              		.loc 1 433 0
 964 0058 0223     		movs	r3, #2
 965 005a FB73     		strb	r3, [r7, #15]
 966              	.L53:
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 967              		.loc 1 436 0
 968 005c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 969              		.loc 1 437 0
 970 005e 1846     		mov	r0, r3
 971 0060 1437     		adds	r7, r7, #20
 972              	.LCFI54:
 973              		.cfi_def_cfa_offset 4
 974 0062 BD46     		mov	sp, r7
 975              	.LCFI55:
 976              		.cfi_def_cfa_register 13
 977              		@ sp needed
 978 0064 5DF8047B 		ldr	r7, [sp], #4
 979              	.LCFI56:
 980              		.cfi_restore 7
 981              		.cfi_def_cfa_offset 0
 982 0068 7047     		bx	lr
 983              		.cfi_endproc
 984              	.LFE132:
 986              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 987              		.align	1
 988              		.global	USB_ActivateEndpoint
 989              		.syntax unified
 990              		.thumb
 991              		.thumb_func
 992              		.fpu fpv4-sp-d16
 994              	USB_ActivateEndpoint:
 995              	.LFB133:
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/ccyAKTho.s 			page 26


 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 996              		.loc 1 446 0
 997              		.cfi_startproc
 998              		@ args = 0, pretend = 0, frame = 8
 999              		@ frame_needed = 1, uses_anonymous_args = 0
 1000              		@ link register save eliminated.
 1001 0000 80B4     		push	{r7}
 1002              	.LCFI57:
 1003              		.cfi_def_cfa_offset 4
 1004              		.cfi_offset 7, -4
 1005 0002 83B0     		sub	sp, sp, #12
 1006              	.LCFI58:
 1007              		.cfi_def_cfa_offset 16
 1008 0004 00AF     		add	r7, sp, #0
 1009              	.LCFI59:
 1010              		.cfi_def_cfa_register 7
 1011 0006 7860     		str	r0, [r7, #4]
 1012 0008 3960     		str	r1, [r7]
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1013              		.loc 1 447 0
 1014 000a 3B68     		ldr	r3, [r7]
 1015 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1016 000e 012B     		cmp	r3, #1
 1017 0010 3ED1     		bne	.L58
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num)));
 1018              		.loc 1 449 0
 1019 0012 7B68     		ldr	r3, [r7, #4]
 1020 0014 03F50063 		add	r3, r3, #2048
 1021 0018 1946     		mov	r1, r3
 1022 001a 7B68     		ldr	r3, [r7, #4]
 1023 001c 03F50063 		add	r3, r3, #2048
 1024 0020 DA69     		ldr	r2, [r3, #28]
 1025 0022 3B68     		ldr	r3, [r7]
 1026 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1027 0026 1846     		mov	r0, r3
 1028 0028 0123     		movs	r3, #1
 1029 002a 8340     		lsls	r3, r3, r0
 1030 002c 9BB2     		uxth	r3, r3
 1031 002e 1343     		orrs	r3, r3, r2
 1032 0030 CB61     		str	r3, [r1, #28]
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1033              		.loc 1 451 0
 1034 0032 3B68     		ldr	r3, [r7]
 1035 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1036 0036 5A01     		lsls	r2, r3, #5
 1037 0038 7B68     		ldr	r3, [r7, #4]
 1038 003a 1344     		add	r3, r3, r2
 1039 003c 03F51063 		add	r3, r3, #2304
 1040 0040 1B68     		ldr	r3, [r3]
 1041 0042 03F40043 		and	r3, r3, #32768
 1042 0046 002B     		cmp	r3, #0
 1043 0048 5CD1     		bne	.L60
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) 
ARM GAS  /tmp/ccyAKTho.s 			page 27


 1044              		.loc 1 453 0
 1045 004a 3B68     		ldr	r3, [r7]
 1046 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1047 004e 5A01     		lsls	r2, r3, #5
 1048 0050 7B68     		ldr	r3, [r7, #4]
 1049 0052 1344     		add	r3, r3, r2
 1050 0054 03F51063 		add	r3, r3, #2304
 1051 0058 1846     		mov	r0, r3
 1052 005a 3B68     		ldr	r3, [r7]
 1053 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1054 005e 5A01     		lsls	r2, r3, #5
 1055 0060 7B68     		ldr	r3, [r7, #4]
 1056 0062 1344     		add	r3, r3, r2
 1057 0064 03F51063 		add	r3, r3, #2304
 1058 0068 1A68     		ldr	r2, [r3]
 1059 006a 3B68     		ldr	r3, [r7]
 1060 006c 9B68     		ldr	r3, [r3, #8]
 1061 006e C3F30A03 		ubfx	r3, r3, #0, #11
 1062 0072 3968     		ldr	r1, [r7]
 1063 0074 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1064 0076 8904     		lsls	r1, r1, #18
 1065 0078 0B43     		orrs	r3, r3, r1
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1066              		.loc 1 454 0
 1067 007a 3968     		ldr	r1, [r7]
 1068 007c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1069 007e 8905     		lsls	r1, r1, #22
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1070              		.loc 1 453 0
 1071 0080 0B43     		orrs	r3, r3, r1
 1072 0082 1343     		orrs	r3, r3, r2
 1073 0084 43F08053 		orr	r3, r3, #268435456
 1074 0088 43F40043 		orr	r3, r3, #32768
 1075 008c 0360     		str	r3, [r0]
 1076 008e 39E0     		b	.L60
 1077              	.L58:
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U);
 1078              		.loc 1 459 0
 1079 0090 7B68     		ldr	r3, [r7, #4]
 1080 0092 03F50063 		add	r3, r3, #2048
 1081 0096 1946     		mov	r1, r3
 1082 0098 7B68     		ldr	r3, [r7, #4]
 1083 009a 03F50063 		add	r3, r3, #2048
 1084 009e DA69     		ldr	r2, [r3, #28]
 1085 00a0 3B68     		ldr	r3, [r7]
 1086 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1087 00a4 1846     		mov	r0, r3
 1088 00a6 0123     		movs	r3, #1
 1089 00a8 8340     		lsls	r3, r3, r0
 1090 00aa 1B04     		lsls	r3, r3, #16
 1091 00ac 1343     		orrs	r3, r3, r2
 1092 00ae CB61     		str	r3, [r1, #28]
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      
ARM GAS  /tmp/ccyAKTho.s 			page 28


 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1093              		.loc 1 461 0
 1094 00b0 3B68     		ldr	r3, [r7]
 1095 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1096 00b4 5A01     		lsls	r2, r3, #5
 1097 00b6 7B68     		ldr	r3, [r7, #4]
 1098 00b8 1344     		add	r3, r3, r2
 1099 00ba 03F53063 		add	r3, r3, #2816
 1100 00be 1B68     		ldr	r3, [r3]
 1101 00c0 03F40043 		and	r3, r3, #32768
 1102 00c4 002B     		cmp	r3, #0
 1103 00c6 1DD1     		bne	.L60
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U)
 1104              		.loc 1 463 0
 1105 00c8 3B68     		ldr	r3, [r7]
 1106 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1107 00cc 5A01     		lsls	r2, r3, #5
 1108 00ce 7B68     		ldr	r3, [r7, #4]
 1109 00d0 1344     		add	r3, r3, r2
 1110 00d2 03F53063 		add	r3, r3, #2816
 1111 00d6 1846     		mov	r0, r3
 1112 00d8 3B68     		ldr	r3, [r7]
 1113 00da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1114 00dc 5A01     		lsls	r2, r3, #5
 1115 00de 7B68     		ldr	r3, [r7, #4]
 1116 00e0 1344     		add	r3, r3, r2
 1117 00e2 03F53063 		add	r3, r3, #2816
 1118 00e6 1A68     		ldr	r2, [r3]
 1119 00e8 3B68     		ldr	r3, [r7]
 1120 00ea 9B68     		ldr	r3, [r3, #8]
 1121 00ec C3F30A03 		ubfx	r3, r3, #0, #11
 1122 00f0 3968     		ldr	r1, [r7]
 1123 00f2 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1124 00f4 8904     		lsls	r1, r1, #18
 1125 00f6 0B43     		orrs	r3, r3, r1
 1126 00f8 1343     		orrs	r3, r3, r2
 1127 00fa 43F08053 		orr	r3, r3, #268435456
 1128 00fe 43F40043 		orr	r3, r3, #32768
 1129 0102 0360     		str	r3, [r0]
 1130              	.L60:
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        (USB_OTG_DIEPCTL_SD0PID_SEVNFRM)| (USB_OTG_DOEPCTL_USBAEP));
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1131              		.loc 1 467 0
 1132 0104 0023     		movs	r3, #0
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1133              		.loc 1 468 0
 1134 0106 1846     		mov	r0, r3
 1135 0108 0C37     		adds	r7, r7, #12
 1136              	.LCFI60:
 1137              		.cfi_def_cfa_offset 4
 1138 010a BD46     		mov	sp, r7
 1139              	.LCFI61:
 1140              		.cfi_def_cfa_register 13
 1141              		@ sp needed
ARM GAS  /tmp/ccyAKTho.s 			page 29


 1142 010c 5DF8047B 		ldr	r7, [sp], #4
 1143              	.LCFI62:
 1144              		.cfi_restore 7
 1145              		.cfi_def_cfa_offset 0
 1146 0110 7047     		bx	lr
 1147              		.cfi_endproc
 1148              	.LFE133:
 1150              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1151              		.align	1
 1152              		.global	USB_ActivateDedicatedEndpoint
 1153              		.syntax unified
 1154              		.thumb
 1155              		.thumb_func
 1156              		.fpu fpv4-sp-d16
 1158              	USB_ActivateDedicatedEndpoint:
 1159              	.LFB134:
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1160              		.loc 1 476 0
 1161              		.cfi_startproc
 1162              		@ args = 0, pretend = 0, frame = 8
 1163              		@ frame_needed = 1, uses_anonymous_args = 0
 1164              		@ link register save eliminated.
 1165 0000 80B4     		push	{r7}
 1166              	.LCFI63:
 1167              		.cfi_def_cfa_offset 4
 1168              		.cfi_offset 7, -4
 1169 0002 83B0     		sub	sp, sp, #12
 1170              	.LCFI64:
 1171              		.cfi_def_cfa_offset 16
 1172 0004 00AF     		add	r7, sp, #0
 1173              	.LCFI65:
 1174              		.cfi_def_cfa_register 7
 1175 0006 7860     		str	r0, [r7, #4]
 1176 0008 3960     		str	r1, [r7]
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t debug = 0U;
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1177              		.loc 1 480 0
 1178 000a 3B68     		ldr	r3, [r7]
 1179 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1180 000e 012B     		cmp	r3, #1
 1181 0010 53D1     		bne	.L63
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1182              		.loc 1 482 0
 1183 0012 3B68     		ldr	r3, [r7]
 1184 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1185 0016 5A01     		lsls	r2, r3, #5
 1186 0018 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccyAKTho.s 			page 30


 1187 001a 1344     		add	r3, r3, r2
 1188 001c 03F51063 		add	r3, r3, #2304
 1189 0020 1B68     		ldr	r3, [r3]
 1190 0022 03F40043 		and	r3, r3, #32768
 1191 0026 002B     		cmp	r3, #0
 1192 0028 21D1     		bne	.L64
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) 
 1193              		.loc 1 484 0
 1194 002a 3B68     		ldr	r3, [r7]
 1195 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1196 002e 5A01     		lsls	r2, r3, #5
 1197 0030 7B68     		ldr	r3, [r7, #4]
 1198 0032 1344     		add	r3, r3, r2
 1199 0034 03F51063 		add	r3, r3, #2304
 1200 0038 1846     		mov	r0, r3
 1201 003a 3B68     		ldr	r3, [r7]
 1202 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1203 003e 5A01     		lsls	r2, r3, #5
 1204 0040 7B68     		ldr	r3, [r7, #4]
 1205 0042 1344     		add	r3, r3, r2
 1206 0044 03F51063 		add	r3, r3, #2304
 1207 0048 1A68     		ldr	r2, [r3]
 1208 004a 3B68     		ldr	r3, [r7]
 1209 004c 9B68     		ldr	r3, [r3, #8]
 1210 004e C3F30A03 		ubfx	r3, r3, #0, #11
 1211 0052 3968     		ldr	r1, [r7]
 1212 0054 C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1213 0056 8904     		lsls	r1, r1, #18
 1214 0058 0B43     		orrs	r3, r3, r1
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1215              		.loc 1 485 0
 1216 005a 3968     		ldr	r1, [r7]
 1217 005c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1218 005e 8905     		lsls	r1, r1, #22
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1219              		.loc 1 484 0
 1220 0060 0B43     		orrs	r3, r3, r1
 1221 0062 1343     		orrs	r3, r3, r2
 1222 0064 43F08053 		orr	r3, r3, #268435456
 1223 0068 43F40043 		orr	r3, r3, #32768
 1224 006c 0360     		str	r3, [r0]
 1225              	.L64:
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     debug  |= ((ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ ) | (ep->type << 18U) |\
 1226              		.loc 1 489 0
 1227 006e 3B68     		ldr	r3, [r7]
 1228 0070 9B68     		ldr	r3, [r3, #8]
 1229 0072 C3F30A03 		ubfx	r3, r3, #0, #11
 1230 0076 3A68     		ldr	r2, [r7]
 1231 0078 D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 1232 007a 9204     		lsls	r2, r2, #18
 1233 007c 1343     		orrs	r3, r3, r2
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1234              		.loc 1 490 0
ARM GAS  /tmp/ccyAKTho.s 			page 31


 1235 007e 3A68     		ldr	r2, [r7]
 1236 0080 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1237 0082 9205     		lsls	r2, r2, #22
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DIEPCTL_SD0PID_SEVNFRM) | (USB_OTG_DIEPCTL_USBAEP)); 
 1238              		.loc 1 489 0
 1239 0084 1A43     		orrs	r2, r2, r3
 1240 0086 3F4B     		ldr	r3, .L68
 1241 0088 1B68     		ldr	r3, [r3]
 1242 008a 1343     		orrs	r3, r3, r2
 1243 008c 43F08053 		orr	r3, r3, #268435456
 1244 0090 43F40043 		orr	r3, r3, #32768
 1245 0094 3B4A     		ldr	r2, .L68
 1246 0096 1360     		str	r3, [r2]
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****    USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num)));
 1247              		.loc 1 492 0
 1248 0098 7B68     		ldr	r3, [r7, #4]
 1249 009a 03F50063 		add	r3, r3, #2048
 1250 009e 1946     		mov	r1, r3
 1251 00a0 7B68     		ldr	r3, [r7, #4]
 1252 00a2 03F50063 		add	r3, r3, #2048
 1253 00a6 DA6B     		ldr	r2, [r3, #60]
 1254 00a8 3B68     		ldr	r3, [r7]
 1255 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1256 00ac 1846     		mov	r0, r3
 1257 00ae 0123     		movs	r3, #1
 1258 00b0 8340     		lsls	r3, r3, r0
 1259 00b2 9BB2     		uxth	r3, r3
 1260 00b4 1343     		orrs	r3, r3, r2
 1261 00b6 CB63     		str	r3, [r1, #60]
 1262 00b8 5DE0     		b	.L65
 1263              	.L63:
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1264              		.loc 1 496 0
 1265 00ba 3B68     		ldr	r3, [r7]
 1266 00bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1267 00be 5A01     		lsls	r2, r3, #5
 1268 00c0 7B68     		ldr	r3, [r7, #4]
 1269 00c2 1344     		add	r3, r3, r2
 1270 00c4 03F53063 		add	r3, r3, #2816
 1271 00c8 1B68     		ldr	r3, [r3]
 1272 00ca 03F40043 		and	r3, r3, #32768
 1273 00ce 002B     		cmp	r3, #0
 1274 00d0 41D1     		bne	.L66
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U)
 1275              		.loc 1 498 0
 1276 00d2 3B68     		ldr	r3, [r7]
 1277 00d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1278 00d6 5A01     		lsls	r2, r3, #5
 1279 00d8 7B68     		ldr	r3, [r7, #4]
 1280 00da 1344     		add	r3, r3, r2
 1281 00dc 03F53063 		add	r3, r3, #2816
 1282 00e0 1846     		mov	r0, r3
ARM GAS  /tmp/ccyAKTho.s 			page 32


 1283 00e2 3B68     		ldr	r3, [r7]
 1284 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1285 00e6 5A01     		lsls	r2, r3, #5
 1286 00e8 7B68     		ldr	r3, [r7, #4]
 1287 00ea 1344     		add	r3, r3, r2
 1288 00ec 03F53063 		add	r3, r3, #2816
 1289 00f0 1A68     		ldr	r2, [r3]
 1290 00f2 3B68     		ldr	r3, [r7]
 1291 00f4 9B68     		ldr	r3, [r3, #8]
 1292 00f6 C3F30A03 		ubfx	r3, r3, #0, #11
 1293 00fa 3968     		ldr	r1, [r7]
 1294 00fc C978     		ldrb	r1, [r1, #3]	@ zero_extendqisi2
 1295 00fe 8904     		lsls	r1, r1, #18
 1296 0100 0B43     		orrs	r3, r3, r1
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP));
 1297              		.loc 1 499 0
 1298 0102 3968     		ldr	r1, [r7]
 1299 0104 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1300 0106 8905     		lsls	r1, r1, #22
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP));
 1301              		.loc 1 498 0
 1302 0108 0B43     		orrs	r3, r3, r1
 1303 010a 1343     		orrs	r3, r3, r2
 1304 010c 43F40043 		orr	r3, r3, #32768
 1305 0110 0360     		str	r3, [r0]
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t)(((uint32_t )USBx) + USB_OTG_OUT_ENDPOINT_BASE + (0U)*USB_OTG_EP_REG_SIZE);
 1306              		.loc 1 501 0
 1307 0112 7B68     		ldr	r3, [r7, #4]
 1308 0114 03F53063 		add	r3, r3, #2816
 1309 0118 1A4A     		ldr	r2, .L68
 1310 011a 1360     		str	r3, [r2]
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug = (uint32_t )&USBx_OUTEP(ep->num)->DOEPCTL;
 1311              		.loc 1 502 0
 1312 011c 3B68     		ldr	r3, [r7]
 1313 011e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1314 0120 5A01     		lsls	r2, r3, #5
 1315 0122 7B68     		ldr	r3, [r7, #4]
 1316 0124 1344     		add	r3, r3, r2
 1317 0126 03F53063 		add	r3, r3, #2816
 1318 012a 1A46     		mov	r2, r3
 1319 012c 154B     		ldr	r3, .L68
 1320 012e 1A60     		str	r2, [r3]
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U) |\
 1321              		.loc 1 503 0
 1322 0130 3B68     		ldr	r3, [r7]
 1323 0132 9B68     		ldr	r3, [r3, #8]
 1324 0134 C3F30A03 		ubfx	r3, r3, #0, #11
 1325 0138 3A68     		ldr	r2, [r7]
 1326 013a D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 1327 013c 9204     		lsls	r2, r2, #18
 1328 013e 1343     		orrs	r3, r3, r2
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ((ep->num) << 22U) | (USB_OTG_DOEPCTL_USBAEP)); 
 1329              		.loc 1 504 0
 1330 0140 3A68     		ldr	r2, [r7]
 1331 0142 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1332 0144 9205     		lsls	r2, r2, #22
ARM GAS  /tmp/ccyAKTho.s 			page 33


 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       debug |= ((ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ ) | (ep->type << 18U) |\
 1333              		.loc 1 503 0
 1334 0146 1A43     		orrs	r2, r2, r3
 1335 0148 0E4B     		ldr	r3, .L68
 1336 014a 1B68     		ldr	r3, [r3]
 1337 014c 1343     		orrs	r3, r3, r2
 1338 014e 43F40043 		orr	r3, r3, #32768
 1339 0152 0C4A     		ldr	r2, .L68
 1340 0154 1360     		str	r3, [r2]
 1341              	.L66:
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U);
 1342              		.loc 1 507 0
 1343 0156 7B68     		ldr	r3, [r7, #4]
 1344 0158 03F50063 		add	r3, r3, #2048
 1345 015c 1946     		mov	r1, r3
 1346 015e 7B68     		ldr	r3, [r7, #4]
 1347 0160 03F50063 		add	r3, r3, #2048
 1348 0164 DA6B     		ldr	r2, [r3, #60]
 1349 0166 3B68     		ldr	r3, [r7]
 1350 0168 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1351 016a 1846     		mov	r0, r3
 1352 016c 0123     		movs	r3, #1
 1353 016e 8340     		lsls	r3, r3, r0
 1354 0170 1B04     		lsls	r3, r3, #16
 1355 0172 1343     		orrs	r3, r3, r2
 1356 0174 CB63     		str	r3, [r1, #60]
 1357              	.L65:
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1358              		.loc 1 510 0
 1359 0176 0023     		movs	r3, #0
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1360              		.loc 1 511 0
 1361 0178 1846     		mov	r0, r3
 1362 017a 0C37     		adds	r7, r7, #12
 1363              	.LCFI66:
 1364              		.cfi_def_cfa_offset 4
 1365 017c BD46     		mov	sp, r7
 1366              	.LCFI67:
 1367              		.cfi_def_cfa_register 13
 1368              		@ sp needed
 1369 017e 5DF8047B 		ldr	r7, [sp], #4
 1370              	.LCFI68:
 1371              		.cfi_restore 7
 1372              		.cfi_def_cfa_offset 0
 1373 0182 7047     		bx	lr
 1374              	.L69:
 1375              		.align	2
 1376              	.L68:
 1377 0184 00000000 		.word	debug.9202
 1378              		.cfi_endproc
 1379              	.LFE134:
 1381              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1382              		.align	1
ARM GAS  /tmp/ccyAKTho.s 			page 34


 1383              		.global	USB_DeactivateEndpoint
 1384              		.syntax unified
 1385              		.thumb
 1386              		.thumb_func
 1387              		.fpu fpv4-sp-d16
 1389              	USB_DeactivateEndpoint:
 1390              	.LFB135:
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1391              		.loc 1 519 0
 1392              		.cfi_startproc
 1393              		@ args = 0, pretend = 0, frame = 16
 1394              		@ frame_needed = 1, uses_anonymous_args = 0
 1395 0000 80B5     		push	{r7, lr}
 1396              	.LCFI69:
 1397              		.cfi_def_cfa_offset 8
 1398              		.cfi_offset 7, -8
 1399              		.cfi_offset 14, -4
 1400 0002 84B0     		sub	sp, sp, #16
 1401              	.LCFI70:
 1402              		.cfi_def_cfa_offset 24
 1403 0004 00AF     		add	r7, sp, #0
 1404              	.LCFI71:
 1405              		.cfi_def_cfa_register 7
 1406 0006 7860     		str	r0, [r7, #4]
 1407 0008 3960     		str	r1, [r7]
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 1408              		.loc 1 520 0
 1409 000a 0023     		movs	r3, #0
 1410 000c FB60     		str	r3, [r7, #12]
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the IN endpoint */
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1411              		.loc 1 523 0
 1412 000e 3B68     		ldr	r3, [r7]
 1413 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1414 0012 012B     		cmp	r3, #1
 1415 0014 54D1     		bne	.L71
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_USBAEP;  
 1416              		.loc 1 525 0
 1417 0016 3B68     		ldr	r3, [r7]
 1418 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1419 001a 5A01     		lsls	r2, r3, #5
 1420 001c 7B68     		ldr	r3, [r7, #4]
 1421 001e 1344     		add	r3, r3, r2
 1422 0020 03F51063 		add	r3, r3, #2304
 1423 0024 1946     		mov	r1, r3
 1424 0026 3B68     		ldr	r3, [r7]
 1425 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1426 002a 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccyAKTho.s 			page 35


 1427 002c 7B68     		ldr	r3, [r7, #4]
 1428 002e 1344     		add	r3, r3, r2
 1429 0030 03F51063 		add	r3, r3, #2304
 1430 0034 1B68     		ldr	r3, [r3]
 1431 0036 23F40043 		bic	r3, r3, #32768
 1432 003a 0B60     		str	r3, [r1]
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the IN endpoint */
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 1433              		.loc 1 528 0
 1434 003c 3B68     		ldr	r3, [r7]
 1435 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1436 0040 5A01     		lsls	r2, r3, #5
 1437 0042 7B68     		ldr	r3, [r7, #4]
 1438 0044 1344     		add	r3, r3, r2
 1439 0046 03F51063 		add	r3, r3, #2304
 1440 004a 1A46     		mov	r2, r3
 1441 004c 4FF00063 		mov	r3, #134217728
 1442 0050 1360     		str	r3, [r2]
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable IN endpoint */
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS;
 1443              		.loc 1 531 0
 1444 0052 3B68     		ldr	r3, [r7]
 1445 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1446 0056 5A01     		lsls	r2, r3, #5
 1447 0058 7B68     		ldr	r3, [r7, #4]
 1448 005a 1344     		add	r3, r3, r2
 1449 005c 03F51063 		add	r3, r3, #2304
 1450 0060 1A46     		mov	r2, r3
 1451 0062 4FF08043 		mov	r3, #1073741824
 1452 0066 1360     		str	r3, [r2]
 1453              	.L74:
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 1454              		.loc 1 535 0
 1455 0068 FB68     		ldr	r3, [r7, #12]
 1456 006a 0133     		adds	r3, r3, #1
 1457 006c FB60     		str	r3, [r7, #12]
 1458 006e FB68     		ldr	r3, [r7, #12]
 1459 0070 434A     		ldr	r2, .L78
 1460 0072 9342     		cmp	r3, r2
 1461 0074 01D9     		bls	.L72
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 1462              		.loc 1 537 0
 1463 0076 0323     		movs	r3, #3
 1464 0078 7DE0     		b	.L73
 1465              	.L72:
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_INEP(ep->num)->DIEPINT & USB_OTG_DIEPCTL_EPDIS) == USB_OTG_DIEPCTL_EPDIS);
 1466              		.loc 1 542 0
ARM GAS  /tmp/ccyAKTho.s 			page 36


 1467 007a 3B68     		ldr	r3, [r7]
 1468 007c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1469 007e 5A01     		lsls	r2, r3, #5
 1470 0080 7B68     		ldr	r3, [r7, #4]
 1471 0082 1344     		add	r3, r3, r2
 1472 0084 03F51063 		add	r3, r3, #2304
 1473 0088 9B68     		ldr	r3, [r3, #8]
 1474 008a 03F08043 		and	r3, r3, #1073741824
 1475 008e B3F1804F 		cmp	r3, #1073741824
 1476 0092 E9D0     		beq	.L74
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush any data remaining in the TxFIFO */
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_FlushTxFifo(USBx , 0x10U);
 1477              		.loc 1 546 0
 1478 0094 1021     		movs	r1, #16
 1479 0096 7868     		ldr	r0, [r7, #4]
 1480 0098 FFF7FEFF 		bl	USB_FlushTxFifo
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));   
 1481              		.loc 1 549 0
 1482 009c 7B68     		ldr	r3, [r7, #4]
 1483 009e 03F50063 		add	r3, r3, #2048
 1484 00a2 1946     		mov	r1, r3
 1485 00a4 7B68     		ldr	r3, [r7, #4]
 1486 00a6 03F50063 		add	r3, r3, #2048
 1487 00aa DA69     		ldr	r2, [r3, #28]
 1488 00ac 3B68     		ldr	r3, [r7]
 1489 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1490 00b0 1846     		mov	r0, r3
 1491 00b2 0123     		movs	r3, #1
 1492 00b4 8340     		lsls	r3, r3, r0
 1493 00b6 9BB2     		uxth	r3, r3
 1494 00b8 DB43     		mvns	r3, r3
 1495 00ba 1340     		ands	r3, r3, r2
 1496 00bc CB61     		str	r3, [r1, #28]
 1497 00be 59E0     		b	.L75
 1498              	.L71:
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* Disable the OUT endpoint */
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;  
 1499              		.loc 1 555 0
 1500 00c0 3B68     		ldr	r3, [r7]
 1501 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1502 00c4 5A01     		lsls	r2, r3, #5
 1503 00c6 7B68     		ldr	r3, [r7, #4]
 1504 00c8 1344     		add	r3, r3, r2
 1505 00ca 03F53063 		add	r3, r3, #2816
 1506 00ce 1946     		mov	r1, r3
 1507 00d0 3B68     		ldr	r3, [r7]
 1508 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1509 00d4 5A01     		lsls	r2, r3, #5
 1510 00d6 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccyAKTho.s 			page 37


 1511 00d8 1344     		add	r3, r3, r2
 1512 00da 03F53063 		add	r3, r3, #2816
 1513 00de 1B68     		ldr	r3, [r3]
 1514 00e0 23F40043 		bic	r3, r3, #32768
 1515 00e4 0B60     		str	r3, [r1]
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the OUT endpoint */
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 1516              		.loc 1 558 0
 1517 00e6 3B68     		ldr	r3, [r7]
 1518 00e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1519 00ea 5A01     		lsls	r2, r3, #5
 1520 00ec 7B68     		ldr	r3, [r7, #4]
 1521 00ee 1344     		add	r3, r3, r2
 1522 00f0 03F53063 		add	r3, r3, #2816
 1523 00f4 1A46     		mov	r2, r3
 1524 00f6 4FF00063 		mov	r3, #134217728
 1525 00fa 1360     		str	r3, [r2]
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable OUT endpoint */
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS;
 1526              		.loc 1 561 0
 1527 00fc 3B68     		ldr	r3, [r7]
 1528 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1529 0100 5A01     		lsls	r2, r3, #5
 1530 0102 7B68     		ldr	r3, [r7, #4]
 1531 0104 1344     		add	r3, r3, r2
 1532 0106 03F53063 		add	r3, r3, #2816
 1533 010a 1A46     		mov	r2, r3
 1534 010c 4FF08043 		mov	r3, #1073741824
 1535 0110 1360     		str	r3, [r2]
 1536              	.L77:
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 1537              		.loc 1 565 0
 1538 0112 FB68     		ldr	r3, [r7, #12]
 1539 0114 0133     		adds	r3, r3, #1
 1540 0116 FB60     		str	r3, [r7, #12]
 1541 0118 FB68     		ldr	r3, [r7, #12]
 1542 011a 194A     		ldr	r2, .L78
 1543 011c 9342     		cmp	r3, r2
 1544 011e 01D9     		bls	.L76
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 1545              		.loc 1 567 0
 1546 0120 0323     		movs	r3, #3
 1547 0122 28E0     		b	.L73
 1548              	.L76:
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_OUTEP(ep->num)->DOEPINT & USB_OTG_DOEPINT_OTEPDIS) == USB_OTG_DOEPINT_OTEPDIS);
 1549              		.loc 1 572 0
 1550 0124 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccyAKTho.s 			page 38


 1551 0126 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1552 0128 5A01     		lsls	r2, r3, #5
 1553 012a 7B68     		ldr	r3, [r7, #4]
 1554 012c 1344     		add	r3, r3, r2
 1555 012e 03F53063 		add	r3, r3, #2816
 1556 0132 9B68     		ldr	r3, [r3, #8]
 1557 0134 03F01003 		and	r3, r3, #16
 1558 0138 102B     		cmp	r3, #16
 1559 013a EAD0     		beq	.L77
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set the "Clear the Global OUT NAK bit" to disable global OUT NAK mode */
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGONAK;
 1560              		.loc 1 575 0
 1561 013c 7B68     		ldr	r3, [r7, #4]
 1562 013e 03F50063 		add	r3, r3, #2048
 1563 0142 1A46     		mov	r2, r3
 1564 0144 7B68     		ldr	r3, [r7, #4]
 1565 0146 03F50063 		add	r3, r3, #2048
 1566 014a 5B68     		ldr	r3, [r3, #4]
 1567 014c 43F48063 		orr	r3, r3, #1024
 1568 0150 5360     		str	r3, [r2, #4]
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));         
 1569              		.loc 1 578 0
 1570 0152 7B68     		ldr	r3, [r7, #4]
 1571 0154 03F50063 		add	r3, r3, #2048
 1572 0158 1946     		mov	r1, r3
 1573 015a 7B68     		ldr	r3, [r7, #4]
 1574 015c 03F50063 		add	r3, r3, #2048
 1575 0160 DA69     		ldr	r2, [r3, #28]
 1576 0162 3B68     		ldr	r3, [r7]
 1577 0164 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1578 0166 1846     		mov	r0, r3
 1579 0168 0123     		movs	r3, #1
 1580 016a 8340     		lsls	r3, r3, r0
 1581 016c 1B04     		lsls	r3, r3, #16
 1582 016e DB43     		mvns	r3, r3
 1583 0170 1340     		ands	r3, r3, r2
 1584 0172 CB61     		str	r3, [r1, #28]
 1585              	.L75:
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1586              		.loc 1 580 0
 1587 0174 0023     		movs	r3, #0
 1588              	.L73:
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1589              		.loc 1 581 0
 1590 0176 1846     		mov	r0, r3
 1591 0178 1037     		adds	r7, r7, #16
 1592              	.LCFI72:
 1593              		.cfi_def_cfa_offset 8
 1594 017a BD46     		mov	sp, r7
 1595              	.LCFI73:
 1596              		.cfi_def_cfa_register 13
 1597              		@ sp needed
 1598 017c 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccyAKTho.s 			page 39


 1599              	.L79:
 1600 017e 00BF     		.align	2
 1601              	.L78:
 1602 0180 400D0300 		.word	200000
 1603              		.cfi_endproc
 1604              	.LFE135:
 1606              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 1607              		.align	1
 1608              		.global	USB_DeactivateDedicatedEndpoint
 1609              		.syntax unified
 1610              		.thumb
 1611              		.thumb_func
 1612              		.fpu fpv4-sp-d16
 1614              	USB_DeactivateDedicatedEndpoint:
 1615              	.LFB136:
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1616              		.loc 1 590 0
 1617              		.cfi_startproc
 1618              		@ args = 0, pretend = 0, frame = 16
 1619              		@ frame_needed = 1, uses_anonymous_args = 0
 1620 0000 80B5     		push	{r7, lr}
 1621              	.LCFI74:
 1622              		.cfi_def_cfa_offset 8
 1623              		.cfi_offset 7, -8
 1624              		.cfi_offset 14, -4
 1625 0002 84B0     		sub	sp, sp, #16
 1626              	.LCFI75:
 1627              		.cfi_def_cfa_offset 24
 1628 0004 00AF     		add	r7, sp, #0
 1629              	.LCFI76:
 1630              		.cfi_def_cfa_register 7
 1631 0006 7860     		str	r0, [r7, #4]
 1632 0008 3960     		str	r1, [r7]
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 1633              		.loc 1 591 0
 1634 000a 0023     		movs	r3, #0
 1635 000c FB60     		str	r3, [r7, #12]
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the IN endpoint */
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1636              		.loc 1 594 0
 1637 000e 3B68     		ldr	r3, [r7]
 1638 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1639 0012 012B     		cmp	r3, #1
 1640 0014 54D1     		bne	.L81
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_USBAEP;  
 1641              		.loc 1 596 0
 1642 0016 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccyAKTho.s 			page 40


 1643 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1644 001a 5A01     		lsls	r2, r3, #5
 1645 001c 7B68     		ldr	r3, [r7, #4]
 1646 001e 1344     		add	r3, r3, r2
 1647 0020 03F51063 		add	r3, r3, #2304
 1648 0024 1946     		mov	r1, r3
 1649 0026 3B68     		ldr	r3, [r7]
 1650 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1651 002a 5A01     		lsls	r2, r3, #5
 1652 002c 7B68     		ldr	r3, [r7, #4]
 1653 002e 1344     		add	r3, r3, r2
 1654 0030 03F51063 		add	r3, r3, #2304
 1655 0034 1B68     		ldr	r3, [r3]
 1656 0036 23F40043 		bic	r3, r3, #32768
 1657 003a 0B60     		str	r3, [r1]
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the IN endpoint */
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 1658              		.loc 1 599 0
 1659 003c 3B68     		ldr	r3, [r7]
 1660 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1661 0040 5A01     		lsls	r2, r3, #5
 1662 0042 7B68     		ldr	r3, [r7, #4]
 1663 0044 1344     		add	r3, r3, r2
 1664 0046 03F51063 		add	r3, r3, #2304
 1665 004a 1A46     		mov	r2, r3
 1666 004c 4FF00063 		mov	r3, #134217728
 1667 0050 1360     		str	r3, [r2]
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable IN endpoint */
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS;
 1668              		.loc 1 602 0
 1669 0052 3B68     		ldr	r3, [r7]
 1670 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1671 0056 5A01     		lsls	r2, r3, #5
 1672 0058 7B68     		ldr	r3, [r7, #4]
 1673 005a 1344     		add	r3, r3, r2
 1674 005c 03F51063 		add	r3, r3, #2304
 1675 0060 1A46     		mov	r2, r3
 1676 0062 4FF08043 		mov	r3, #1073741824
 1677 0066 1360     		str	r3, [r2]
 1678              	.L84:
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 1679              		.loc 1 606 0
 1680 0068 FB68     		ldr	r3, [r7, #12]
 1681 006a 0133     		adds	r3, r3, #1
 1682 006c FB60     		str	r3, [r7, #12]
 1683 006e FB68     		ldr	r3, [r7, #12]
 1684 0070 434A     		ldr	r2, .L88
 1685 0072 9342     		cmp	r3, r2
 1686 0074 01D9     		bls	.L82
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 1687              		.loc 1 608 0
ARM GAS  /tmp/ccyAKTho.s 			page 41


 1688 0076 0323     		movs	r3, #3
 1689 0078 7DE0     		b	.L83
 1690              	.L82:
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_INEP(ep->num)->DIEPINT & USB_OTG_DIEPCTL_EPDIS) == USB_OTG_DIEPCTL_EPDIS);
 1691              		.loc 1 613 0
 1692 007a 3B68     		ldr	r3, [r7]
 1693 007c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1694 007e 5A01     		lsls	r2, r3, #5
 1695 0080 7B68     		ldr	r3, [r7, #4]
 1696 0082 1344     		add	r3, r3, r2
 1697 0084 03F51063 		add	r3, r3, #2304
 1698 0088 9B68     		ldr	r3, [r3, #8]
 1699 008a 03F08043 		and	r3, r3, #1073741824
 1700 008e B3F1804F 		cmp	r3, #1073741824
 1701 0092 E9D0     		beq	.L84
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush any data remaining in the TxFIFO */
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_FlushTxFifo(USBx , 0x10U);
 1702              		.loc 1 617 0
 1703 0094 1021     		movs	r1, #16
 1704 0096 7868     		ldr	r0, [r7, #4]
 1705 0098 FFF7FEFF 		bl	USB_FlushTxFifo
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & ((1U << (ep->num))));   
 1706              		.loc 1 620 0
 1707 009c 7B68     		ldr	r3, [r7, #4]
 1708 009e 03F50063 		add	r3, r3, #2048
 1709 00a2 1946     		mov	r1, r3
 1710 00a4 7B68     		ldr	r3, [r7, #4]
 1711 00a6 03F50063 		add	r3, r3, #2048
 1712 00aa DA69     		ldr	r2, [r3, #28]
 1713 00ac 3B68     		ldr	r3, [r7]
 1714 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1715 00b0 1846     		mov	r0, r3
 1716 00b2 0123     		movs	r3, #1
 1717 00b4 8340     		lsls	r3, r3, r0
 1718 00b6 9BB2     		uxth	r3, r3
 1719 00b8 DB43     		mvns	r3, r3
 1720 00ba 1340     		ands	r3, r3, r2
 1721 00bc CB61     		str	r3, [r1, #28]
 1722 00be 59E0     		b	.L85
 1723              	.L81:
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* Disable the OUT endpoint */
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;  
 1724              		.loc 1 626 0
 1725 00c0 3B68     		ldr	r3, [r7]
 1726 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccyAKTho.s 			page 42


 1727 00c4 5A01     		lsls	r2, r3, #5
 1728 00c6 7B68     		ldr	r3, [r7, #4]
 1729 00c8 1344     		add	r3, r3, r2
 1730 00ca 03F53063 		add	r3, r3, #2816
 1731 00ce 1946     		mov	r1, r3
 1732 00d0 3B68     		ldr	r3, [r7]
 1733 00d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1734 00d4 5A01     		lsls	r2, r3, #5
 1735 00d6 7B68     		ldr	r3, [r7, #4]
 1736 00d8 1344     		add	r3, r3, r2
 1737 00da 03F53063 		add	r3, r3, #2816
 1738 00de 1B68     		ldr	r3, [r3]
 1739 00e0 23F40043 		bic	r3, r3, #32768
 1740 00e4 0B60     		str	r3, [r1]
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* sets the NAK bit for the OUT endpoint */
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 1741              		.loc 1 629 0
 1742 00e6 3B68     		ldr	r3, [r7]
 1743 00e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1744 00ea 5A01     		lsls	r2, r3, #5
 1745 00ec 7B68     		ldr	r3, [r7, #4]
 1746 00ee 1344     		add	r3, r3, r2
 1747 00f0 03F53063 		add	r3, r3, #2816
 1748 00f4 1A46     		mov	r2, r3
 1749 00f6 4FF00063 		mov	r3, #134217728
 1750 00fa 1360     		str	r3, [r2]
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable OUT endpoint */
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS;
 1751              		.loc 1 632 0
 1752 00fc 3B68     		ldr	r3, [r7]
 1753 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1754 0100 5A01     		lsls	r2, r3, #5
 1755 0102 7B68     		ldr	r3, [r7, #4]
 1756 0104 1344     		add	r3, r3, r2
 1757 0106 03F53063 		add	r3, r3, #2816
 1758 010a 1A46     		mov	r2, r3
 1759 010c 4FF08043 		mov	r3, #1073741824
 1760 0110 1360     		str	r3, [r2]
 1761              	.L87:
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 200000U)
 1762              		.loc 1 636 0
 1763 0112 FB68     		ldr	r3, [r7, #12]
 1764 0114 0133     		adds	r3, r3, #1
 1765 0116 FB60     		str	r3, [r7, #12]
 1766 0118 FB68     		ldr	r3, [r7, #12]
 1767 011a 194A     		ldr	r2, .L88
 1768 011c 9342     		cmp	r3, r2
 1769 011e 01D9     		bls	.L86
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         return HAL_TIMEOUT;
 1770              		.loc 1 638 0
 1771 0120 0323     		movs	r3, #3
ARM GAS  /tmp/ccyAKTho.s 			page 43


 1772 0122 28E0     		b	.L83
 1773              	.L86:
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Wait for  EPDISD endpoint disabled interrupt*/ 
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_OUTEP(ep->num)->DOEPINT & USB_OTG_DOEPINT_OTEPDIS) == USB_OTG_DOEPINT_OTEPDIS);
 1774              		.loc 1 643 0
 1775 0124 3B68     		ldr	r3, [r7]
 1776 0126 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1777 0128 5A01     		lsls	r2, r3, #5
 1778 012a 7B68     		ldr	r3, [r7, #4]
 1779 012c 1344     		add	r3, r3, r2
 1780 012e 03F53063 		add	r3, r3, #2816
 1781 0132 9B68     		ldr	r3, [r3, #8]
 1782 0134 03F01003 		and	r3, r3, #16
 1783 0138 102B     		cmp	r3, #16
 1784 013a EAD0     		beq	.L87
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set the "Clear the Global OUT NAK bit" to disable global OUT NAK mode */
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGONAK;
 1785              		.loc 1 646 0
 1786 013c 7B68     		ldr	r3, [r7, #4]
 1787 013e 03F50063 		add	r3, r3, #2048
 1788 0142 1A46     		mov	r2, r3
 1789 0144 7B68     		ldr	r3, [r7, #4]
 1790 0146 03F50063 		add	r3, r3, #2048
 1791 014a 5B68     		ldr	r3, [r3, #4]
 1792 014c 43F48063 		orr	r3, r3, #1024
 1793 0150 5360     		str	r3, [r2, #4]
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Disable endpoint interrupts */
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((1U << (ep->num)) << 16U));         
 1794              		.loc 1 649 0
 1795 0152 7B68     		ldr	r3, [r7, #4]
 1796 0154 03F50063 		add	r3, r3, #2048
 1797 0158 1946     		mov	r1, r3
 1798 015a 7B68     		ldr	r3, [r7, #4]
 1799 015c 03F50063 		add	r3, r3, #2048
 1800 0160 DA69     		ldr	r2, [r3, #28]
 1801 0162 3B68     		ldr	r3, [r7]
 1802 0164 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1803 0166 1846     		mov	r0, r3
 1804 0168 0123     		movs	r3, #1
 1805 016a 8340     		lsls	r3, r3, r0
 1806 016c 1B04     		lsls	r3, r3, #16
 1807 016e DB43     		mvns	r3, r3
 1808 0170 1340     		ands	r3, r3, r2
 1809 0172 CB61     		str	r3, [r1, #28]
 1810              	.L85:
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1811              		.loc 1 651 0
 1812 0174 0023     		movs	r3, #0
 1813              	.L83:
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccyAKTho.s 			page 44


 1814              		.loc 1 653 0
 1815 0176 1846     		mov	r0, r3
 1816 0178 1037     		adds	r7, r7, #16
 1817              	.LCFI77:
 1818              		.cfi_def_cfa_offset 8
 1819 017a BD46     		mov	sp, r7
 1820              	.LCFI78:
 1821              		.cfi_def_cfa_register 13
 1822              		@ sp needed
 1823 017c 80BD     		pop	{r7, pc}
 1824              	.L89:
 1825 017e 00BF     		.align	2
 1826              	.L88:
 1827 0180 400D0300 		.word	200000
 1828              		.cfi_endproc
 1829              	.LFE136:
 1831              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1832              		.align	1
 1833              		.global	USB_EPStartXfer
 1834              		.syntax unified
 1835              		.thumb
 1836              		.thumb_func
 1837              		.fpu fpv4-sp-d16
 1839              	USB_EPStartXfer:
 1840              	.LFB137:
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep, uint8_t dma)
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1841              		.loc 1 666 0
 1842              		.cfi_startproc
 1843              		@ args = 0, pretend = 0, frame = 24
 1844              		@ frame_needed = 1, uses_anonymous_args = 0
 1845 0000 80B5     		push	{r7, lr}
 1846              	.LCFI79:
 1847              		.cfi_def_cfa_offset 8
 1848              		.cfi_offset 7, -8
 1849              		.cfi_offset 14, -4
 1850 0002 88B0     		sub	sp, sp, #32
 1851              	.LCFI80:
 1852              		.cfi_def_cfa_offset 40
 1853 0004 02AF     		add	r7, sp, #8
 1854              	.LCFI81:
 1855              		.cfi_def_cfa 7, 32
 1856 0006 F860     		str	r0, [r7, #12]
 1857 0008 B960     		str	r1, [r7, #8]
 1858 000a 1346     		mov	r3, r2
 1859 000c FB71     		strb	r3, [r7, #7]
ARM GAS  /tmp/ccyAKTho.s 			page 45


 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt = 0U;
 1860              		.loc 1 667 0
 1861 000e 0023     		movs	r3, #0
 1862 0010 FB82     		strh	r3, [r7, #22]	@ movhi
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1863              		.loc 1 670 0
 1864 0012 BB68     		ldr	r3, [r7, #8]
 1865 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1866 0016 012B     		cmp	r3, #1
 1867 0018 40F04681 		bne	.L91
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 1868              		.loc 1 673 0
 1869 001c BB68     		ldr	r3, [r7, #8]
 1870 001e 5B69     		ldr	r3, [r3, #20]
 1871 0020 002B     		cmp	r3, #0
 1872 0022 3BD1     		bne	.L92
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 1873              		.loc 1 675 0
 1874 0024 BB68     		ldr	r3, [r7, #8]
 1875 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1876 0028 5A01     		lsls	r2, r3, #5
 1877 002a FB68     		ldr	r3, [r7, #12]
 1878 002c 1344     		add	r3, r3, r2
 1879 002e 03F51063 		add	r3, r3, #2304
 1880 0032 1946     		mov	r1, r3
 1881 0034 BB68     		ldr	r3, [r7, #8]
 1882 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1883 0038 5A01     		lsls	r2, r3, #5
 1884 003a FB68     		ldr	r3, [r7, #12]
 1885 003c 1344     		add	r3, r3, r2
 1886 003e 03F51063 		add	r3, r3, #2304
 1887 0042 1B69     		ldr	r3, [r3, #16]
 1888 0044 23F0FF53 		bic	r3, r3, #534773760
 1889 0048 23F4C013 		bic	r3, r3, #1572864
 1890 004c 0B61     		str	r3, [r1, #16]
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 1891              		.loc 1 676 0
 1892 004e BB68     		ldr	r3, [r7, #8]
 1893 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1894 0052 5A01     		lsls	r2, r3, #5
 1895 0054 FB68     		ldr	r3, [r7, #12]
 1896 0056 1344     		add	r3, r3, r2
 1897 0058 03F51063 		add	r3, r3, #2304
 1898 005c 1946     		mov	r1, r3
 1899 005e BB68     		ldr	r3, [r7, #8]
 1900 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1901 0062 5A01     		lsls	r2, r3, #5
 1902 0064 FB68     		ldr	r3, [r7, #12]
 1903 0066 1344     		add	r3, r3, r2
 1904 0068 03F51063 		add	r3, r3, #2304
 1905 006c 1B69     		ldr	r3, [r3, #16]
 1906 006e 43F40023 		orr	r3, r3, #524288
ARM GAS  /tmp/ccyAKTho.s 			page 46


 1907 0072 0B61     		str	r3, [r1, #16]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 1908              		.loc 1 677 0
 1909 0074 BB68     		ldr	r3, [r7, #8]
 1910 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1911 0078 5A01     		lsls	r2, r3, #5
 1912 007a FB68     		ldr	r3, [r7, #12]
 1913 007c 1344     		add	r3, r3, r2
 1914 007e 03F51063 		add	r3, r3, #2304
 1915 0082 1946     		mov	r1, r3
 1916 0084 BB68     		ldr	r3, [r7, #8]
 1917 0086 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1918 0088 5A01     		lsls	r2, r3, #5
 1919 008a FB68     		ldr	r3, [r7, #12]
 1920 008c 1344     		add	r3, r3, r2
 1921 008e 03F51063 		add	r3, r3, #2304
 1922 0092 1B69     		ldr	r3, [r3, #16]
 1923 0094 DB0C     		lsrs	r3, r3, #19
 1924 0096 DB04     		lsls	r3, r3, #19
 1925 0098 0B61     		str	r3, [r1, #16]
 1926 009a 86E0     		b	.L93
 1927              	.L92:
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 1928              		.loc 1 686 0
 1929 009c BB68     		ldr	r3, [r7, #8]
 1930 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1931 00a0 5A01     		lsls	r2, r3, #5
 1932 00a2 FB68     		ldr	r3, [r7, #12]
 1933 00a4 1344     		add	r3, r3, r2
 1934 00a6 03F51063 		add	r3, r3, #2304
 1935 00aa 1946     		mov	r1, r3
 1936 00ac BB68     		ldr	r3, [r7, #8]
 1937 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1938 00b0 5A01     		lsls	r2, r3, #5
 1939 00b2 FB68     		ldr	r3, [r7, #12]
 1940 00b4 1344     		add	r3, r3, r2
 1941 00b6 03F51063 		add	r3, r3, #2304
 1942 00ba 1B69     		ldr	r3, [r3, #16]
 1943 00bc DB0C     		lsrs	r3, r3, #19
 1944 00be DB04     		lsls	r3, r3, #19
 1945 00c0 0B61     		str	r3, [r1, #16]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 1946              		.loc 1 687 0
 1947 00c2 BB68     		ldr	r3, [r7, #8]
 1948 00c4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1949 00c6 5A01     		lsls	r2, r3, #5
 1950 00c8 FB68     		ldr	r3, [r7, #12]
 1951 00ca 1344     		add	r3, r3, r2
 1952 00cc 03F51063 		add	r3, r3, #2304
ARM GAS  /tmp/ccyAKTho.s 			page 47


 1953 00d0 1946     		mov	r1, r3
 1954 00d2 BB68     		ldr	r3, [r7, #8]
 1955 00d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1956 00d6 5A01     		lsls	r2, r3, #5
 1957 00d8 FB68     		ldr	r3, [r7, #12]
 1958 00da 1344     		add	r3, r3, r2
 1959 00dc 03F51063 		add	r3, r3, #2304
 1960 00e0 1B69     		ldr	r3, [r3, #16]
 1961 00e2 23F0FF53 		bic	r3, r3, #534773760
 1962 00e6 23F4C013 		bic	r3, r3, #1572864
 1963 00ea 0B61     		str	r3, [r1, #16]
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket -1
 1964              		.loc 1 688 0
 1965 00ec BB68     		ldr	r3, [r7, #8]
 1966 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1967 00f0 5A01     		lsls	r2, r3, #5
 1968 00f2 FB68     		ldr	r3, [r7, #12]
 1969 00f4 1344     		add	r3, r3, r2
 1970 00f6 03F51063 		add	r3, r3, #2304
 1971 00fa 1846     		mov	r0, r3
 1972 00fc BB68     		ldr	r3, [r7, #8]
 1973 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1974 0100 5A01     		lsls	r2, r3, #5
 1975 0102 FB68     		ldr	r3, [r7, #12]
 1976 0104 1344     		add	r3, r3, r2
 1977 0106 03F51063 		add	r3, r3, #2304
 1978 010a 1A69     		ldr	r2, [r3, #16]
 1979 010c BB68     		ldr	r3, [r7, #8]
 1980 010e 5969     		ldr	r1, [r3, #20]
 1981 0110 BB68     		ldr	r3, [r7, #8]
 1982 0112 9B68     		ldr	r3, [r3, #8]
 1983 0114 0B44     		add	r3, r3, r1
 1984 0116 591E     		subs	r1, r3, #1
 1985 0118 BB68     		ldr	r3, [r7, #8]
 1986 011a 9B68     		ldr	r3, [r3, #8]
 1987 011c B1FBF3F3 		udiv	r3, r1, r3
 1988 0120 D904     		lsls	r1, r3, #19
 1989 0122 8C4B     		ldr	r3, .L106
 1990 0124 0B40     		ands	r3, r3, r1
 1991 0126 1343     		orrs	r3, r3, r2
 1992 0128 0361     		str	r3, [r0, #16]
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 1993              		.loc 1 689 0
 1994 012a BB68     		ldr	r3, [r7, #8]
 1995 012c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1996 012e 5A01     		lsls	r2, r3, #5
 1997 0130 FB68     		ldr	r3, [r7, #12]
 1998 0132 1344     		add	r3, r3, r2
 1999 0134 03F51063 		add	r3, r3, #2304
 2000 0138 1946     		mov	r1, r3
 2001 013a BB68     		ldr	r3, [r7, #8]
 2002 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2003 013e 5A01     		lsls	r2, r3, #5
 2004 0140 FB68     		ldr	r3, [r7, #12]
 2005 0142 1344     		add	r3, r3, r2
 2006 0144 03F51063 		add	r3, r3, #2304
 2007 0148 1A69     		ldr	r2, [r3, #16]
ARM GAS  /tmp/ccyAKTho.s 			page 48


 2008 014a BB68     		ldr	r3, [r7, #8]
 2009 014c 5B69     		ldr	r3, [r3, #20]
 2010 014e C3F31203 		ubfx	r3, r3, #0, #19
 2011 0152 1343     		orrs	r3, r3, r2
 2012 0154 0B61     		str	r3, [r1, #16]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2013              		.loc 1 691 0
 2014 0156 BB68     		ldr	r3, [r7, #8]
 2015 0158 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2016 015a 012B     		cmp	r3, #1
 2017 015c 25D1     		bne	.L93
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT); 
 2018              		.loc 1 693 0
 2019 015e BB68     		ldr	r3, [r7, #8]
 2020 0160 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2021 0162 5A01     		lsls	r2, r3, #5
 2022 0164 FB68     		ldr	r3, [r7, #12]
 2023 0166 1344     		add	r3, r3, r2
 2024 0168 03F51063 		add	r3, r3, #2304
 2025 016c 1946     		mov	r1, r3
 2026 016e BB68     		ldr	r3, [r7, #8]
 2027 0170 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2028 0172 5A01     		lsls	r2, r3, #5
 2029 0174 FB68     		ldr	r3, [r7, #12]
 2030 0176 1344     		add	r3, r3, r2
 2031 0178 03F51063 		add	r3, r3, #2304
 2032 017c 1B69     		ldr	r3, [r3, #16]
 2033 017e 23F0C043 		bic	r3, r3, #1610612736
 2034 0182 0B61     		str	r3, [r1, #16]
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29U)); 
 2035              		.loc 1 694 0
 2036 0184 BB68     		ldr	r3, [r7, #8]
 2037 0186 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2038 0188 5A01     		lsls	r2, r3, #5
 2039 018a FB68     		ldr	r3, [r7, #12]
 2040 018c 1344     		add	r3, r3, r2
 2041 018e 03F51063 		add	r3, r3, #2304
 2042 0192 1946     		mov	r1, r3
 2043 0194 BB68     		ldr	r3, [r7, #8]
 2044 0196 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2045 0198 5A01     		lsls	r2, r3, #5
 2046 019a FB68     		ldr	r3, [r7, #12]
 2047 019c 1344     		add	r3, r3, r2
 2048 019e 03F51063 		add	r3, r3, #2304
 2049 01a2 1B69     		ldr	r3, [r3, #16]
 2050 01a4 43F00053 		orr	r3, r3, #536870912
 2051 01a8 0B61     		str	r3, [r1, #16]
 2052              	.L93:
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }       
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2053              		.loc 1 698 0
 2054 01aa FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2055 01ac 012B     		cmp	r3, #1
ARM GAS  /tmp/ccyAKTho.s 			page 49


 2056 01ae 0BD1     		bne	.L94
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2057              		.loc 1 700 0
 2058 01b0 BB68     		ldr	r3, [r7, #8]
 2059 01b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2060 01b4 5A01     		lsls	r2, r3, #5
 2061 01b6 FB68     		ldr	r3, [r7, #12]
 2062 01b8 1344     		add	r3, r3, r2
 2063 01ba 03F51063 		add	r3, r3, #2304
 2064 01be 1A46     		mov	r2, r3
 2065 01c0 BB68     		ldr	r3, [r7, #8]
 2066 01c2 1B69     		ldr	r3, [r3, #16]
 2067 01c4 5361     		str	r3, [r2, #20]
 2068 01c6 16E0     		b	.L95
 2069              	.L94:
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2070              		.loc 1 704 0
 2071 01c8 BB68     		ldr	r3, [r7, #8]
 2072 01ca DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2073 01cc 012B     		cmp	r3, #1
 2074 01ce 12D0     		beq	.L95
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2075              		.loc 1 707 0
 2076 01d0 BB68     		ldr	r3, [r7, #8]
 2077 01d2 5B69     		ldr	r3, [r3, #20]
 2078 01d4 002B     		cmp	r3, #0
 2079 01d6 0ED0     		beq	.L95
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1U << ep->num;
 2080              		.loc 1 709 0
 2081 01d8 FB68     		ldr	r3, [r7, #12]
 2082 01da 03F50063 		add	r3, r3, #2048
 2083 01de 1946     		mov	r1, r3
 2084 01e0 FB68     		ldr	r3, [r7, #12]
 2085 01e2 03F50063 		add	r3, r3, #2048
 2086 01e6 5A6B     		ldr	r2, [r3, #52]
 2087 01e8 BB68     		ldr	r3, [r7, #8]
 2088 01ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2089 01ec 1846     		mov	r0, r3
 2090 01ee 0123     		movs	r3, #1
 2091 01f0 8340     		lsls	r3, r3, r0
 2092 01f2 1343     		orrs	r3, r3, r2
 2093 01f4 4B63     		str	r3, [r1, #52]
 2094              	.L95:
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2095              		.loc 1 714 0
 2096 01f6 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccyAKTho.s 			page 50


 2097 01f8 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2098 01fa 012B     		cmp	r3, #1
 2099 01fc 2ED1     		bne	.L96
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1U << 8U )) == 0U)
 2100              		.loc 1 716 0
 2101 01fe FB68     		ldr	r3, [r7, #12]
 2102 0200 03F50063 		add	r3, r3, #2048
 2103 0204 9B68     		ldr	r3, [r3, #8]
 2104 0206 03F48073 		and	r3, r3, #256
 2105 020a 002B     		cmp	r3, #0
 2106 020c 13D1     		bne	.L97
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2107              		.loc 1 718 0
 2108 020e BB68     		ldr	r3, [r7, #8]
 2109 0210 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2110 0212 5A01     		lsls	r2, r3, #5
 2111 0214 FB68     		ldr	r3, [r7, #12]
 2112 0216 1344     		add	r3, r3, r2
 2113 0218 03F51063 		add	r3, r3, #2304
 2114 021c 1946     		mov	r1, r3
 2115 021e BB68     		ldr	r3, [r7, #8]
 2116 0220 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2117 0222 5A01     		lsls	r2, r3, #5
 2118 0224 FB68     		ldr	r3, [r7, #12]
 2119 0226 1344     		add	r3, r3, r2
 2120 0228 03F51063 		add	r3, r3, #2304
 2121 022c 1B68     		ldr	r3, [r3]
 2122 022e 43F00053 		orr	r3, r3, #536870912
 2123 0232 0B60     		str	r3, [r1]
 2124 0234 12E0     		b	.L96
 2125              	.L97:
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2126              		.loc 1 722 0
 2127 0236 BB68     		ldr	r3, [r7, #8]
 2128 0238 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2129 023a 5A01     		lsls	r2, r3, #5
 2130 023c FB68     		ldr	r3, [r7, #12]
 2131 023e 1344     		add	r3, r3, r2
 2132 0240 03F51063 		add	r3, r3, #2304
 2133 0244 1946     		mov	r1, r3
 2134 0246 BB68     		ldr	r3, [r7, #8]
 2135 0248 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2136 024a 5A01     		lsls	r2, r3, #5
 2137 024c FB68     		ldr	r3, [r7, #12]
 2138 024e 1344     		add	r3, r3, r2
 2139 0250 03F51063 		add	r3, r3, #2304
 2140 0254 1B68     		ldr	r3, [r3]
 2141 0256 43F08053 		orr	r3, r3, #268435456
 2142 025a 0B60     		str	r3, [r1]
 2143              	.L96:
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
ARM GAS  /tmp/ccyAKTho.s 			page 51


 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2144              		.loc 1 727 0
 2145 025c BB68     		ldr	r3, [r7, #8]
 2146 025e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2147 0260 5A01     		lsls	r2, r3, #5
 2148 0262 FB68     		ldr	r3, [r7, #12]
 2149 0264 1344     		add	r3, r3, r2
 2150 0266 03F51063 		add	r3, r3, #2304
 2151 026a 1946     		mov	r1, r3
 2152 026c BB68     		ldr	r3, [r7, #8]
 2153 026e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2154 0270 5A01     		lsls	r2, r3, #5
 2155 0272 FB68     		ldr	r3, [r7, #12]
 2156 0274 1344     		add	r3, r3, r2
 2157 0276 03F51063 		add	r3, r3, #2304
 2158 027a 1B68     		ldr	r3, [r3]
 2159 027c 43F00443 		orr	r3, r3, #-2080374784
 2160 0280 0B60     		str	r3, [r1]
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2161              		.loc 1 729 0
 2162 0282 BB68     		ldr	r3, [r7, #8]
 2163 0284 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2164 0286 012B     		cmp	r3, #1
 2165 0288 40F0F580 		bne	.L99
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_WritePacket(USBx, ep->xfer_buff, ep->num, ep->xfer_len, dma);   
 2166              		.loc 1 731 0
 2167 028c BB68     		ldr	r3, [r7, #8]
 2168 028e D968     		ldr	r1, [r3, #12]
 2169 0290 BB68     		ldr	r3, [r7, #8]
 2170 0292 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2171 0294 BB68     		ldr	r3, [r7, #8]
 2172 0296 5B69     		ldr	r3, [r3, #20]
 2173 0298 98B2     		uxth	r0, r3
 2174 029a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2175 029c 0093     		str	r3, [sp]
 2176 029e 0346     		mov	r3, r0
 2177 02a0 F868     		ldr	r0, [r7, #12]
 2178 02a2 FFF7FEFF 		bl	USB_WritePacket
 2179 02a6 E6E0     		b	.L99
 2180              	.L91:
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */  
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 2181              		.loc 1 740 0
 2182 02a8 BB68     		ldr	r3, [r7, #8]
 2183 02aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2184 02ac 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccyAKTho.s 			page 52


 2185 02ae FB68     		ldr	r3, [r7, #12]
 2186 02b0 1344     		add	r3, r3, r2
 2187 02b2 03F53063 		add	r3, r3, #2816
 2188 02b6 1946     		mov	r1, r3
 2189 02b8 BB68     		ldr	r3, [r7, #8]
 2190 02ba 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2191 02bc 5A01     		lsls	r2, r3, #5
 2192 02be FB68     		ldr	r3, [r7, #12]
 2193 02c0 1344     		add	r3, r3, r2
 2194 02c2 03F53063 		add	r3, r3, #2816
 2195 02c6 1B69     		ldr	r3, [r3, #16]
 2196 02c8 DB0C     		lsrs	r3, r3, #19
 2197 02ca DB04     		lsls	r3, r3, #19
 2198 02cc 0B61     		str	r3, [r1, #16]
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 2199              		.loc 1 741 0
 2200 02ce BB68     		ldr	r3, [r7, #8]
 2201 02d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2202 02d2 5A01     		lsls	r2, r3, #5
 2203 02d4 FB68     		ldr	r3, [r7, #12]
 2204 02d6 1344     		add	r3, r3, r2
 2205 02d8 03F53063 		add	r3, r3, #2816
 2206 02dc 1946     		mov	r1, r3
 2207 02de BB68     		ldr	r3, [r7, #8]
 2208 02e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2209 02e2 5A01     		lsls	r2, r3, #5
 2210 02e4 FB68     		ldr	r3, [r7, #12]
 2211 02e6 1344     		add	r3, r3, r2
 2212 02e8 03F53063 		add	r3, r3, #2816
 2213 02ec 1B69     		ldr	r3, [r3, #16]
 2214 02ee 23F0FF53 		bic	r3, r3, #534773760
 2215 02f2 23F4C013 		bic	r3, r3, #1572864
 2216 02f6 0B61     		str	r3, [r1, #16]
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2217              		.loc 1 743 0
 2218 02f8 BB68     		ldr	r3, [r7, #8]
 2219 02fa 5B69     		ldr	r3, [r3, #20]
 2220 02fc 002B     		cmp	r3, #0
 2221 02fe 2BD1     		bne	.L100
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2222              		.loc 1 745 0
 2223 0300 BB68     		ldr	r3, [r7, #8]
 2224 0302 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2225 0304 5A01     		lsls	r2, r3, #5
 2226 0306 FB68     		ldr	r3, [r7, #12]
 2227 0308 1344     		add	r3, r3, r2
 2228 030a 03F53063 		add	r3, r3, #2816
 2229 030e 1946     		mov	r1, r3
 2230 0310 BB68     		ldr	r3, [r7, #8]
 2231 0312 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2232 0314 5A01     		lsls	r2, r3, #5
 2233 0316 FB68     		ldr	r3, [r7, #12]
 2234 0318 1344     		add	r3, r3, r2
 2235 031a 03F53063 		add	r3, r3, #2816
 2236 031e 1A69     		ldr	r2, [r3, #16]
ARM GAS  /tmp/ccyAKTho.s 			page 53


 2237 0320 BB68     		ldr	r3, [r7, #8]
 2238 0322 9B68     		ldr	r3, [r3, #8]
 2239 0324 C3F31203 		ubfx	r3, r3, #0, #19
 2240 0328 1343     		orrs	r3, r3, r2
 2241 032a 0B61     		str	r3, [r1, #16]
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 2242              		.loc 1 746 0
 2243 032c BB68     		ldr	r3, [r7, #8]
 2244 032e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2245 0330 5A01     		lsls	r2, r3, #5
 2246 0332 FB68     		ldr	r3, [r7, #12]
 2247 0334 1344     		add	r3, r3, r2
 2248 0336 03F53063 		add	r3, r3, #2816
 2249 033a 1946     		mov	r1, r3
 2250 033c BB68     		ldr	r3, [r7, #8]
 2251 033e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2252 0340 5A01     		lsls	r2, r3, #5
 2253 0342 FB68     		ldr	r3, [r7, #12]
 2254 0344 1344     		add	r3, r3, r2
 2255 0346 03F53063 		add	r3, r3, #2816
 2256 034a 1B69     		ldr	r3, [r3, #16]
 2257 034c 43F40023 		orr	r3, r3, #524288
 2258 0350 0B61     		str	r3, [r1, #16]
 2259 0352 3CE0     		b	.L101
 2260              	.L107:
 2261              		.align	2
 2262              	.L106:
 2263 0354 0000F81F 		.word	536346624
 2264              	.L100:
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (ep->xfer_len + ep->maxpacket -1U)/ ep->maxpacket; 
 2265              		.loc 1 750 0
 2266 0358 BB68     		ldr	r3, [r7, #8]
 2267 035a 5A69     		ldr	r2, [r3, #20]
 2268 035c BB68     		ldr	r3, [r7, #8]
 2269 035e 9B68     		ldr	r3, [r3, #8]
 2270 0360 1344     		add	r3, r3, r2
 2271 0362 5A1E     		subs	r2, r3, #1
 2272 0364 BB68     		ldr	r3, [r7, #8]
 2273 0366 9B68     		ldr	r3, [r3, #8]
 2274 0368 B2FBF3F3 		udiv	r3, r2, r3
 2275 036c FB82     		strh	r3, [r7, #22]	@ movhi
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (pktcnt << 19U));
 2276              		.loc 1 751 0
 2277 036e BB68     		ldr	r3, [r7, #8]
 2278 0370 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2279 0372 5A01     		lsls	r2, r3, #5
 2280 0374 FB68     		ldr	r3, [r7, #12]
 2281 0376 1344     		add	r3, r3, r2
 2282 0378 03F53063 		add	r3, r3, #2816
 2283 037c 1946     		mov	r1, r3
 2284 037e BB68     		ldr	r3, [r7, #8]
 2285 0380 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2286 0382 5A01     		lsls	r2, r3, #5
 2287 0384 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccyAKTho.s 			page 54


 2288 0386 1344     		add	r3, r3, r2
 2289 0388 03F53063 		add	r3, r3, #2816
 2290 038c 1A69     		ldr	r2, [r3, #16]
 2291 038e FB8A     		ldrh	r3, [r7, #22]
 2292 0390 DB04     		lsls	r3, r3, #19
 2293 0392 1846     		mov	r0, r3
 2294 0394 3A4B     		ldr	r3, .L108
 2295 0396 0340     		ands	r3, r3, r0
 2296 0398 1343     		orrs	r3, r3, r2
 2297 039a 0B61     		str	r3, [r1, #16]
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt));
 2298              		.loc 1 752 0
 2299 039c BB68     		ldr	r3, [r7, #8]
 2300 039e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2301 03a0 5A01     		lsls	r2, r3, #5
 2302 03a2 FB68     		ldr	r3, [r7, #12]
 2303 03a4 1344     		add	r3, r3, r2
 2304 03a6 03F53063 		add	r3, r3, #2816
 2305 03aa 1846     		mov	r0, r3
 2306 03ac BB68     		ldr	r3, [r7, #8]
 2307 03ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2308 03b0 5A01     		lsls	r2, r3, #5
 2309 03b2 FB68     		ldr	r3, [r7, #12]
 2310 03b4 1344     		add	r3, r3, r2
 2311 03b6 03F53063 		add	r3, r3, #2816
 2312 03ba 1A69     		ldr	r2, [r3, #16]
 2313 03bc BB68     		ldr	r3, [r7, #8]
 2314 03be 9B68     		ldr	r3, [r3, #8]
 2315 03c0 F98A     		ldrh	r1, [r7, #22]
 2316 03c2 01FB03F3 		mul	r3, r1, r3
 2317 03c6 C3F31203 		ubfx	r3, r3, #0, #19
 2318 03ca 1343     		orrs	r3, r3, r2
 2319 03cc 0361     		str	r3, [r0, #16]
 2320              	.L101:
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2321              		.loc 1 755 0
 2322 03ce FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2323 03d0 012B     		cmp	r3, #1
 2324 03d2 0AD1     		bne	.L102
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPDMA = (uint32_t)ep->xfer_buff;
 2325              		.loc 1 757 0
 2326 03d4 BB68     		ldr	r3, [r7, #8]
 2327 03d6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2328 03d8 5A01     		lsls	r2, r3, #5
 2329 03da FB68     		ldr	r3, [r7, #12]
 2330 03dc 1344     		add	r3, r3, r2
 2331 03de 03F53063 		add	r3, r3, #2816
 2332 03e2 1A46     		mov	r2, r3
 2333 03e4 BB68     		ldr	r3, [r7, #8]
 2334 03e6 DB68     		ldr	r3, [r3, #12]
 2335 03e8 5361     		str	r3, [r2, #20]
 2336              	.L102:
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
ARM GAS  /tmp/ccyAKTho.s 			page 55


 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2337              		.loc 1 760 0
 2338 03ea BB68     		ldr	r3, [r7, #8]
 2339 03ec DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2340 03ee 012B     		cmp	r3, #1
 2341 03f0 2ED1     		bne	.L103
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & ( 1U << 8U )) == 0U)
 2342              		.loc 1 762 0
 2343 03f2 FB68     		ldr	r3, [r7, #12]
 2344 03f4 03F50063 		add	r3, r3, #2048
 2345 03f8 9B68     		ldr	r3, [r3, #8]
 2346 03fa 03F48073 		and	r3, r3, #256
 2347 03fe 002B     		cmp	r3, #0
 2348 0400 13D1     		bne	.L104
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2349              		.loc 1 764 0
 2350 0402 BB68     		ldr	r3, [r7, #8]
 2351 0404 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2352 0406 5A01     		lsls	r2, r3, #5
 2353 0408 FB68     		ldr	r3, [r7, #12]
 2354 040a 1344     		add	r3, r3, r2
 2355 040c 03F53063 		add	r3, r3, #2816
 2356 0410 1946     		mov	r1, r3
 2357 0412 BB68     		ldr	r3, [r7, #8]
 2358 0414 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2359 0416 5A01     		lsls	r2, r3, #5
 2360 0418 FB68     		ldr	r3, [r7, #12]
 2361 041a 1344     		add	r3, r3, r2
 2362 041c 03F53063 		add	r3, r3, #2816
 2363 0420 1B68     		ldr	r3, [r3]
 2364 0422 43F00053 		orr	r3, r3, #536870912
 2365 0426 0B60     		str	r3, [r1]
 2366 0428 12E0     		b	.L103
 2367              	.L104:
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2368              		.loc 1 768 0
 2369 042a BB68     		ldr	r3, [r7, #8]
 2370 042c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2371 042e 5A01     		lsls	r2, r3, #5
 2372 0430 FB68     		ldr	r3, [r7, #12]
 2373 0432 1344     		add	r3, r3, r2
 2374 0434 03F53063 		add	r3, r3, #2816
 2375 0438 1946     		mov	r1, r3
 2376 043a BB68     		ldr	r3, [r7, #8]
 2377 043c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2378 043e 5A01     		lsls	r2, r3, #5
 2379 0440 FB68     		ldr	r3, [r7, #12]
 2380 0442 1344     		add	r3, r3, r2
 2381 0444 03F53063 		add	r3, r3, #2816
 2382 0448 1B68     		ldr	r3, [r3]
 2383 044a 43F08053 		orr	r3, r3, #268435456
 2384 044e 0B60     		str	r3, [r1]
ARM GAS  /tmp/ccyAKTho.s 			page 56


 2385              	.L103:
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2386              		.loc 1 772 0
 2387 0450 BB68     		ldr	r3, [r7, #8]
 2388 0452 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2389 0454 5A01     		lsls	r2, r3, #5
 2390 0456 FB68     		ldr	r3, [r7, #12]
 2391 0458 1344     		add	r3, r3, r2
 2392 045a 03F53063 		add	r3, r3, #2816
 2393 045e 1946     		mov	r1, r3
 2394 0460 BB68     		ldr	r3, [r7, #8]
 2395 0462 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2396 0464 5A01     		lsls	r2, r3, #5
 2397 0466 FB68     		ldr	r3, [r7, #12]
 2398 0468 1344     		add	r3, r3, r2
 2399 046a 03F53063 		add	r3, r3, #2816
 2400 046e 1B68     		ldr	r3, [r3]
 2401 0470 43F00443 		orr	r3, r3, #-2080374784
 2402 0474 0B60     		str	r3, [r1]
 2403              	.L99:
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2404              		.loc 1 774 0
 2405 0476 0023     		movs	r3, #0
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2406              		.loc 1 775 0
 2407 0478 1846     		mov	r0, r3
 2408 047a 1837     		adds	r7, r7, #24
 2409              	.LCFI82:
 2410              		.cfi_def_cfa_offset 8
 2411 047c BD46     		mov	sp, r7
 2412              	.LCFI83:
 2413              		.cfi_def_cfa_register 13
 2414              		@ sp needed
 2415 047e 80BD     		pop	{r7, pc}
 2416              	.L109:
 2417              		.align	2
 2418              	.L108:
 2419 0480 0000F81F 		.word	536346624
 2420              		.cfi_endproc
 2421              	.LFE137:
 2423              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2424              		.align	1
 2425              		.global	USB_EP0StartXfer
 2426              		.syntax unified
 2427              		.thumb
 2428              		.thumb_func
 2429              		.fpu fpv4-sp-d16
 2431              	USB_EP0StartXfer:
 2432              	.LFB138:
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccyAKTho.s 			page 57


 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep, uint8_t dma
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2433              		.loc 1 788 0
 2434              		.cfi_startproc
 2435              		@ args = 0, pretend = 0, frame = 16
 2436              		@ frame_needed = 1, uses_anonymous_args = 0
 2437              		@ link register save eliminated.
 2438 0000 80B4     		push	{r7}
 2439              	.LCFI84:
 2440              		.cfi_def_cfa_offset 4
 2441              		.cfi_offset 7, -4
 2442 0002 85B0     		sub	sp, sp, #20
 2443              	.LCFI85:
 2444              		.cfi_def_cfa_offset 24
 2445 0004 00AF     		add	r7, sp, #0
 2446              	.LCFI86:
 2447              		.cfi_def_cfa_register 7
 2448 0006 F860     		str	r0, [r7, #12]
 2449 0008 B960     		str	r1, [r7, #8]
 2450 000a 1346     		mov	r3, r2
 2451 000c FB71     		strb	r3, [r7, #7]
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2452              		.loc 1 790 0
 2453 000e BB68     		ldr	r3, [r7, #8]
 2454 0010 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2455 0012 012B     		cmp	r3, #1
 2456 0014 40F0D280 		bne	.L111
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2457              		.loc 1 793 0
 2458 0018 BB68     		ldr	r3, [r7, #8]
 2459 001a 5B69     		ldr	r3, [r3, #20]
 2460 001c 002B     		cmp	r3, #0
 2461 001e 3BD1     		bne	.L112
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 2462              		.loc 1 795 0
 2463 0020 BB68     		ldr	r3, [r7, #8]
 2464 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2465 0024 5A01     		lsls	r2, r3, #5
 2466 0026 FB68     		ldr	r3, [r7, #12]
 2467 0028 1344     		add	r3, r3, r2
 2468 002a 03F51063 		add	r3, r3, #2304
 2469 002e 1946     		mov	r1, r3
 2470 0030 BB68     		ldr	r3, [r7, #8]
 2471 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2472 0034 5A01     		lsls	r2, r3, #5
 2473 0036 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccyAKTho.s 			page 58


 2474 0038 1344     		add	r3, r3, r2
 2475 003a 03F51063 		add	r3, r3, #2304
 2476 003e 1B69     		ldr	r3, [r3, #16]
 2477 0040 23F0FF53 		bic	r3, r3, #534773760
 2478 0044 23F4C013 		bic	r3, r3, #1572864
 2479 0048 0B61     		str	r3, [r1, #16]
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 2480              		.loc 1 796 0
 2481 004a BB68     		ldr	r3, [r7, #8]
 2482 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2483 004e 5A01     		lsls	r2, r3, #5
 2484 0050 FB68     		ldr	r3, [r7, #12]
 2485 0052 1344     		add	r3, r3, r2
 2486 0054 03F51063 		add	r3, r3, #2304
 2487 0058 1946     		mov	r1, r3
 2488 005a BB68     		ldr	r3, [r7, #8]
 2489 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2490 005e 5A01     		lsls	r2, r3, #5
 2491 0060 FB68     		ldr	r3, [r7, #12]
 2492 0062 1344     		add	r3, r3, r2
 2493 0064 03F51063 		add	r3, r3, #2304
 2494 0068 1B69     		ldr	r3, [r3, #16]
 2495 006a 43F40023 		orr	r3, r3, #524288
 2496 006e 0B61     		str	r3, [r1, #16]
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ); 
 2497              		.loc 1 797 0
 2498 0070 BB68     		ldr	r3, [r7, #8]
 2499 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2500 0074 5A01     		lsls	r2, r3, #5
 2501 0076 FB68     		ldr	r3, [r7, #12]
 2502 0078 1344     		add	r3, r3, r2
 2503 007a 03F51063 		add	r3, r3, #2304
 2504 007e 1946     		mov	r1, r3
 2505 0080 BB68     		ldr	r3, [r7, #8]
 2506 0082 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2507 0084 5A01     		lsls	r2, r3, #5
 2508 0086 FB68     		ldr	r3, [r7, #12]
 2509 0088 1344     		add	r3, r3, r2
 2510 008a 03F51063 		add	r3, r3, #2304
 2511 008e 1B69     		ldr	r3, [r3, #16]
 2512 0090 DB0C     		lsrs	r3, r3, #19
 2513 0092 DB04     		lsls	r3, r3, #19
 2514 0094 0B61     		str	r3, [r1, #16]
 2515 0096 5AE0     		b	.L113
 2516              	.L112:
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2517              		.loc 1 806 0
 2518 0098 BB68     		ldr	r3, [r7, #8]
 2519 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccyAKTho.s 			page 59


 2520 009c 5A01     		lsls	r2, r3, #5
 2521 009e FB68     		ldr	r3, [r7, #12]
 2522 00a0 1344     		add	r3, r3, r2
 2523 00a2 03F51063 		add	r3, r3, #2304
 2524 00a6 1946     		mov	r1, r3
 2525 00a8 BB68     		ldr	r3, [r7, #8]
 2526 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2527 00ac 5A01     		lsls	r2, r3, #5
 2528 00ae FB68     		ldr	r3, [r7, #12]
 2529 00b0 1344     		add	r3, r3, r2
 2530 00b2 03F51063 		add	r3, r3, #2304
 2531 00b6 1B69     		ldr	r3, [r3, #16]
 2532 00b8 DB0C     		lsrs	r3, r3, #19
 2533 00ba DB04     		lsls	r3, r3, #19
 2534 00bc 0B61     		str	r3, [r1, #16]
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT); 
 2535              		.loc 1 807 0
 2536 00be BB68     		ldr	r3, [r7, #8]
 2537 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2538 00c2 5A01     		lsls	r2, r3, #5
 2539 00c4 FB68     		ldr	r3, [r7, #12]
 2540 00c6 1344     		add	r3, r3, r2
 2541 00c8 03F51063 		add	r3, r3, #2304
 2542 00cc 1946     		mov	r1, r3
 2543 00ce BB68     		ldr	r3, [r7, #8]
 2544 00d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2545 00d2 5A01     		lsls	r2, r3, #5
 2546 00d4 FB68     		ldr	r3, [r7, #12]
 2547 00d6 1344     		add	r3, r3, r2
 2548 00d8 03F51063 		add	r3, r3, #2304
 2549 00dc 1B69     		ldr	r3, [r3, #16]
 2550 00de 23F0FF53 		bic	r3, r3, #534773760
 2551 00e2 23F4C013 		bic	r3, r3, #1572864
 2552 00e6 0B61     		str	r3, [r1, #16]
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if(ep->xfer_len > ep->maxpacket)
 2553              		.loc 1 809 0
 2554 00e8 BB68     		ldr	r3, [r7, #8]
 2555 00ea 5A69     		ldr	r2, [r3, #20]
 2556 00ec BB68     		ldr	r3, [r7, #8]
 2557 00ee 9B68     		ldr	r3, [r3, #8]
 2558 00f0 9A42     		cmp	r2, r3
 2559 00f2 03D9     		bls	.L114
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2560              		.loc 1 811 0
 2561 00f4 BB68     		ldr	r3, [r7, #8]
 2562 00f6 9A68     		ldr	r2, [r3, #8]
 2563 00f8 BB68     		ldr	r3, [r7, #8]
 2564 00fa 5A61     		str	r2, [r3, #20]
 2565              	.L114:
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19U)) ;
 2566              		.loc 1 813 0
 2567 00fc BB68     		ldr	r3, [r7, #8]
 2568 00fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2569 0100 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccyAKTho.s 			page 60


 2570 0102 FB68     		ldr	r3, [r7, #12]
 2571 0104 1344     		add	r3, r3, r2
 2572 0106 03F51063 		add	r3, r3, #2304
 2573 010a 1946     		mov	r1, r3
 2574 010c BB68     		ldr	r3, [r7, #8]
 2575 010e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2576 0110 5A01     		lsls	r2, r3, #5
 2577 0112 FB68     		ldr	r3, [r7, #12]
 2578 0114 1344     		add	r3, r3, r2
 2579 0116 03F51063 		add	r3, r3, #2304
 2580 011a 1B69     		ldr	r3, [r3, #16]
 2581 011c 43F40023 		orr	r3, r3, #524288
 2582 0120 0B61     		str	r3, [r1, #16]
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len); 
 2583              		.loc 1 814 0
 2584 0122 BB68     		ldr	r3, [r7, #8]
 2585 0124 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2586 0126 5A01     		lsls	r2, r3, #5
 2587 0128 FB68     		ldr	r3, [r7, #12]
 2588 012a 1344     		add	r3, r3, r2
 2589 012c 03F51063 		add	r3, r3, #2304
 2590 0130 1946     		mov	r1, r3
 2591 0132 BB68     		ldr	r3, [r7, #8]
 2592 0134 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2593 0136 5A01     		lsls	r2, r3, #5
 2594 0138 FB68     		ldr	r3, [r7, #12]
 2595 013a 1344     		add	r3, r3, r2
 2596 013c 03F51063 		add	r3, r3, #2304
 2597 0140 1A69     		ldr	r2, [r3, #16]
 2598 0142 BB68     		ldr	r3, [r7, #8]
 2599 0144 5B69     		ldr	r3, [r3, #20]
 2600 0146 C3F31203 		ubfx	r3, r3, #0, #19
 2601 014a 1343     		orrs	r3, r3, r2
 2602 014c 0B61     		str	r3, [r1, #16]
 2603              	.L113:
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable, IN data in FIFO */
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);     
 2604              		.loc 1 819 0
 2605 014e BB68     		ldr	r3, [r7, #8]
 2606 0150 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2607 0152 5A01     		lsls	r2, r3, #5
 2608 0154 FB68     		ldr	r3, [r7, #12]
 2609 0156 1344     		add	r3, r3, r2
 2610 0158 03F51063 		add	r3, r3, #2304
 2611 015c 1946     		mov	r1, r3
 2612 015e BB68     		ldr	r3, [r7, #8]
 2613 0160 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2614 0162 5A01     		lsls	r2, r3, #5
 2615 0164 FB68     		ldr	r3, [r7, #12]
 2616 0166 1344     		add	r3, r3, r2
 2617 0168 03F51063 		add	r3, r3, #2304
 2618 016c 1B68     		ldr	r3, [r3]
 2619 016e 43F00443 		orr	r3, r3, #-2080374784
 2620 0172 0B60     		str	r3, [r1]
ARM GAS  /tmp/ccyAKTho.s 			page 61


 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1)
 2621              		.loc 1 821 0
 2622 0174 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2623 0176 012B     		cmp	r3, #1
 2624 0178 0BD1     		bne	.L115
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2625              		.loc 1 823 0
 2626 017a BB68     		ldr	r3, [r7, #8]
 2627 017c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2628 017e 5A01     		lsls	r2, r3, #5
 2629 0180 FB68     		ldr	r3, [r7, #12]
 2630 0182 1344     		add	r3, r3, r2
 2631 0184 03F51063 		add	r3, r3, #2304
 2632 0188 1A46     		mov	r2, r3
 2633 018a BB68     		ldr	r3, [r7, #8]
 2634 018c 1B69     		ldr	r3, [r3, #16]
 2635 018e 5361     		str	r3, [r2, #20]
 2636 0190 8EE0     		b	.L117
 2637              	.L115:
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2638              		.loc 1 828 0
 2639 0192 BB68     		ldr	r3, [r7, #8]
 2640 0194 5B69     		ldr	r3, [r3, #20]
 2641 0196 002B     		cmp	r3, #0
 2642 0198 00F08A80 		beq	.L117
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1U << (ep->num);
 2643              		.loc 1 830 0
 2644 019c FB68     		ldr	r3, [r7, #12]
 2645 019e 03F50063 		add	r3, r3, #2048
 2646 01a2 1946     		mov	r1, r3
 2647 01a4 FB68     		ldr	r3, [r7, #12]
 2648 01a6 03F50063 		add	r3, r3, #2048
 2649 01aa 5A6B     		ldr	r2, [r3, #52]
 2650 01ac BB68     		ldr	r3, [r7, #8]
 2651 01ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2652 01b0 1846     		mov	r0, r3
 2653 01b2 0123     		movs	r3, #1
 2654 01b4 8340     		lsls	r3, r3, r0
 2655 01b6 1343     		orrs	r3, r3, r2
 2656 01b8 4B63     		str	r3, [r1, #52]
 2657 01ba 79E0     		b	.L117
 2658              	.L111:
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
ARM GAS  /tmp/ccyAKTho.s 			page 62


 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ); 
 2659              		.loc 1 841 0
 2660 01bc BB68     		ldr	r3, [r7, #8]
 2661 01be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2662 01c0 5A01     		lsls	r2, r3, #5
 2663 01c2 FB68     		ldr	r3, [r7, #12]
 2664 01c4 1344     		add	r3, r3, r2
 2665 01c6 03F53063 		add	r3, r3, #2816
 2666 01ca 1946     		mov	r1, r3
 2667 01cc BB68     		ldr	r3, [r7, #8]
 2668 01ce 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2669 01d0 5A01     		lsls	r2, r3, #5
 2670 01d2 FB68     		ldr	r3, [r7, #12]
 2671 01d4 1344     		add	r3, r3, r2
 2672 01d6 03F53063 		add	r3, r3, #2816
 2673 01da 1B69     		ldr	r3, [r3, #16]
 2674 01dc DB0C     		lsrs	r3, r3, #19
 2675 01de DB04     		lsls	r3, r3, #19
 2676 01e0 0B61     		str	r3, [r1, #16]
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT); 
 2677              		.loc 1 842 0
 2678 01e2 BB68     		ldr	r3, [r7, #8]
 2679 01e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2680 01e6 5A01     		lsls	r2, r3, #5
 2681 01e8 FB68     		ldr	r3, [r7, #12]
 2682 01ea 1344     		add	r3, r3, r2
 2683 01ec 03F53063 		add	r3, r3, #2816
 2684 01f0 1946     		mov	r1, r3
 2685 01f2 BB68     		ldr	r3, [r7, #8]
 2686 01f4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2687 01f6 5A01     		lsls	r2, r3, #5
 2688 01f8 FB68     		ldr	r3, [r7, #12]
 2689 01fa 1344     		add	r3, r3, r2
 2690 01fc 03F53063 		add	r3, r3, #2816
 2691 0200 1B69     		ldr	r3, [r3, #16]
 2692 0202 23F0FF53 		bic	r3, r3, #534773760
 2693 0206 23F4C013 		bic	r3, r3, #1572864
 2694 020a 0B61     		str	r3, [r1, #16]
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 2695              		.loc 1 844 0
 2696 020c BB68     		ldr	r3, [r7, #8]
 2697 020e 5B69     		ldr	r3, [r3, #20]
 2698 0210 002B     		cmp	r3, #0
 2699 0212 03D0     		beq	.L118
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 2700              		.loc 1 846 0
 2701 0214 BB68     		ldr	r3, [r7, #8]
 2702 0216 9A68     		ldr	r2, [r3, #8]
 2703 0218 BB68     		ldr	r3, [r7, #8]
 2704 021a 5A61     		str	r2, [r3, #20]
 2705              	.L118:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
ARM GAS  /tmp/ccyAKTho.s 			page 63


 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U));
 2706              		.loc 1 849 0
 2707 021c BB68     		ldr	r3, [r7, #8]
 2708 021e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2709 0220 5A01     		lsls	r2, r3, #5
 2710 0222 FB68     		ldr	r3, [r7, #12]
 2711 0224 1344     		add	r3, r3, r2
 2712 0226 03F53063 		add	r3, r3, #2816
 2713 022a 1946     		mov	r1, r3
 2714 022c BB68     		ldr	r3, [r7, #8]
 2715 022e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2716 0230 5A01     		lsls	r2, r3, #5
 2717 0232 FB68     		ldr	r3, [r7, #12]
 2718 0234 1344     		add	r3, r3, r2
 2719 0236 03F53063 		add	r3, r3, #2816
 2720 023a 1B69     		ldr	r3, [r3, #16]
 2721 023c 43F40023 		orr	r3, r3, #524288
 2722 0240 0B61     		str	r3, [r1, #16]
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket)); 
 2723              		.loc 1 850 0
 2724 0242 BB68     		ldr	r3, [r7, #8]
 2725 0244 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2726 0246 5A01     		lsls	r2, r3, #5
 2727 0248 FB68     		ldr	r3, [r7, #12]
 2728 024a 1344     		add	r3, r3, r2
 2729 024c 03F53063 		add	r3, r3, #2816
 2730 0250 1946     		mov	r1, r3
 2731 0252 BB68     		ldr	r3, [r7, #8]
 2732 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2733 0256 5A01     		lsls	r2, r3, #5
 2734 0258 FB68     		ldr	r3, [r7, #12]
 2735 025a 1344     		add	r3, r3, r2
 2736 025c 03F53063 		add	r3, r3, #2816
 2737 0260 1A69     		ldr	r2, [r3, #16]
 2738 0262 BB68     		ldr	r3, [r7, #8]
 2739 0264 9B68     		ldr	r3, [r3, #8]
 2740 0266 C3F31203 		ubfx	r3, r3, #0, #19
 2741 026a 1343     		orrs	r3, r3, r2
 2742 026c 0B61     		str	r3, [r1, #16]
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2743              		.loc 1 853 0
 2744 026e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2745 0270 012B     		cmp	r3, #1
 2746 0272 0AD1     		bne	.L119
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2747              		.loc 1 855 0
 2748 0274 BB68     		ldr	r3, [r7, #8]
 2749 0276 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2750 0278 5A01     		lsls	r2, r3, #5
 2751 027a FB68     		ldr	r3, [r7, #12]
 2752 027c 1344     		add	r3, r3, r2
 2753 027e 03F53063 		add	r3, r3, #2816
 2754 0282 1A46     		mov	r2, r3
 2755 0284 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccyAKTho.s 			page 64


 2756 0286 DB68     		ldr	r3, [r3, #12]
 2757 0288 5361     		str	r3, [r2, #20]
 2758              	.L119:
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);    
 2759              		.loc 1 859 0
 2760 028a BB68     		ldr	r3, [r7, #8]
 2761 028c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2762 028e 5A01     		lsls	r2, r3, #5
 2763 0290 FB68     		ldr	r3, [r7, #12]
 2764 0292 1344     		add	r3, r3, r2
 2765 0294 03F53063 		add	r3, r3, #2816
 2766 0298 1946     		mov	r1, r3
 2767 029a BB68     		ldr	r3, [r7, #8]
 2768 029c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2769 029e 5A01     		lsls	r2, r3, #5
 2770 02a0 FB68     		ldr	r3, [r7, #12]
 2771 02a2 1344     		add	r3, r3, r2
 2772 02a4 03F53063 		add	r3, r3, #2816
 2773 02a8 1B68     		ldr	r3, [r3]
 2774 02aa 43F00443 		orr	r3, r3, #-2080374784
 2775 02ae 0B60     		str	r3, [r1]
 2776              	.L117:
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2777              		.loc 1 861 0
 2778 02b0 0023     		movs	r3, #0
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2779              		.loc 1 862 0
 2780 02b2 1846     		mov	r0, r3
 2781 02b4 1437     		adds	r7, r7, #20
 2782              	.LCFI87:
 2783              		.cfi_def_cfa_offset 4
 2784 02b6 BD46     		mov	sp, r7
 2785              	.LCFI88:
 2786              		.cfi_def_cfa_register 13
 2787              		@ sp needed
 2788 02b8 5DF8047B 		ldr	r7, [sp], #4
 2789              	.LCFI89:
 2790              		.cfi_restore 7
 2791              		.cfi_def_cfa_offset 0
 2792 02bc 7047     		bx	lr
 2793              		.cfi_endproc
 2794              	.LFE138:
 2796              		.section	.text.USB_WritePacket,"ax",%progbits
 2797              		.align	1
 2798              		.global	USB_WritePacket
 2799              		.syntax unified
 2800              		.thumb
 2801              		.thumb_func
 2802              		.fpu fpv4-sp-d16
 2804              	USB_WritePacket:
 2805              	.LFB139:
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccyAKTho.s 			page 65


 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated 
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device           
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2806              		.loc 1 878 0
 2807              		.cfi_startproc
 2808              		@ args = 4, pretend = 0, frame = 24
 2809              		@ frame_needed = 1, uses_anonymous_args = 0
 2810              		@ link register save eliminated.
 2811 0000 80B4     		push	{r7}
 2812              	.LCFI90:
 2813              		.cfi_def_cfa_offset 4
 2814              		.cfi_offset 7, -4
 2815 0002 87B0     		sub	sp, sp, #28
 2816              	.LCFI91:
 2817              		.cfi_def_cfa_offset 32
 2818 0004 00AF     		add	r7, sp, #0
 2819              	.LCFI92:
 2820              		.cfi_def_cfa_register 7
 2821 0006 F860     		str	r0, [r7, #12]
 2822 0008 B960     		str	r1, [r7, #8]
 2823 000a 1146     		mov	r1, r2
 2824 000c 1A46     		mov	r2, r3
 2825 000e 0B46     		mov	r3, r1
 2826 0010 FB71     		strb	r3, [r7, #7]
 2827 0012 1346     		mov	r3, r2	@ movhi
 2828 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = 0U , i = 0U;
 2829              		.loc 1 879 0
 2830 0016 0023     		movs	r3, #0
 2831 0018 3B61     		str	r3, [r7, #16]
 2832 001a 0023     		movs	r3, #0
 2833 001c 7B61     		str	r3, [r7, #20]
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 2834              		.loc 1 881 0
 2835 001e 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 2836 0022 002B     		cmp	r3, #0
 2837 0024 1AD1     		bne	.L122
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b =  (len + 3U) / 4U;
 2838              		.loc 1 883 0
 2839 0026 BB88     		ldrh	r3, [r7, #4]
 2840 0028 0333     		adds	r3, r3, #3
 2841 002a 9B08     		lsrs	r3, r3, #2
 2842 002c 3B61     		str	r3, [r7, #16]
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
ARM GAS  /tmp/ccyAKTho.s 			page 66


 2843              		.loc 1 884 0
 2844 002e 0023     		movs	r3, #0
 2845 0030 7B61     		str	r3, [r7, #20]
 2846 0032 0FE0     		b	.L123
 2847              	.L124:
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO(ch_ep_num) = *((__packed uint32_t *)src);
 2848              		.loc 1 886 0 discriminator 3
 2849 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2850 0036 1A03     		lsls	r2, r3, #12
 2851 0038 FB68     		ldr	r3, [r7, #12]
 2852 003a 1344     		add	r3, r3, r2
 2853 003c 03F58053 		add	r3, r3, #4096
 2854 0040 1A46     		mov	r2, r3
 2855 0042 BB68     		ldr	r3, [r7, #8]
 2856 0044 1B68     		ldr	r3, [r3]
 2857 0046 1360     		str	r3, [r2]
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
 2858              		.loc 1 884 0 discriminator 3
 2859 0048 7B69     		ldr	r3, [r7, #20]
 2860 004a 0133     		adds	r3, r3, #1
 2861 004c 7B61     		str	r3, [r7, #20]
 2862 004e BB68     		ldr	r3, [r7, #8]
 2863 0050 0433     		adds	r3, r3, #4
 2864 0052 BB60     		str	r3, [r7, #8]
 2865              	.L123:
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++, src += 4U)
 2866              		.loc 1 884 0 is_stmt 0 discriminator 1
 2867 0054 7A69     		ldr	r2, [r7, #20]
 2868 0056 3B69     		ldr	r3, [r7, #16]
 2869 0058 9A42     		cmp	r2, r3
 2870 005a EBD3     		bcc	.L124
 2871              	.L122:
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2872              		.loc 1 889 0 is_stmt 1
 2873 005c 0023     		movs	r3, #0
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2874              		.loc 1 890 0
 2875 005e 1846     		mov	r0, r3
 2876 0060 1C37     		adds	r7, r7, #28
 2877              	.LCFI93:
 2878              		.cfi_def_cfa_offset 4
 2879 0062 BD46     		mov	sp, r7
 2880              	.LCFI94:
 2881              		.cfi_def_cfa_register 13
 2882              		@ sp needed
 2883 0064 5DF8047B 		ldr	r7, [sp], #4
 2884              	.LCFI95:
 2885              		.cfi_restore 7
 2886              		.cfi_def_cfa_offset 0
 2887 0068 7047     		bx	lr
 2888              		.cfi_endproc
 2889              	.LFE139:
 2891              		.section	.text.USB_ReadPacket,"ax",%progbits
 2892              		.align	1
ARM GAS  /tmp/ccyAKTho.s 			page 67


 2893              		.global	USB_ReadPacket
 2894              		.syntax unified
 2895              		.thumb
 2896              		.thumb_func
 2897              		.fpu fpv4-sp-d16
 2899              	USB_ReadPacket:
 2900              	.LFB140:
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the Tx FIFO associated 
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device  
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src  source pointer
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2901              		.loc 1 906 0
 2902              		.cfi_startproc
 2903              		@ args = 0, pretend = 0, frame = 24
 2904              		@ frame_needed = 1, uses_anonymous_args = 0
 2905              		@ link register save eliminated.
 2906 0000 80B4     		push	{r7}
 2907              	.LCFI96:
 2908              		.cfi_def_cfa_offset 4
 2909              		.cfi_offset 7, -4
 2910 0002 87B0     		sub	sp, sp, #28
 2911              	.LCFI97:
 2912              		.cfi_def_cfa_offset 32
 2913 0004 00AF     		add	r7, sp, #0
 2914              	.LCFI98:
 2915              		.cfi_def_cfa_register 7
 2916 0006 F860     		str	r0, [r7, #12]
 2917 0008 B960     		str	r1, [r7, #8]
 2918 000a 1346     		mov	r3, r2
 2919 000c FB80     		strh	r3, [r7, #6]	@ movhi
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i=0U;
 2920              		.loc 1 907 0
 2921 000e 0023     		movs	r3, #0
 2922 0010 7B61     		str	r3, [r7, #20]
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = (len + 3U) / 4U;
 2923              		.loc 1 908 0
 2924 0012 FB88     		ldrh	r3, [r7, #6]
 2925 0014 0333     		adds	r3, r3, #3
 2926 0016 9B08     		lsrs	r3, r3, #2
 2927 0018 3B61     		str	r3, [r7, #16]
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for ( i = 0U; i < count32b; i++, dest += 4U )
 2928              		.loc 1 910 0
 2929 001a 0023     		movs	r3, #0
 2930 001c 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/ccyAKTho.s 			page 68


 2931 001e 0BE0     		b	.L127
 2932              	.L128:
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     *(__packed uint32_t *)dest = USBx_DFIFO(0U);
 2933              		.loc 1 912 0 discriminator 3
 2934 0020 FB68     		ldr	r3, [r7, #12]
 2935 0022 03F58053 		add	r3, r3, #4096
 2936 0026 1A68     		ldr	r2, [r3]
 2937 0028 BB68     		ldr	r3, [r7, #8]
 2938 002a 1A60     		str	r2, [r3]
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2939              		.loc 1 910 0 discriminator 3
 2940 002c 7B69     		ldr	r3, [r7, #20]
 2941 002e 0133     		adds	r3, r3, #1
 2942 0030 7B61     		str	r3, [r7, #20]
 2943 0032 BB68     		ldr	r3, [r7, #8]
 2944 0034 0433     		adds	r3, r3, #4
 2945 0036 BB60     		str	r3, [r7, #8]
 2946              	.L127:
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 2947              		.loc 1 910 0 is_stmt 0 discriminator 1
 2948 0038 7A69     		ldr	r2, [r7, #20]
 2949 003a 3B69     		ldr	r3, [r7, #16]
 2950 003c 9A42     		cmp	r2, r3
 2951 003e EFD3     		bcc	.L128
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)dest);
 2952              		.loc 1 915 0 is_stmt 1
 2953 0040 BB68     		ldr	r3, [r7, #8]
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2954              		.loc 1 916 0
 2955 0042 1846     		mov	r0, r3
 2956 0044 1C37     		adds	r7, r7, #28
 2957              	.LCFI99:
 2958              		.cfi_def_cfa_offset 4
 2959 0046 BD46     		mov	sp, r7
 2960              	.LCFI100:
 2961              		.cfi_def_cfa_register 13
 2962              		@ sp needed
 2963 0048 5DF8047B 		ldr	r7, [sp], #4
 2964              	.LCFI101:
 2965              		.cfi_restore 7
 2966              		.cfi_def_cfa_offset 0
 2967 004c 7047     		bx	lr
 2968              		.cfi_endproc
 2969              	.LFE140:
 2971              		.section	.text.USB_EPSetStall,"ax",%progbits
 2972              		.align	1
 2973              		.global	USB_EPSetStall
 2974              		.syntax unified
 2975              		.thumb
 2976              		.thumb_func
 2977              		.fpu fpv4-sp-d16
 2979              	USB_EPSetStall:
 2980              	.LFB141:
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccyAKTho.s 			page 69


 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure   
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx , USB_OTG_EPTypeDef *ep)
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2981              		.loc 1 925 0
 2982              		.cfi_startproc
 2983              		@ args = 0, pretend = 0, frame = 8
 2984              		@ frame_needed = 1, uses_anonymous_args = 0
 2985              		@ link register save eliminated.
 2986 0000 80B4     		push	{r7}
 2987              	.LCFI102:
 2988              		.cfi_def_cfa_offset 4
 2989              		.cfi_offset 7, -4
 2990 0002 83B0     		sub	sp, sp, #12
 2991              	.LCFI103:
 2992              		.cfi_def_cfa_offset 16
 2993 0004 00AF     		add	r7, sp, #0
 2994              	.LCFI104:
 2995              		.cfi_def_cfa_register 7
 2996 0006 7860     		str	r0, [r7, #4]
 2997 0008 3960     		str	r1, [r7]
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2998              		.loc 1 926 0
 2999 000a 3B68     		ldr	r3, [r7]
 3000 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3001 000e 012B     		cmp	r3, #1
 3002 0010 30D1     		bne	.L131
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(ep->num)->DIEPCTL) & USB_OTG_DIEPCTL_EPENA) == 0U)
 3003              		.loc 1 928 0
 3004 0012 3B68     		ldr	r3, [r7]
 3005 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3006 0016 5A01     		lsls	r2, r3, #5
 3007 0018 7B68     		ldr	r3, [r7, #4]
 3008 001a 1344     		add	r3, r3, r2
 3009 001c 03F51063 		add	r3, r3, #2304
 3010 0020 1B68     		ldr	r3, [r3]
 3011 0022 002B     		cmp	r3, #0
 3012 0024 12DB     		blt	.L132
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(ep->num)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS); 
 3013              		.loc 1 930 0
 3014 0026 3B68     		ldr	r3, [r7]
 3015 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3016 002a 5A01     		lsls	r2, r3, #5
 3017 002c 7B68     		ldr	r3, [r7, #4]
 3018 002e 1344     		add	r3, r3, r2
 3019 0030 03F51063 		add	r3, r3, #2304
 3020 0034 1946     		mov	r1, r3
 3021 0036 3B68     		ldr	r3, [r7]
 3022 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3023 003a 5A01     		lsls	r2, r3, #5
 3024 003c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccyAKTho.s 			page 70


 3025 003e 1344     		add	r3, r3, r2
 3026 0040 03F51063 		add	r3, r3, #2304
 3027 0044 1B68     		ldr	r3, [r3]
 3028 0046 23F08043 		bic	r3, r3, #1073741824
 3029 004a 0B60     		str	r3, [r1]
 3030              	.L132:
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3031              		.loc 1 932 0
 3032 004c 3B68     		ldr	r3, [r7]
 3033 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3034 0050 5A01     		lsls	r2, r3, #5
 3035 0052 7B68     		ldr	r3, [r7, #4]
 3036 0054 1344     		add	r3, r3, r2
 3037 0056 03F51063 		add	r3, r3, #2304
 3038 005a 1946     		mov	r1, r3
 3039 005c 3B68     		ldr	r3, [r7]
 3040 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3041 0060 5A01     		lsls	r2, r3, #5
 3042 0062 7B68     		ldr	r3, [r7, #4]
 3043 0064 1344     		add	r3, r3, r2
 3044 0066 03F51063 		add	r3, r3, #2304
 3045 006a 1B68     		ldr	r3, [r3]
 3046 006c 43F40013 		orr	r3, r3, #2097152
 3047 0070 0B60     		str	r3, [r1]
 3048 0072 2FE0     		b	.L133
 3049              	.L131:
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(ep->num)->DOEPCTL) & USB_OTG_DOEPCTL_EPENA) == 0U)
 3050              		.loc 1 936 0
 3051 0074 3B68     		ldr	r3, [r7]
 3052 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3053 0078 5A01     		lsls	r2, r3, #5
 3054 007a 7B68     		ldr	r3, [r7, #4]
 3055 007c 1344     		add	r3, r3, r2
 3056 007e 03F53063 		add	r3, r3, #2816
 3057 0082 1B68     		ldr	r3, [r3]
 3058 0084 002B     		cmp	r3, #0
 3059 0086 12DB     		blt	.L134
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS); 
 3060              		.loc 1 938 0
 3061 0088 3B68     		ldr	r3, [r7]
 3062 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3063 008c 5A01     		lsls	r2, r3, #5
 3064 008e 7B68     		ldr	r3, [r7, #4]
 3065 0090 1344     		add	r3, r3, r2
 3066 0092 03F53063 		add	r3, r3, #2816
 3067 0096 1946     		mov	r1, r3
 3068 0098 3B68     		ldr	r3, [r7]
 3069 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3070 009c 5A01     		lsls	r2, r3, #5
 3071 009e 7B68     		ldr	r3, [r7, #4]
 3072 00a0 1344     		add	r3, r3, r2
 3073 00a2 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/ccyAKTho.s 			page 71


 3074 00a6 1B68     		ldr	r3, [r3]
 3075 00a8 23F08043 		bic	r3, r3, #1073741824
 3076 00ac 0B60     		str	r3, [r1]
 3077              	.L134:
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3078              		.loc 1 940 0
 3079 00ae 3B68     		ldr	r3, [r7]
 3080 00b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3081 00b2 5A01     		lsls	r2, r3, #5
 3082 00b4 7B68     		ldr	r3, [r7, #4]
 3083 00b6 1344     		add	r3, r3, r2
 3084 00b8 03F53063 		add	r3, r3, #2816
 3085 00bc 1946     		mov	r1, r3
 3086 00be 3B68     		ldr	r3, [r7]
 3087 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3088 00c2 5A01     		lsls	r2, r3, #5
 3089 00c4 7B68     		ldr	r3, [r7, #4]
 3090 00c6 1344     		add	r3, r3, r2
 3091 00c8 03F53063 		add	r3, r3, #2816
 3092 00cc 1B68     		ldr	r3, [r3]
 3093 00ce 43F40013 		orr	r3, r3, #2097152
 3094 00d2 0B60     		str	r3, [r1]
 3095              	.L133:
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3096              		.loc 1 942 0
 3097 00d4 0023     		movs	r3, #0
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3098              		.loc 1 943 0
 3099 00d6 1846     		mov	r0, r3
 3100 00d8 0C37     		adds	r7, r7, #12
 3101              	.LCFI105:
 3102              		.cfi_def_cfa_offset 4
 3103 00da BD46     		mov	sp, r7
 3104              	.LCFI106:
 3105              		.cfi_def_cfa_register 13
 3106              		@ sp needed
 3107 00dc 5DF8047B 		ldr	r7, [sp], #4
 3108              	.LCFI107:
 3109              		.cfi_restore 7
 3110              		.cfi_def_cfa_offset 0
 3111 00e0 7047     		bx	lr
 3112              		.cfi_endproc
 3113              	.LFE141:
 3115              		.section	.text.USB_EPClearStall,"ax",%progbits
 3116              		.align	1
 3117              		.global	USB_EPClearStall
 3118              		.syntax unified
 3119              		.thumb
 3120              		.thumb_func
 3121              		.fpu fpv4-sp-d16
 3123              	USB_EPClearStall:
 3124              	.LFB142:
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccyAKTho.s 			page 72


 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure   
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3125              		.loc 1 953 0
 3126              		.cfi_startproc
 3127              		@ args = 0, pretend = 0, frame = 8
 3128              		@ frame_needed = 1, uses_anonymous_args = 0
 3129              		@ link register save eliminated.
 3130 0000 80B4     		push	{r7}
 3131              	.LCFI108:
 3132              		.cfi_def_cfa_offset 4
 3133              		.cfi_offset 7, -4
 3134 0002 83B0     		sub	sp, sp, #12
 3135              	.LCFI109:
 3136              		.cfi_def_cfa_offset 16
 3137 0004 00AF     		add	r7, sp, #0
 3138              	.LCFI110:
 3139              		.cfi_def_cfa_register 7
 3140 0006 7860     		str	r0, [r7, #4]
 3141 0008 3960     		str	r1, [r7]
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3142              		.loc 1 954 0
 3143 000a 3B68     		ldr	r3, [r7]
 3144 000c 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3145 000e 012B     		cmp	r3, #1
 3146 0010 2ED1     		bne	.L137
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(ep->num)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3147              		.loc 1 956 0
 3148 0012 3B68     		ldr	r3, [r7]
 3149 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3150 0016 5A01     		lsls	r2, r3, #5
 3151 0018 7B68     		ldr	r3, [r7, #4]
 3152 001a 1344     		add	r3, r3, r2
 3153 001c 03F51063 		add	r3, r3, #2304
 3154 0020 1946     		mov	r1, r3
 3155 0022 3B68     		ldr	r3, [r7]
 3156 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3157 0026 5A01     		lsls	r2, r3, #5
 3158 0028 7B68     		ldr	r3, [r7, #4]
 3159 002a 1344     		add	r3, r3, r2
 3160 002c 03F51063 		add	r3, r3, #2304
 3161 0030 1B68     		ldr	r3, [r3]
 3162 0032 23F40013 		bic	r3, r3, #2097152
 3163 0036 0B60     		str	r3, [r1]
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 3164              		.loc 1 957 0
 3165 0038 3B68     		ldr	r3, [r7]
 3166 003a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3167 003c 032B     		cmp	r3, #3
 3168 003e 03D0     		beq	.L138
 3169              		.loc 1 957 0 is_stmt 0 discriminator 1
 3170 0040 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccyAKTho.s 			page 73


 3171 0042 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3172 0044 022B     		cmp	r3, #2
 3173 0046 41D1     		bne	.L140
 3174              	.L138:
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        USBx_INEP(ep->num)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3175              		.loc 1 959 0 is_stmt 1
 3176 0048 3B68     		ldr	r3, [r7]
 3177 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3178 004c 5A01     		lsls	r2, r3, #5
 3179 004e 7B68     		ldr	r3, [r7, #4]
 3180 0050 1344     		add	r3, r3, r2
 3181 0052 03F51063 		add	r3, r3, #2304
 3182 0056 1946     		mov	r1, r3
 3183 0058 3B68     		ldr	r3, [r7]
 3184 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3185 005c 5A01     		lsls	r2, r3, #5
 3186 005e 7B68     		ldr	r3, [r7, #4]
 3187 0060 1344     		add	r3, r3, r2
 3188 0062 03F51063 		add	r3, r3, #2304
 3189 0066 1B68     		ldr	r3, [r3]
 3190 0068 43F08053 		orr	r3, r3, #268435456
 3191 006c 0B60     		str	r3, [r1]
 3192 006e 2DE0     		b	.L140
 3193              	.L137:
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(ep->num)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 3194              		.loc 1 964 0
 3195 0070 3B68     		ldr	r3, [r7]
 3196 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3197 0074 5A01     		lsls	r2, r3, #5
 3198 0076 7B68     		ldr	r3, [r7, #4]
 3199 0078 1344     		add	r3, r3, r2
 3200 007a 03F53063 		add	r3, r3, #2816
 3201 007e 1946     		mov	r1, r3
 3202 0080 3B68     		ldr	r3, [r7]
 3203 0082 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3204 0084 5A01     		lsls	r2, r3, #5
 3205 0086 7B68     		ldr	r3, [r7, #4]
 3206 0088 1344     		add	r3, r3, r2
 3207 008a 03F53063 		add	r3, r3, #2816
 3208 008e 1B68     		ldr	r3, [r3]
 3209 0090 23F40013 		bic	r3, r3, #2097152
 3210 0094 0B60     		str	r3, [r1]
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_INTR || ep->type == EP_TYPE_BULK)
 3211              		.loc 1 965 0
 3212 0096 3B68     		ldr	r3, [r7]
 3213 0098 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3214 009a 032B     		cmp	r3, #3
 3215 009c 03D0     		beq	.L141
 3216              		.loc 1 965 0 is_stmt 0 discriminator 1
 3217 009e 3B68     		ldr	r3, [r7]
 3218 00a0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3219 00a2 022B     		cmp	r3, #2
ARM GAS  /tmp/ccyAKTho.s 			page 74


 3220 00a4 12D1     		bne	.L140
 3221              	.L141:
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(ep->num)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3222              		.loc 1 967 0 is_stmt 1
 3223 00a6 3B68     		ldr	r3, [r7]
 3224 00a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3225 00aa 5A01     		lsls	r2, r3, #5
 3226 00ac 7B68     		ldr	r3, [r7, #4]
 3227 00ae 1344     		add	r3, r3, r2
 3228 00b0 03F53063 		add	r3, r3, #2816
 3229 00b4 1946     		mov	r1, r3
 3230 00b6 3B68     		ldr	r3, [r7]
 3231 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3232 00ba 5A01     		lsls	r2, r3, #5
 3233 00bc 7B68     		ldr	r3, [r7, #4]
 3234 00be 1344     		add	r3, r3, r2
 3235 00c0 03F53063 		add	r3, r3, #2816
 3236 00c4 1B68     		ldr	r3, [r3]
 3237 00c6 43F08053 		orr	r3, r3, #268435456
 3238 00ca 0B60     		str	r3, [r1]
 3239              	.L140:
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }    
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3240              		.loc 1 970 0
 3241 00cc 0023     		movs	r3, #0
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3242              		.loc 1 971 0
 3243 00ce 1846     		mov	r0, r3
 3244 00d0 0C37     		adds	r7, r7, #12
 3245              	.LCFI111:
 3246              		.cfi_def_cfa_offset 4
 3247 00d2 BD46     		mov	sp, r7
 3248              	.LCFI112:
 3249              		.cfi_def_cfa_register 13
 3250              		@ sp needed
 3251 00d4 5DF8047B 		ldr	r7, [sp], #4
 3252              	.LCFI113:
 3253              		.cfi_restore 7
 3254              		.cfi_def_cfa_offset 0
 3255 00d8 7047     		bx	lr
 3256              		.cfi_endproc
 3257              	.LFE142:
 3259              		.section	.text.USB_StopDevice,"ax",%progbits
 3260              		.align	1
 3261              		.global	USB_StopDevice
 3262              		.syntax unified
 3263              		.thumb
 3264              		.thumb_func
 3265              		.fpu fpv4-sp-d16
 3267              	USB_StopDevice:
 3268              	.LFB143:
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccyAKTho.s 			page 75


 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3269              		.loc 1 979 0
 3270              		.cfi_startproc
 3271              		@ args = 0, pretend = 0, frame = 16
 3272              		@ frame_needed = 1, uses_anonymous_args = 0
 3273 0000 80B5     		push	{r7, lr}
 3274              	.LCFI114:
 3275              		.cfi_def_cfa_offset 8
 3276              		.cfi_offset 7, -8
 3277              		.cfi_offset 14, -4
 3278 0002 84B0     		sub	sp, sp, #16
 3279              	.LCFI115:
 3280              		.cfi_def_cfa_offset 24
 3281 0004 00AF     		add	r7, sp, #0
 3282              	.LCFI116:
 3283              		.cfi_def_cfa_register 7
 3284 0006 7860     		str	r0, [r7, #4]
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U ; i++)
 3285              		.loc 1 983 0
 3286 0008 0023     		movs	r3, #0
 3287 000a FB60     		str	r3, [r7, #12]
 3288 000c 14E0     		b	.L144
 3289              	.L145:
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFFU;
 3290              		.loc 1 985 0 discriminator 3
 3291 000e FB68     		ldr	r3, [r7, #12]
 3292 0010 5A01     		lsls	r2, r3, #5
 3293 0012 7B68     		ldr	r3, [r7, #4]
 3294 0014 1344     		add	r3, r3, r2
 3295 0016 03F51063 		add	r3, r3, #2304
 3296 001a 1A46     		mov	r2, r3
 3297 001c FF23     		movs	r3, #255
 3298 001e 9360     		str	r3, [r2, #8]
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFFU;
 3299              		.loc 1 986 0 discriminator 3
 3300 0020 FB68     		ldr	r3, [r7, #12]
 3301 0022 5A01     		lsls	r2, r3, #5
 3302 0024 7B68     		ldr	r3, [r7, #4]
 3303 0026 1344     		add	r3, r3, r2
 3304 0028 03F53063 		add	r3, r3, #2816
 3305 002c 1A46     		mov	r2, r3
 3306 002e FF23     		movs	r3, #255
 3307 0030 9360     		str	r3, [r2, #8]
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3308              		.loc 1 983 0 discriminator 3
 3309 0032 FB68     		ldr	r3, [r7, #12]
 3310 0034 0133     		adds	r3, r3, #1
 3311 0036 FB60     		str	r3, [r7, #12]
 3312              	.L144:
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccyAKTho.s 			page 76


 3313              		.loc 1 983 0 is_stmt 0 discriminator 1
 3314 0038 FB68     		ldr	r3, [r7, #12]
 3315 003a 0E2B     		cmp	r3, #14
 3316 003c E7D9     		bls	.L145
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINT = 0xFFFFFFFFU;
 3317              		.loc 1 988 0 is_stmt 1
 3318 003e 7B68     		ldr	r3, [r7, #4]
 3319 0040 03F50063 		add	r3, r3, #2048
 3320 0044 1A46     		mov	r2, r3
 3321 0046 4FF0FF33 		mov	r3, #-1
 3322 004a 9361     		str	r3, [r2, #24]
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3323              		.loc 1 991 0
 3324 004c 7B68     		ldr	r3, [r7, #4]
 3325 004e 03F50063 		add	r3, r3, #2048
 3326 0052 1A46     		mov	r2, r3
 3327 0054 0023     		movs	r3, #0
 3328 0056 1361     		str	r3, [r2, #16]
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 3329              		.loc 1 992 0
 3330 0058 7B68     		ldr	r3, [r7, #4]
 3331 005a 03F50063 		add	r3, r3, #2048
 3332 005e 1A46     		mov	r2, r3
 3333 0060 0023     		movs	r3, #0
 3334 0062 5361     		str	r3, [r2, #20]
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3335              		.loc 1 993 0
 3336 0064 7B68     		ldr	r3, [r7, #4]
 3337 0066 03F50063 		add	r3, r3, #2048
 3338 006a 1A46     		mov	r2, r3
 3339 006c 0023     		movs	r3, #0
 3340 006e D361     		str	r3, [r2, #28]
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 3341              		.loc 1 996 0
 3342 0070 7868     		ldr	r0, [r7, #4]
 3343 0072 FFF7FEFF 		bl	USB_FlushRxFifo
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx ,  0x10U);  
 3344              		.loc 1 997 0
 3345 0076 1021     		movs	r1, #16
 3346 0078 7868     		ldr	r0, [r7, #4]
 3347 007a FFF7FEFF 		bl	USB_FlushTxFifo
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3348              		.loc 1 999 0
 3349 007e 0023     		movs	r3, #0
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3350              		.loc 1 1000 0
 3351 0080 1846     		mov	r0, r3
 3352 0082 1037     		adds	r7, r7, #16
 3353              	.LCFI117:
 3354              		.cfi_def_cfa_offset 8
 3355 0084 BD46     		mov	sp, r7
ARM GAS  /tmp/ccyAKTho.s 			page 77


 3356              	.LCFI118:
 3357              		.cfi_def_cfa_register 13
 3358              		@ sp needed
 3359 0086 80BD     		pop	{r7, pc}
 3360              		.cfi_endproc
 3361              	.LFE143:
 3363              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3364              		.align	1
 3365              		.global	USB_SetDevAddress
 3366              		.syntax unified
 3367              		.thumb
 3368              		.thumb_func
 3369              		.fpu fpv4-sp-d16
 3371              	USB_SetDevAddress:
 3372              	.LFB144:
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress (USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3373              		.loc 1 1010 0
 3374              		.cfi_startproc
 3375              		@ args = 0, pretend = 0, frame = 8
 3376              		@ frame_needed = 1, uses_anonymous_args = 0
 3377              		@ link register save eliminated.
 3378 0000 80B4     		push	{r7}
 3379              	.LCFI119:
 3380              		.cfi_def_cfa_offset 4
 3381              		.cfi_offset 7, -4
 3382 0002 83B0     		sub	sp, sp, #12
 3383              	.LCFI120:
 3384              		.cfi_def_cfa_offset 16
 3385 0004 00AF     		add	r7, sp, #0
 3386              	.LCFI121:
 3387              		.cfi_def_cfa_register 7
 3388 0006 7860     		str	r0, [r7, #4]
 3389 0008 0B46     		mov	r3, r1
 3390 000a FB70     		strb	r3, [r7, #3]
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~ (USB_OTG_DCFG_DAD);
 3391              		.loc 1 1011 0
 3392 000c 7B68     		ldr	r3, [r7, #4]
 3393 000e 03F50063 		add	r3, r3, #2048
 3394 0012 1A46     		mov	r2, r3
 3395 0014 7B68     		ldr	r3, [r7, #4]
 3396 0016 03F50063 		add	r3, r3, #2048
 3397 001a 1B68     		ldr	r3, [r3]
 3398 001c 23F4FE63 		bic	r3, r3, #2032
 3399 0020 1360     		str	r3, [r2]
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= (address << 4U) & USB_OTG_DCFG_DAD ;
 3400              		.loc 1 1012 0
 3401 0022 7B68     		ldr	r3, [r7, #4]
 3402 0024 03F50063 		add	r3, r3, #2048
ARM GAS  /tmp/ccyAKTho.s 			page 78


 3403 0028 1946     		mov	r1, r3
 3404 002a 7B68     		ldr	r3, [r7, #4]
 3405 002c 03F50063 		add	r3, r3, #2048
 3406 0030 1A68     		ldr	r2, [r3]
 3407 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3408 0034 1B01     		lsls	r3, r3, #4
 3409 0036 03F4FE63 		and	r3, r3, #2032
 3410 003a 1343     		orrs	r3, r3, r2
 3411 003c 0B60     		str	r3, [r1]
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3412              		.loc 1 1014 0
 3413 003e 0023     		movs	r3, #0
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3414              		.loc 1 1015 0
 3415 0040 1846     		mov	r0, r3
 3416 0042 0C37     		adds	r7, r7, #12
 3417              	.LCFI122:
 3418              		.cfi_def_cfa_offset 4
 3419 0044 BD46     		mov	sp, r7
 3420              	.LCFI123:
 3421              		.cfi_def_cfa_register 13
 3422              		@ sp needed
 3423 0046 5DF8047B 		ldr	r7, [sp], #4
 3424              	.LCFI124:
 3425              		.cfi_restore 7
 3426              		.cfi_def_cfa_offset 0
 3427 004a 7047     		bx	lr
 3428              		.cfi_endproc
 3429              	.LFE144:
 3431              		.section	.text.USB_DevConnect,"ax",%progbits
 3432              		.align	1
 3433              		.global	USB_DevConnect
 3434              		.syntax unified
 3435              		.thumb
 3436              		.thumb_func
 3437              		.fpu fpv4-sp-d16
 3439              	USB_DevConnect:
 3440              	.LFB145:
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect (USB_OTG_GlobalTypeDef *USBx)
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3441              		.loc 1 1023 0
 3442              		.cfi_startproc
 3443              		@ args = 0, pretend = 0, frame = 8
 3444              		@ frame_needed = 1, uses_anonymous_args = 0
 3445 0000 80B5     		push	{r7, lr}
 3446              	.LCFI125:
 3447              		.cfi_def_cfa_offset 8
 3448              		.cfi_offset 7, -8
 3449              		.cfi_offset 14, -4
 3450 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccyAKTho.s 			page 79


 3451              	.LCFI126:
 3452              		.cfi_def_cfa_offset 16
 3453 0004 00AF     		add	r7, sp, #0
 3454              	.LCFI127:
 3455              		.cfi_def_cfa_register 7
 3456 0006 7860     		str	r0, [r7, #4]
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS ;
 3457              		.loc 1 1024 0
 3458 0008 7B68     		ldr	r3, [r7, #4]
 3459 000a 03F50063 		add	r3, r3, #2048
 3460 000e 1A46     		mov	r2, r3
 3461 0010 7B68     		ldr	r3, [r7, #4]
 3462 0012 03F50063 		add	r3, r3, #2048
 3463 0016 5B68     		ldr	r3, [r3, #4]
 3464 0018 23F00203 		bic	r3, r3, #2
 3465 001c 5360     		str	r3, [r2, #4]
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3466              		.loc 1 1025 0
 3467 001e 0320     		movs	r0, #3
 3468 0020 FFF7FEFF 		bl	HAL_Delay
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3469              		.loc 1 1027 0
 3470 0024 0023     		movs	r3, #0
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3471              		.loc 1 1028 0
 3472 0026 1846     		mov	r0, r3
 3473 0028 0837     		adds	r7, r7, #8
 3474              	.LCFI128:
 3475              		.cfi_def_cfa_offset 8
 3476 002a BD46     		mov	sp, r7
 3477              	.LCFI129:
 3478              		.cfi_def_cfa_register 13
 3479              		@ sp needed
 3480 002c 80BD     		pop	{r7, pc}
 3481              		.cfi_endproc
 3482              	.LFE145:
 3484              		.section	.text.USB_DevDisconnect,"ax",%progbits
 3485              		.align	1
 3486              		.global	USB_DevDisconnect
 3487              		.syntax unified
 3488              		.thumb
 3489              		.thumb_func
 3490              		.fpu fpv4-sp-d16
 3492              	USB_DevDisconnect:
 3493              	.LFB146:
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect (USB_OTG_GlobalTypeDef *USBx)
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3494              		.loc 1 1036 0
 3495              		.cfi_startproc
 3496              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccyAKTho.s 			page 80


 3497              		@ frame_needed = 1, uses_anonymous_args = 0
 3498 0000 80B5     		push	{r7, lr}
 3499              	.LCFI130:
 3500              		.cfi_def_cfa_offset 8
 3501              		.cfi_offset 7, -8
 3502              		.cfi_offset 14, -4
 3503 0002 82B0     		sub	sp, sp, #8
 3504              	.LCFI131:
 3505              		.cfi_def_cfa_offset 16
 3506 0004 00AF     		add	r7, sp, #0
 3507              	.LCFI132:
 3508              		.cfi_def_cfa_register 7
 3509 0006 7860     		str	r0, [r7, #4]
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS ;
 3510              		.loc 1 1037 0
 3511 0008 7B68     		ldr	r3, [r7, #4]
 3512 000a 03F50063 		add	r3, r3, #2048
 3513 000e 1A46     		mov	r2, r3
 3514 0010 7B68     		ldr	r3, [r7, #4]
 3515 0012 03F50063 		add	r3, r3, #2048
 3516 0016 5B68     		ldr	r3, [r3, #4]
 3517 0018 43F00203 		orr	r3, r3, #2
 3518 001c 5360     		str	r3, [r2, #4]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3519              		.loc 1 1038 0
 3520 001e 0320     		movs	r0, #3
 3521 0020 FFF7FEFF 		bl	HAL_Delay
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 3522              		.loc 1 1040 0
 3523 0024 0023     		movs	r3, #0
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3524              		.loc 1 1041 0
 3525 0026 1846     		mov	r0, r3
 3526 0028 0837     		adds	r7, r7, #8
 3527              	.LCFI133:
 3528              		.cfi_def_cfa_offset 8
 3529 002a BD46     		mov	sp, r7
 3530              	.LCFI134:
 3531              		.cfi_def_cfa_register 13
 3532              		@ sp needed
 3533 002c 80BD     		pop	{r7, pc}
 3534              		.cfi_endproc
 3535              	.LFE146:
 3537              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 3538              		.align	1
 3539              		.global	USB_ReadInterrupts
 3540              		.syntax unified
 3541              		.thumb
 3542              		.thumb_func
 3543              		.fpu fpv4-sp-d16
 3545              	USB_ReadInterrupts:
 3546              	.LFB147:
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccyAKTho.s 			page 81


1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts (USB_OTG_GlobalTypeDef *USBx)
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3547              		.loc 1 1049 0
 3548              		.cfi_startproc
 3549              		@ args = 0, pretend = 0, frame = 16
 3550              		@ frame_needed = 1, uses_anonymous_args = 0
 3551              		@ link register save eliminated.
 3552 0000 80B4     		push	{r7}
 3553              	.LCFI135:
 3554              		.cfi_def_cfa_offset 4
 3555              		.cfi_offset 7, -4
 3556 0002 85B0     		sub	sp, sp, #20
 3557              	.LCFI136:
 3558              		.cfi_def_cfa_offset 24
 3559 0004 00AF     		add	r7, sp, #0
 3560              	.LCFI137:
 3561              		.cfi_def_cfa_register 7
 3562 0006 7860     		str	r0, [r7, #4]
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v = 0U;
 3563              		.loc 1 1050 0
 3564 0008 0023     		movs	r3, #0
 3565 000a FB60     		str	r3, [r7, #12]
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx->GINTSTS;
 3566              		.loc 1 1052 0
 3567 000c 7B68     		ldr	r3, [r7, #4]
 3568 000e 5B69     		ldr	r3, [r3, #20]
 3569 0010 FB60     		str	r3, [r7, #12]
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx->GINTMSK;
 3570              		.loc 1 1053 0
 3571 0012 7B68     		ldr	r3, [r7, #4]
 3572 0014 9B69     		ldr	r3, [r3, #24]
 3573 0016 FA68     		ldr	r2, [r7, #12]
 3574 0018 1340     		ands	r3, r3, r2
 3575 001a FB60     		str	r3, [r7, #12]
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;  
 3576              		.loc 1 1054 0
 3577 001c FB68     		ldr	r3, [r7, #12]
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3578              		.loc 1 1055 0
 3579 001e 1846     		mov	r0, r3
 3580 0020 1437     		adds	r7, r7, #20
 3581              	.LCFI138:
 3582              		.cfi_def_cfa_offset 4
 3583 0022 BD46     		mov	sp, r7
 3584              	.LCFI139:
 3585              		.cfi_def_cfa_register 13
 3586              		@ sp needed
 3587 0024 5DF8047B 		ldr	r7, [sp], #4
 3588              	.LCFI140:
 3589              		.cfi_restore 7
 3590              		.cfi_def_cfa_offset 0
 3591 0028 7047     		bx	lr
 3592              		.cfi_endproc
 3593              	.LFE147:
ARM GAS  /tmp/ccyAKTho.s 			page 82


 3595              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 3596              		.align	1
 3597              		.global	USB_ReadDevAllOutEpInterrupt
 3598              		.syntax unified
 3599              		.thumb
 3600              		.thumb_func
 3601              		.fpu fpv4-sp-d16
 3603              	USB_ReadDevAllOutEpInterrupt:
 3604              	.LFB148:
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3605              		.loc 1 1063 0
 3606              		.cfi_startproc
 3607              		@ args = 0, pretend = 0, frame = 16
 3608              		@ frame_needed = 1, uses_anonymous_args = 0
 3609              		@ link register save eliminated.
 3610 0000 80B4     		push	{r7}
 3611              	.LCFI141:
 3612              		.cfi_def_cfa_offset 4
 3613              		.cfi_offset 7, -4
 3614 0002 85B0     		sub	sp, sp, #20
 3615              	.LCFI142:
 3616              		.cfi_def_cfa_offset 24
 3617 0004 00AF     		add	r7, sp, #0
 3618              	.LCFI143:
 3619              		.cfi_def_cfa_register 7
 3620 0006 7860     		str	r0, [r7, #4]
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_DEVICE->DAINT;
 3621              		.loc 1 1065 0
 3622 0008 7B68     		ldr	r3, [r7, #4]
 3623 000a 03F50063 		add	r3, r3, #2048
 3624 000e 9B69     		ldr	r3, [r3, #24]
 3625 0010 FB60     		str	r3, [r7, #12]
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
 3626              		.loc 1 1066 0
 3627 0012 7B68     		ldr	r3, [r7, #4]
 3628 0014 03F50063 		add	r3, r3, #2048
 3629 0018 DB69     		ldr	r3, [r3, #28]
 3630 001a FA68     		ldr	r2, [r7, #12]
 3631 001c 1340     		ands	r3, r3, r2
 3632 001e FB60     		str	r3, [r7, #12]
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xffff0000U) >> 16U);
 3633              		.loc 1 1067 0
 3634 0020 FB68     		ldr	r3, [r7, #12]
 3635 0022 1B0C     		lsrs	r3, r3, #16
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3636              		.loc 1 1068 0
 3637 0024 1846     		mov	r0, r3
 3638 0026 1437     		adds	r7, r7, #20
 3639              	.LCFI144:
ARM GAS  /tmp/ccyAKTho.s 			page 83


 3640              		.cfi_def_cfa_offset 4
 3641 0028 BD46     		mov	sp, r7
 3642              	.LCFI145:
 3643              		.cfi_def_cfa_register 13
 3644              		@ sp needed
 3645 002a 5DF8047B 		ldr	r7, [sp], #4
 3646              	.LCFI146:
 3647              		.cfi_restore 7
 3648              		.cfi_def_cfa_offset 0
 3649 002e 7047     		bx	lr
 3650              		.cfi_endproc
 3651              	.LFE148:
 3653              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 3654              		.align	1
 3655              		.global	USB_ReadDevAllInEpInterrupt
 3656              		.syntax unified
 3657              		.thumb
 3658              		.thumb_func
 3659              		.fpu fpv4-sp-d16
 3661              	USB_ReadDevAllInEpInterrupt:
 3662              	.LFB149:
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt (USB_OTG_GlobalTypeDef *USBx)
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3663              		.loc 1 1076 0
 3664              		.cfi_startproc
 3665              		@ args = 0, pretend = 0, frame = 16
 3666              		@ frame_needed = 1, uses_anonymous_args = 0
 3667              		@ link register save eliminated.
 3668 0000 80B4     		push	{r7}
 3669              	.LCFI147:
 3670              		.cfi_def_cfa_offset 4
 3671              		.cfi_offset 7, -4
 3672 0002 85B0     		sub	sp, sp, #20
 3673              	.LCFI148:
 3674              		.cfi_def_cfa_offset 24
 3675 0004 00AF     		add	r7, sp, #0
 3676              	.LCFI149:
 3677              		.cfi_def_cfa_register 7
 3678 0006 7860     		str	r0, [r7, #4]
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_DEVICE->DAINT;
 3679              		.loc 1 1078 0
 3680 0008 7B68     		ldr	r3, [r7, #4]
 3681 000a 03F50063 		add	r3, r3, #2048
 3682 000e 9B69     		ldr	r3, [r3, #24]
 3683 0010 FB60     		str	r3, [r7, #12]
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DAINTMSK;
 3684              		.loc 1 1079 0
 3685 0012 7B68     		ldr	r3, [r7, #4]
 3686 0014 03F50063 		add	r3, r3, #2048
 3687 0018 DB69     		ldr	r3, [r3, #28]
ARM GAS  /tmp/ccyAKTho.s 			page 84


 3688 001a FA68     		ldr	r2, [r7, #12]
 3689 001c 1340     		ands	r3, r3, r2
 3690 001e FB60     		str	r3, [r7, #12]
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((v & 0xFFFFU));
 3691              		.loc 1 1080 0
 3692 0020 FB68     		ldr	r3, [r7, #12]
 3693 0022 9BB2     		uxth	r3, r3
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3694              		.loc 1 1081 0
 3695 0024 1846     		mov	r0, r3
 3696 0026 1437     		adds	r7, r7, #20
 3697              	.LCFI150:
 3698              		.cfi_def_cfa_offset 4
 3699 0028 BD46     		mov	sp, r7
 3700              	.LCFI151:
 3701              		.cfi_def_cfa_register 13
 3702              		@ sp needed
 3703 002a 5DF8047B 		ldr	r7, [sp], #4
 3704              	.LCFI152:
 3705              		.cfi_restore 7
 3706              		.cfi_def_cfa_offset 0
 3707 002e 7047     		bx	lr
 3708              		.cfi_endproc
 3709              	.LFE149:
 3711              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 3712              		.align	1
 3713              		.global	USB_ReadDevOutEPInterrupt
 3714              		.syntax unified
 3715              		.thumb
 3716              		.thumb_func
 3717              		.fpu fpv4-sp-d16
 3719              	USB_ReadDevOutEPInterrupt:
 3720              	.LFB150:
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3721              		.loc 1 1091 0
 3722              		.cfi_startproc
 3723              		@ args = 0, pretend = 0, frame = 16
 3724              		@ frame_needed = 1, uses_anonymous_args = 0
 3725              		@ link register save eliminated.
 3726 0000 80B4     		push	{r7}
 3727              	.LCFI153:
 3728              		.cfi_def_cfa_offset 4
 3729              		.cfi_offset 7, -4
 3730 0002 85B0     		sub	sp, sp, #20
 3731              	.LCFI154:
 3732              		.cfi_def_cfa_offset 24
 3733 0004 00AF     		add	r7, sp, #0
 3734              	.LCFI155:
ARM GAS  /tmp/ccyAKTho.s 			page 85


 3735              		.cfi_def_cfa_register 7
 3736 0006 7860     		str	r0, [r7, #4]
 3737 0008 0B46     		mov	r3, r1
 3738 000a FB70     		strb	r3, [r7, #3]
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v;
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v  = USBx_OUTEP(epnum)->DOEPINT;
 3739              		.loc 1 1093 0
 3740 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3741 000e 5A01     		lsls	r2, r3, #5
 3742 0010 7B68     		ldr	r3, [r7, #4]
 3743 0012 1344     		add	r3, r3, r2
 3744 0014 03F53063 		add	r3, r3, #2816
 3745 0018 9B68     		ldr	r3, [r3, #8]
 3746 001a FB60     		str	r3, [r7, #12]
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v &= USBx_DEVICE->DOEPMSK;
 3747              		.loc 1 1094 0
 3748 001c 7B68     		ldr	r3, [r7, #4]
 3749 001e 03F50063 		add	r3, r3, #2048
 3750 0022 5B69     		ldr	r3, [r3, #20]
 3751 0024 FA68     		ldr	r2, [r7, #12]
 3752 0026 1340     		ands	r3, r3, r2
 3753 0028 FB60     		str	r3, [r7, #12]
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
 3754              		.loc 1 1095 0
 3755 002a FB68     		ldr	r3, [r7, #12]
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3756              		.loc 1 1096 0
 3757 002c 1846     		mov	r0, r3
 3758 002e 1437     		adds	r7, r7, #20
 3759              	.LCFI156:
 3760              		.cfi_def_cfa_offset 4
 3761 0030 BD46     		mov	sp, r7
 3762              	.LCFI157:
 3763              		.cfi_def_cfa_register 13
 3764              		@ sp needed
 3765 0032 5DF8047B 		ldr	r7, [sp], #4
 3766              	.LCFI158:
 3767              		.cfi_restore 7
 3768              		.cfi_def_cfa_offset 0
 3769 0036 7047     		bx	lr
 3770              		.cfi_endproc
 3771              	.LFE150:
 3773              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 3774              		.align	1
 3775              		.global	USB_ReadDevInEPInterrupt
 3776              		.syntax unified
 3777              		.thumb
 3778              		.thumb_func
 3779              		.fpu fpv4-sp-d16
 3781              	USB_ReadDevInEPInterrupt:
 3782              	.LFB151:
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
ARM GAS  /tmp/ccyAKTho.s 			page 86


1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt (USB_OTG_GlobalTypeDef *USBx , uint8_t epnum)
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3783              		.loc 1 1106 0
 3784              		.cfi_startproc
 3785              		@ args = 0, pretend = 0, frame = 24
 3786              		@ frame_needed = 1, uses_anonymous_args = 0
 3787              		@ link register save eliminated.
 3788 0000 80B4     		push	{r7}
 3789              	.LCFI159:
 3790              		.cfi_def_cfa_offset 4
 3791              		.cfi_offset 7, -4
 3792 0002 87B0     		sub	sp, sp, #28
 3793              	.LCFI160:
 3794              		.cfi_def_cfa_offset 32
 3795 0004 00AF     		add	r7, sp, #0
 3796              	.LCFI161:
 3797              		.cfi_def_cfa_register 7
 3798 0006 7860     		str	r0, [r7, #4]
 3799 0008 0B46     		mov	r3, r1
 3800 000a FB70     		strb	r3, [r7, #3]
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t v, msk, emp;
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 3801              		.loc 1 1109 0
 3802 000c 7B68     		ldr	r3, [r7, #4]
 3803 000e 03F50063 		add	r3, r3, #2048
 3804 0012 1B69     		ldr	r3, [r3, #16]
 3805 0014 7B61     		str	r3, [r7, #20]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 3806              		.loc 1 1110 0
 3807 0016 7B68     		ldr	r3, [r7, #4]
 3808 0018 03F50063 		add	r3, r3, #2048
 3809 001c 5B6B     		ldr	r3, [r3, #52]
 3810 001e 3B61     		str	r3, [r7, #16]
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> epnum) & 0x1U) << 7U;
 3811              		.loc 1 1111 0
 3812 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3813 0022 3A69     		ldr	r2, [r7, #16]
 3814 0024 22FA03F3 		lsr	r3, r2, r3
 3815 0028 DB01     		lsls	r3, r3, #7
 3816 002a DBB2     		uxtb	r3, r3
 3817 002c 7A69     		ldr	r2, [r7, #20]
 3818 002e 1343     		orrs	r3, r3, r2
 3819 0030 7B61     		str	r3, [r7, #20]
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   v = USBx_INEP(epnum)->DIEPINT & msk;
 3820              		.loc 1 1112 0
 3821 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3822 0034 5A01     		lsls	r2, r3, #5
 3823 0036 7B68     		ldr	r3, [r7, #4]
 3824 0038 1344     		add	r3, r3, r2
 3825 003a 03F51063 		add	r3, r3, #2304
 3826 003e 9A68     		ldr	r2, [r3, #8]
 3827 0040 7B69     		ldr	r3, [r7, #20]
 3828 0042 1340     		ands	r3, r3, r2
 3829 0044 FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/ccyAKTho.s 			page 87


1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return v;
 3830              		.loc 1 1113 0
 3831 0046 FB68     		ldr	r3, [r7, #12]
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3832              		.loc 1 1114 0
 3833 0048 1846     		mov	r0, r3
 3834 004a 1C37     		adds	r7, r7, #28
 3835              	.LCFI162:
 3836              		.cfi_def_cfa_offset 4
 3837 004c BD46     		mov	sp, r7
 3838              	.LCFI163:
 3839              		.cfi_def_cfa_register 13
 3840              		@ sp needed
 3841 004e 5DF8047B 		ldr	r7, [sp], #4
 3842              	.LCFI164:
 3843              		.cfi_restore 7
 3844              		.cfi_def_cfa_offset 0
 3845 0052 7047     		bx	lr
 3846              		.cfi_endproc
 3847              	.LFE151:
 3849              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 3850              		.align	1
 3851              		.global	USB_ClearInterrupts
 3852              		.syntax unified
 3853              		.thumb
 3854              		.thumb_func
 3855              		.fpu fpv4-sp-d16
 3857              	USB_ClearInterrupts:
 3858              	.LFB152:
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  interrupt flag
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts (USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3859              		.loc 1 1123 0
 3860              		.cfi_startproc
 3861              		@ args = 0, pretend = 0, frame = 8
 3862              		@ frame_needed = 1, uses_anonymous_args = 0
 3863              		@ link register save eliminated.
 3864 0000 80B4     		push	{r7}
 3865              	.LCFI165:
 3866              		.cfi_def_cfa_offset 4
 3867              		.cfi_offset 7, -4
 3868 0002 83B0     		sub	sp, sp, #12
 3869              	.LCFI166:
 3870              		.cfi_def_cfa_offset 16
 3871 0004 00AF     		add	r7, sp, #0
 3872              	.LCFI167:
 3873              		.cfi_def_cfa_register 7
 3874 0006 7860     		str	r0, [r7, #4]
 3875 0008 3960     		str	r1, [r7]
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt; 
 3876              		.loc 1 1124 0
ARM GAS  /tmp/ccyAKTho.s 			page 88


 3877 000a 7B68     		ldr	r3, [r7, #4]
 3878 000c 5A69     		ldr	r2, [r3, #20]
 3879 000e 3B68     		ldr	r3, [r7]
 3880 0010 1A43     		orrs	r2, r2, r3
 3881 0012 7B68     		ldr	r3, [r7, #4]
 3882 0014 5A61     		str	r2, [r3, #20]
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3883              		.loc 1 1125 0
 3884 0016 00BF     		nop
 3885 0018 0C37     		adds	r7, r7, #12
 3886              	.LCFI168:
 3887              		.cfi_def_cfa_offset 4
 3888 001a BD46     		mov	sp, r7
 3889              	.LCFI169:
 3890              		.cfi_def_cfa_register 13
 3891              		@ sp needed
 3892 001c 5DF8047B 		ldr	r7, [sp], #4
 3893              	.LCFI170:
 3894              		.cfi_restore 7
 3895              		.cfi_def_cfa_offset 0
 3896 0020 7047     		bx	lr
 3897              		.cfi_endproc
 3898              	.LFE152:
 3900              		.section	.text.USB_GetMode,"ax",%progbits
 3901              		.align	1
 3902              		.global	USB_GetMode
 3903              		.syntax unified
 3904              		.thumb
 3905              		.thumb_func
 3906              		.fpu fpv4-sp-d16
 3908              	USB_GetMode:
 3909              	.LFB153:
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host 
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3910              		.loc 1 1136 0
 3911              		.cfi_startproc
 3912              		@ args = 0, pretend = 0, frame = 8
 3913              		@ frame_needed = 1, uses_anonymous_args = 0
 3914              		@ link register save eliminated.
 3915 0000 80B4     		push	{r7}
 3916              	.LCFI171:
 3917              		.cfi_def_cfa_offset 4
 3918              		.cfi_offset 7, -4
 3919 0002 83B0     		sub	sp, sp, #12
 3920              	.LCFI172:
 3921              		.cfi_def_cfa_offset 16
 3922 0004 00AF     		add	r7, sp, #0
 3923              	.LCFI173:
ARM GAS  /tmp/ccyAKTho.s 			page 89


 3924              		.cfi_def_cfa_register 7
 3925 0006 7860     		str	r0, [r7, #4]
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS ) & 0x1U);
 3926              		.loc 1 1137 0
 3927 0008 7B68     		ldr	r3, [r7, #4]
 3928 000a 5B69     		ldr	r3, [r3, #20]
 3929 000c 03F00103 		and	r3, r3, #1
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3930              		.loc 1 1138 0
 3931 0010 1846     		mov	r0, r3
 3932 0012 0C37     		adds	r7, r7, #12
 3933              	.LCFI174:
 3934              		.cfi_def_cfa_offset 4
 3935 0014 BD46     		mov	sp, r7
 3936              	.LCFI175:
 3937              		.cfi_def_cfa_register 13
 3938              		@ sp needed
 3939 0016 5DF8047B 		ldr	r7, [sp], #4
 3940              	.LCFI176:
 3941              		.cfi_restore 7
 3942              		.cfi_def_cfa_offset 0
 3943 001a 7047     		bx	lr
 3944              		.cfi_endproc
 3945              	.LFE153:
 3947              		.section	.text.USB_ActivateSetup,"ax",%progbits
 3948              		.align	1
 3949              		.global	USB_ActivateSetup
 3950              		.syntax unified
 3951              		.thumb
 3952              		.thumb_func
 3953              		.fpu fpv4-sp-d16
 3955              	USB_ActivateSetup:
 3956              	.LFB154:
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup (USB_OTG_GlobalTypeDef *USBx)
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3957              		.loc 1 1147 0
 3958              		.cfi_startproc
 3959              		@ args = 0, pretend = 0, frame = 8
 3960              		@ frame_needed = 1, uses_anonymous_args = 0
 3961              		@ link register save eliminated.
 3962 0000 80B4     		push	{r7}
 3963              	.LCFI177:
 3964              		.cfi_def_cfa_offset 4
 3965              		.cfi_offset 7, -4
 3966 0002 83B0     		sub	sp, sp, #12
 3967              	.LCFI178:
 3968              		.cfi_def_cfa_offset 16
 3969 0004 00AF     		add	r7, sp, #0
 3970              	.LCFI179:
 3971              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccyAKTho.s 			page 90


 3972 0006 7860     		str	r0, [r7, #4]
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 3973              		.loc 1 1149 0
 3974 0008 7B68     		ldr	r3, [r7, #4]
 3975 000a 03F51063 		add	r3, r3, #2304
 3976 000e 1A46     		mov	r2, r3
 3977 0010 7B68     		ldr	r3, [r7, #4]
 3978 0012 03F51063 		add	r3, r3, #2304
 3979 0016 1B68     		ldr	r3, [r3]
 3980 0018 23F4FF63 		bic	r3, r3, #2040
 3981 001c 23F00703 		bic	r3, r3, #7
 3982 0020 1360     		str	r3, [r2]
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 3983              		.loc 1 1151 0
 3984 0022 7B68     		ldr	r3, [r7, #4]
 3985 0024 03F50063 		add	r3, r3, #2048
 3986 0028 9B68     		ldr	r3, [r3, #8]
 3987 002a 03F00603 		and	r3, r3, #6
 3988 002e 042B     		cmp	r3, #4
 3989 0030 0AD1     		bne	.L167
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(0U)->DIEPCTL |= 3U;
 3990              		.loc 1 1153 0
 3991 0032 7B68     		ldr	r3, [r7, #4]
 3992 0034 03F51063 		add	r3, r3, #2304
 3993 0038 1A46     		mov	r2, r3
 3994 003a 7B68     		ldr	r3, [r7, #4]
 3995 003c 03F51063 		add	r3, r3, #2304
 3996 0040 1B68     		ldr	r3, [r3]
 3997 0042 43F00303 		orr	r3, r3, #3
 3998 0046 1360     		str	r3, [r2]
 3999              	.L167:
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4000              		.loc 1 1155 0
 4001 0048 7B68     		ldr	r3, [r7, #4]
 4002 004a 03F50063 		add	r3, r3, #2048
 4003 004e 1A46     		mov	r2, r3
 4004 0050 7B68     		ldr	r3, [r7, #4]
 4005 0052 03F50063 		add	r3, r3, #2048
 4006 0056 5B68     		ldr	r3, [r3, #4]
 4007 0058 43F48073 		orr	r3, r3, #256
 4008 005c 5360     		str	r3, [r2, #4]
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4009              		.loc 1 1157 0
 4010 005e 0023     		movs	r3, #0
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4011              		.loc 1 1158 0
 4012 0060 1846     		mov	r0, r3
 4013 0062 0C37     		adds	r7, r7, #12
 4014              	.LCFI180:
 4015              		.cfi_def_cfa_offset 4
 4016 0064 BD46     		mov	sp, r7
 4017              	.LCFI181:
ARM GAS  /tmp/ccyAKTho.s 			page 91


 4018              		.cfi_def_cfa_register 13
 4019              		@ sp needed
 4020 0066 5DF8047B 		ldr	r7, [sp], #4
 4021              	.LCFI182:
 4022              		.cfi_restore 7
 4023              		.cfi_def_cfa_offset 0
 4024 006a 7047     		bx	lr
 4025              		.cfi_endproc
 4026              	.LFE154:
 4028              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4029              		.align	1
 4030              		.global	USB_EP0_OutStart
 4031              		.syntax unified
 4032              		.thumb
 4033              		.thumb_func
 4034              		.fpu fpv4-sp-d16
 4036              	USB_EP0_OutStart:
 4037              	.LFB155:
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4038              		.loc 1 1172 0
 4039              		.cfi_startproc
 4040              		@ args = 0, pretend = 0, frame = 16
 4041              		@ frame_needed = 1, uses_anonymous_args = 0
 4042              		@ link register save eliminated.
 4043 0000 80B4     		push	{r7}
 4044              	.LCFI183:
 4045              		.cfi_def_cfa_offset 4
 4046              		.cfi_offset 7, -4
 4047 0002 85B0     		sub	sp, sp, #20
 4048              	.LCFI184:
 4049              		.cfi_def_cfa_offset 24
 4050 0004 00AF     		add	r7, sp, #0
 4051              	.LCFI185:
 4052              		.cfi_def_cfa_register 7
 4053 0006 F860     		str	r0, [r7, #12]
 4054 0008 0B46     		mov	r3, r1
 4055 000a 7A60     		str	r2, [r7, #4]
 4056 000c FB72     		strb	r3, [r7, #11]
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 4057              		.loc 1 1173 0
 4058 000e FB68     		ldr	r3, [r7, #12]
 4059 0010 03F53063 		add	r3, r3, #2816
 4060 0014 1A46     		mov	r2, r3
 4061 0016 0023     		movs	r3, #0
ARM GAS  /tmp/ccyAKTho.s 			page 92


 4062 0018 1361     		str	r3, [r2, #16]
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19U)) ;
 4063              		.loc 1 1174 0
 4064 001a FB68     		ldr	r3, [r7, #12]
 4065 001c 03F53063 		add	r3, r3, #2816
 4066 0020 1A46     		mov	r2, r3
 4067 0022 FB68     		ldr	r3, [r7, #12]
 4068 0024 03F53063 		add	r3, r3, #2816
 4069 0028 1B69     		ldr	r3, [r3, #16]
 4070 002a 43F40023 		orr	r3, r3, #524288
 4071 002e 1361     		str	r3, [r2, #16]
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 4072              		.loc 1 1175 0
 4073 0030 FB68     		ldr	r3, [r7, #12]
 4074 0032 03F53063 		add	r3, r3, #2816
 4075 0036 1A46     		mov	r2, r3
 4076 0038 FB68     		ldr	r3, [r7, #12]
 4077 003a 03F53063 		add	r3, r3, #2816
 4078 003e 1B69     		ldr	r3, [r3, #16]
 4079 0040 43F01803 		orr	r3, r3, #24
 4080 0044 1361     		str	r3, [r2, #16]
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;  
 4081              		.loc 1 1176 0
 4082 0046 FB68     		ldr	r3, [r7, #12]
 4083 0048 03F53063 		add	r3, r3, #2816
 4084 004c 1A46     		mov	r2, r3
 4085 004e FB68     		ldr	r3, [r7, #12]
 4086 0050 03F53063 		add	r3, r3, #2816
 4087 0054 1B69     		ldr	r3, [r3, #16]
 4088 0056 43F0C043 		orr	r3, r3, #1610612736
 4089 005a 1361     		str	r3, [r2, #16]
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 4090              		.loc 1 1178 0
 4091 005c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4092 005e 012B     		cmp	r3, #1
 4093 0060 0CD1     		bne	.L170
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 4094              		.loc 1 1180 0
 4095 0062 FB68     		ldr	r3, [r7, #12]
 4096 0064 03F53063 		add	r3, r3, #2816
 4097 0068 1A46     		mov	r2, r3
 4098 006a 7B68     		ldr	r3, [r7, #4]
 4099 006c 5361     		str	r3, [r2, #20]
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL = 0x80008000U;
 4100              		.loc 1 1182 0
 4101 006e FB68     		ldr	r3, [r7, #12]
 4102 0070 03F53063 		add	r3, r3, #2816
 4103 0074 1A46     		mov	r2, r3
 4104 0076 4FF08023 		mov	r3, #-2147450880
 4105 007a 1360     		str	r3, [r2]
 4106              	.L170:
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
ARM GAS  /tmp/ccyAKTho.s 			page 93


 4107              		.loc 1 1185 0
 4108 007c 0023     		movs	r3, #0
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4109              		.loc 1 1186 0
 4110 007e 1846     		mov	r0, r3
 4111 0080 1437     		adds	r7, r7, #20
 4112              	.LCFI186:
 4113              		.cfi_def_cfa_offset 4
 4114 0082 BD46     		mov	sp, r7
 4115              	.LCFI187:
 4116              		.cfi_def_cfa_register 13
 4117              		@ sp needed
 4118 0084 5DF8047B 		ldr	r7, [sp], #4
 4119              	.LCFI188:
 4120              		.cfi_restore 7
 4121              		.cfi_def_cfa_offset 0
 4122 0088 7047     		bx	lr
 4123              		.cfi_endproc
 4124              	.LFE155:
 4126              		.section	.text.USB_CoreReset,"ax",%progbits
 4127              		.align	1
 4128              		.syntax unified
 4129              		.thumb
 4130              		.thumb_func
 4131              		.fpu fpv4-sp-d16
 4133              	USB_CoreReset:
 4134              	.LFB156:
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4135              		.loc 1 1195 0
 4136              		.cfi_startproc
 4137              		@ args = 0, pretend = 0, frame = 16
 4138              		@ frame_needed = 1, uses_anonymous_args = 0
 4139              		@ link register save eliminated.
 4140 0000 80B4     		push	{r7}
 4141              	.LCFI189:
 4142              		.cfi_def_cfa_offset 4
 4143              		.cfi_offset 7, -4
 4144 0002 85B0     		sub	sp, sp, #20
 4145              	.LCFI190:
 4146              		.cfi_def_cfa_offset 24
 4147 0004 00AF     		add	r7, sp, #0
 4148              	.LCFI191:
 4149              		.cfi_def_cfa_register 7
 4150 0006 7860     		str	r0, [r7, #4]
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 4151              		.loc 1 1196 0
 4152 0008 0023     		movs	r3, #0
 4153 000a FB60     		str	r3, [r7, #12]
 4154              	.L175:
ARM GAS  /tmp/ccyAKTho.s 			page 94


1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4155              		.loc 1 1201 0
 4156 000c FB68     		ldr	r3, [r7, #12]
 4157 000e 0133     		adds	r3, r3, #1
 4158 0010 FB60     		str	r3, [r7, #12]
 4159 0012 FB68     		ldr	r3, [r7, #12]
 4160 0014 134A     		ldr	r2, .L178
 4161 0016 9342     		cmp	r3, r2
 4162 0018 01D9     		bls	.L173
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4163              		.loc 1 1203 0
 4164 001a 0323     		movs	r3, #3
 4165 001c 1BE0     		b	.L174
 4166              	.L173:
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 4167              		.loc 1 1206 0
 4168 001e 7B68     		ldr	r3, [r7, #4]
 4169 0020 1B69     		ldr	r3, [r3, #16]
 4170 0022 002B     		cmp	r3, #0
 4171 0024 F2DA     		bge	.L175
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 4172              		.loc 1 1209 0
 4173 0026 0023     		movs	r3, #0
 4174 0028 FB60     		str	r3, [r7, #12]
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 4175              		.loc 1 1210 0
 4176 002a 7B68     		ldr	r3, [r7, #4]
 4177 002c 1B69     		ldr	r3, [r3, #16]
 4178 002e 43F00102 		orr	r2, r3, #1
 4179 0032 7B68     		ldr	r3, [r7, #4]
 4180 0034 1A61     		str	r2, [r3, #16]
 4181              	.L177:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4182              		.loc 1 1214 0
 4183 0036 FB68     		ldr	r3, [r7, #12]
 4184 0038 0133     		adds	r3, r3, #1
 4185 003a FB60     		str	r3, [r7, #12]
 4186 003c FB68     		ldr	r3, [r7, #12]
 4187 003e 094A     		ldr	r2, .L178
 4188 0040 9342     		cmp	r3, r2
 4189 0042 01D9     		bls	.L176
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4190              		.loc 1 1216 0
 4191 0044 0323     		movs	r3, #3
ARM GAS  /tmp/ccyAKTho.s 			page 95


 4192 0046 06E0     		b	.L174
 4193              	.L176:
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 4194              		.loc 1 1219 0
 4195 0048 7B68     		ldr	r3, [r7, #4]
 4196 004a 1B69     		ldr	r3, [r3, #16]
 4197 004c 03F00103 		and	r3, r3, #1
 4198 0050 012B     		cmp	r3, #1
 4199 0052 F0D0     		beq	.L177
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4200              		.loc 1 1221 0
 4201 0054 0023     		movs	r3, #0
 4202              	.L174:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4203              		.loc 1 1222 0
 4204 0056 1846     		mov	r0, r3
 4205 0058 1437     		adds	r7, r7, #20
 4206              	.LCFI192:
 4207              		.cfi_def_cfa_offset 4
 4208 005a BD46     		mov	sp, r7
 4209              	.LCFI193:
 4210              		.cfi_def_cfa_register 13
 4211              		@ sp needed
 4212 005c 5DF8047B 		ldr	r7, [sp], #4
 4213              	.LCFI194:
 4214              		.cfi_restore 7
 4215              		.cfi_def_cfa_offset 0
 4216 0060 7047     		bx	lr
 4217              	.L179:
 4218 0062 00BF     		.align	2
 4219              	.L178:
 4220 0064 400D0300 		.word	200000
 4221              		.cfi_endproc
 4222              	.LFE156:
 4224              		.section	.text.USB_HostInit,"ax",%progbits
 4225              		.align	1
 4226              		.global	USB_HostInit
 4227              		.syntax unified
 4228              		.thumb
 4229              		.thumb_func
 4230              		.fpu fpv4-sp-d16
 4232              	USB_HostInit:
 4233              	.LFB157:
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers 
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode 
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit (USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
ARM GAS  /tmp/ccyAKTho.s 			page 96


1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4234              		.loc 1 1234 0
 4235              		.cfi_startproc
 4236              		@ args = 56, pretend = 16, frame = 16
 4237              		@ frame_needed = 1, uses_anonymous_args = 0
 4238 0000 84B0     		sub	sp, sp, #16
 4239              	.LCFI195:
 4240              		.cfi_def_cfa_offset 16
 4241 0002 80B5     		push	{r7, lr}
 4242              	.LCFI196:
 4243              		.cfi_def_cfa_offset 24
 4244              		.cfi_offset 7, -24
 4245              		.cfi_offset 14, -20
 4246 0004 84B0     		sub	sp, sp, #16
 4247              	.LCFI197:
 4248              		.cfi_def_cfa_offset 40
 4249 0006 00AF     		add	r7, sp, #0
 4250              	.LCFI198:
 4251              		.cfi_def_cfa_register 7
 4252 0008 7860     		str	r0, [r7, #4]
 4253 000a 07F11C00 		add	r0, r7, #28
 4254 000e 80E80E00 		stm	r0, {r1, r2, r3}
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4255              		.loc 1 1238 0
 4256 0012 7B68     		ldr	r3, [r7, #4]
 4257 0014 03F56063 		add	r3, r3, #3584
 4258 0018 1A46     		mov	r2, r3
 4259 001a 0023     		movs	r3, #0
 4260 001c 1360     		str	r3, [r2]
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Activate VBUS Sensing B */
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     defined(STM32F412Rx) || defined(STM32F412Cx) || defined(STM32F413xx) || defined(STM32F423xx)
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSASEN);
 4261              		.loc 1 1245 0
 4262 001e 7B68     		ldr	r3, [r7, #4]
 4263 0020 9B6B     		ldr	r3, [r3, #56]
 4264 0022 23F48022 		bic	r2, r3, #262144
 4265 0026 7B68     		ldr	r3, [r7, #4]
 4266 0028 9A63     		str	r2, [r3, #56]
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &=~ (USB_OTG_GCCFG_VBUSBSEN);
 4267              		.loc 1 1246 0
 4268 002a 7B68     		ldr	r3, [r7, #4]
 4269 002c 9B6B     		ldr	r3, [r3, #56]
 4270 002e 23F40022 		bic	r2, r3, #524288
 4271 0032 7B68     		ldr	r3, [r7, #4]
 4272 0034 9A63     		str	r2, [r3, #56]
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 4273              		.loc 1 1247 0
 4274 0036 7B68     		ldr	r3, [r7, #4]
 4275 0038 9B6B     		ldr	r3, [r3, #56]
 4276 003a 43F40012 		orr	r2, r3, #2097152
ARM GAS  /tmp/ccyAKTho.s 			page 97


 4277 003e 7B68     		ldr	r3, [r7, #4]
 4278 0040 9A63     		str	r2, [r3, #56]
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* STM32F446xx || STM32F469xx || STM32F479xx || STM32F412Zx || STM32F412Rx || STM32F412Vx ||
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable the FS/LS support mode only */
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((cfg.speed == USB_OTG_SPEED_FULL)&&
 4279              		.loc 1 1251 0
 4280 0042 7B6A     		ldr	r3, [r7, #36]
 4281 0044 032B     		cmp	r3, #3
 4282 0046 0FD1     		bne	.L181
 4283              		.loc 1 1251 0 is_stmt 0 discriminator 1
 4284 0048 7B68     		ldr	r3, [r7, #4]
 4285 004a B3F1A04F 		cmp	r3, #1342177280
 4286 004e 0BD0     		beq	.L181
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      (USBx != USB_OTG_FS))
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS; 
 4287              		.loc 1 1254 0 is_stmt 1
 4288 0050 7B68     		ldr	r3, [r7, #4]
 4289 0052 03F58063 		add	r3, r3, #1024
 4290 0056 1A46     		mov	r2, r3
 4291 0058 7B68     		ldr	r3, [r7, #4]
 4292 005a 03F58063 		add	r3, r3, #1024
 4293 005e 1B68     		ldr	r3, [r3]
 4294 0060 43F00403 		orr	r3, r3, #4
 4295 0064 1360     		str	r3, [r2]
 4296 0066 0AE0     		b	.L182
 4297              	.L181:
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);  
 4298              		.loc 1 1258 0
 4299 0068 7B68     		ldr	r3, [r7, #4]
 4300 006a 03F58063 		add	r3, r3, #1024
 4301 006e 1A46     		mov	r2, r3
 4302 0070 7B68     		ldr	r3, [r7, #4]
 4303 0072 03F58063 		add	r3, r3, #1024
 4304 0076 1B68     		ldr	r3, [r3]
 4305 0078 23F00403 		bic	r3, r3, #4
 4306 007c 1360     		str	r3, [r2]
 4307              	.L182:
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10U); /* all Tx FIFOs */
 4308              		.loc 1 1262 0
 4309 007e 1021     		movs	r1, #16
 4310 0080 7868     		ldr	r0, [r7, #4]
 4311 0082 FFF7FEFF 		bl	USB_FlushTxFifo
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 4312              		.loc 1 1263 0
 4313 0086 7868     		ldr	r0, [r7, #4]
 4314 0088 FFF7FEFF 		bl	USB_FlushRxFifo
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
ARM GAS  /tmp/ccyAKTho.s 			page 98


 4315              		.loc 1 1266 0
 4316 008c 0023     		movs	r3, #0
 4317 008e FB60     		str	r3, [r7, #12]
 4318 0090 15E0     		b	.L183
 4319              	.L184:
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 4320              		.loc 1 1268 0 discriminator 3
 4321 0092 FB68     		ldr	r3, [r7, #12]
 4322 0094 5A01     		lsls	r2, r3, #5
 4323 0096 7B68     		ldr	r3, [r7, #4]
 4324 0098 1344     		add	r3, r3, r2
 4325 009a 03F5A063 		add	r3, r3, #1280
 4326 009e 1A46     		mov	r2, r3
 4327 00a0 4FF0FF33 		mov	r3, #-1
 4328 00a4 9360     		str	r3, [r2, #8]
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4329              		.loc 1 1269 0 discriminator 3
 4330 00a6 FB68     		ldr	r3, [r7, #12]
 4331 00a8 5A01     		lsls	r2, r3, #5
 4332 00aa 7B68     		ldr	r3, [r7, #4]
 4333 00ac 1344     		add	r3, r3, r2
 4334 00ae 03F5A063 		add	r3, r3, #1280
 4335 00b2 1A46     		mov	r2, r3
 4336 00b4 0023     		movs	r3, #0
 4337 00b6 D360     		str	r3, [r2, #12]
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4338              		.loc 1 1266 0 discriminator 3
 4339 00b8 FB68     		ldr	r3, [r7, #12]
 4340 00ba 0133     		adds	r3, r3, #1
 4341 00bc FB60     		str	r3, [r7, #12]
 4342              	.L183:
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4343              		.loc 1 1266 0 is_stmt 0 discriminator 1
 4344 00be 3A6A     		ldr	r2, [r7, #32]
 4345 00c0 FB68     		ldr	r3, [r7, #12]
 4346 00c2 9A42     		cmp	r2, r3
 4347 00c4 E5D8     		bhi	.L184
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable VBUS driving */
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_DriveVbus(USBx, 1U);
 4348              		.loc 1 1273 0 is_stmt 1
 4349 00c6 0121     		movs	r1, #1
 4350 00c8 7868     		ldr	r0, [r7, #4]
 4351 00ca FFF7FEFF 		bl	USB_DriveVbus
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(200U);
 4352              		.loc 1 1275 0
 4353 00ce C820     		movs	r0, #200
 4354 00d0 FFF7FEFF 		bl	HAL_Delay
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4355              		.loc 1 1278 0
 4356 00d4 7B68     		ldr	r3, [r7, #4]
 4357 00d6 0022     		movs	r2, #0
ARM GAS  /tmp/ccyAKTho.s 			page 99


 4358 00d8 9A61     		str	r2, [r3, #24]
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4359              		.loc 1 1281 0
 4360 00da 7B68     		ldr	r3, [r7, #4]
 4361 00dc 4FF0FF32 		mov	r2, #-1
 4362 00e0 5A61     		str	r2, [r3, #20]
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if(USBx == USB_OTG_FS)
 4363              		.loc 1 1283 0
 4364 00e2 7B68     		ldr	r3, [r7, #4]
 4365 00e4 B3F1A04F 		cmp	r3, #1342177280
 4366 00e8 0AD1     		bne	.L185
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U; 
 4367              		.loc 1 1286 0
 4368 00ea 7B68     		ldr	r3, [r7, #4]
 4369 00ec 8022     		movs	r2, #128
 4370 00ee 5A62     		str	r2, [r3, #36]
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x60U << 16U)& USB_OTG_NPTXFD) | 0x80U);
 4371              		.loc 1 1287 0
 4372 00f0 7B68     		ldr	r3, [r7, #4]
 4373 00f2 144A     		ldr	r2, .L189
 4374 00f4 9A62     		str	r2, [r3, #40]
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0x40U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4375              		.loc 1 1288 0
 4376 00f6 7B68     		ldr	r3, [r7, #4]
 4377 00f8 134A     		ldr	r2, .L189+4
 4378 00fa C3F80021 		str	r2, [r3, #256]
 4379 00fe 0AE0     		b	.L186
 4380              	.L185:
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U; 
 4381              		.loc 1 1293 0
 4382 0100 7B68     		ldr	r3, [r7, #4]
 4383 0102 4FF40072 		mov	r2, #512
 4384 0106 5A62     		str	r2, [r3, #36]
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t )(((0x100U << 16U)& USB_OTG_NPTXFD) | 0x200U);
 4385              		.loc 1 1294 0
 4386 0108 7B68     		ldr	r3, [r7, #4]
 4387 010a 104A     		ldr	r2, .L189+8
 4388 010c 9A62     		str	r2, [r3, #40]
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t )(((0xE0U << 16U)& USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 4389              		.loc 1 1295 0
 4390 010e 7B68     		ldr	r3, [r7, #4]
 4391 0110 0F4A     		ldr	r2, .L189+12
 4392 0112 C3F80021 		str	r2, [r3, #256]
 4393              	.L186:
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == DISABLE)
ARM GAS  /tmp/ccyAKTho.s 			page 100


 4394              		.loc 1 1299 0
 4395 0116 BB6A     		ldr	r3, [r7, #40]
 4396 0118 002B     		cmp	r3, #0
 4397 011a 05D1     		bne	.L187
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM; 
 4398              		.loc 1 1301 0
 4399 011c 7B68     		ldr	r3, [r7, #4]
 4400 011e 9B69     		ldr	r3, [r3, #24]
 4401 0120 43F01002 		orr	r2, r3, #16
 4402 0124 7B68     		ldr	r3, [r7, #4]
 4403 0126 9A61     		str	r2, [r3, #24]
 4404              	.L187:
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM |\
 4405              		.loc 1 1305 0
 4406 0128 7B68     		ldr	r3, [r7, #4]
 4407 012a 9A69     		ldr	r2, [r3, #24]
 4408 012c 094B     		ldr	r3, .L189+16
 4409 012e 1343     		orrs	r3, r3, r2
 4410 0130 7A68     		ldr	r2, [r7, #4]
 4411 0132 9361     		str	r3, [r2, #24]
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             |USB_OTG_GINTSTS_DISCINT|\
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4412              		.loc 1 1309 0
 4413 0134 0023     		movs	r3, #0
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4414              		.loc 1 1310 0
 4415 0136 1846     		mov	r0, r3
 4416 0138 1037     		adds	r7, r7, #16
 4417              	.LCFI199:
 4418              		.cfi_def_cfa_offset 24
 4419 013a BD46     		mov	sp, r7
 4420              	.LCFI200:
 4421              		.cfi_def_cfa_register 13
 4422              		@ sp needed
 4423 013c BDE88040 		pop	{r7, lr}
 4424              	.LCFI201:
 4425              		.cfi_restore 14
 4426              		.cfi_restore 7
 4427              		.cfi_def_cfa_offset 16
 4428 0140 04B0     		add	sp, sp, #16
 4429              	.LCFI202:
 4430              		.cfi_def_cfa_offset 0
 4431 0142 7047     		bx	lr
 4432              	.L190:
 4433              		.align	2
 4434              	.L189:
 4435 0144 80006000 		.word	6291584
 4436 0148 E0004000 		.word	4194528
 4437 014c 00020001 		.word	16777728
 4438 0150 0003E000 		.word	14680832
 4439 0154 080020A3 		.word	-1558183928
ARM GAS  /tmp/ccyAKTho.s 			page 101


 4440              		.cfi_endproc
 4441              	.LFE157:
 4443              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 4444              		.align	1
 4445              		.global	USB_InitFSLSPClkSel
 4446              		.syntax unified
 4447              		.thumb
 4448              		.thumb_func
 4449              		.fpu fpv4-sp-d16
 4451              	USB_InitFSLSPClkSel:
 4452              	.LFB158:
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the 
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock 
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx , uint8_t freq)
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4453              		.loc 1 1323 0
 4454              		.cfi_startproc
 4455              		@ args = 0, pretend = 0, frame = 8
 4456              		@ frame_needed = 1, uses_anonymous_args = 0
 4457              		@ link register save eliminated.
 4458 0000 80B4     		push	{r7}
 4459              	.LCFI203:
 4460              		.cfi_def_cfa_offset 4
 4461              		.cfi_offset 7, -4
 4462 0002 83B0     		sub	sp, sp, #12
 4463              	.LCFI204:
 4464              		.cfi_def_cfa_offset 16
 4465 0004 00AF     		add	r7, sp, #0
 4466              	.LCFI205:
 4467              		.cfi_def_cfa_register 7
 4468 0006 7860     		str	r0, [r7, #4]
 4469 0008 0B46     		mov	r3, r1
 4470 000a FB70     		strb	r3, [r7, #3]
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 4471              		.loc 1 1324 0
 4472 000c 7B68     		ldr	r3, [r7, #4]
 4473 000e 03F58063 		add	r3, r3, #1024
 4474 0012 1A46     		mov	r2, r3
 4475 0014 7B68     		ldr	r3, [r7, #4]
 4476 0016 03F58063 		add	r3, r3, #1024
 4477 001a 1B68     		ldr	r3, [r3]
 4478 001c 23F00303 		bic	r3, r3, #3
 4479 0020 1360     		str	r3, [r2]
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (freq & USB_OTG_HCFG_FSLSPCS);
 4480              		.loc 1 1325 0
 4481 0022 7B68     		ldr	r3, [r7, #4]
 4482 0024 03F58063 		add	r3, r3, #1024
 4483 0028 1946     		mov	r1, r3
ARM GAS  /tmp/ccyAKTho.s 			page 102


 4484 002a 7B68     		ldr	r3, [r7, #4]
 4485 002c 03F58063 		add	r3, r3, #1024
 4486 0030 1A68     		ldr	r2, [r3]
 4487 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4488 0034 03F00303 		and	r3, r3, #3
 4489 0038 1343     		orrs	r3, r3, r2
 4490 003a 0B60     		str	r3, [r1]
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq ==  HCFG_48_MHZ)
 4491              		.loc 1 1327 0
 4492 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4493 003e 012B     		cmp	r3, #1
 4494 0040 07D1     		bne	.L192
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 4495              		.loc 1 1329 0
 4496 0042 7B68     		ldr	r3, [r7, #4]
 4497 0044 03F58063 		add	r3, r3, #1024
 4498 0048 1A46     		mov	r2, r3
 4499 004a 4BF68033 		movw	r3, #48000
 4500 004e 5360     		str	r3, [r2, #4]
 4501 0050 09E0     		b	.L193
 4502              	.L192:
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq ==  HCFG_6_MHZ)
 4503              		.loc 1 1331 0
 4504 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4505 0054 022B     		cmp	r3, #2
 4506 0056 06D1     		bne	.L193
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 4507              		.loc 1 1333 0
 4508 0058 7B68     		ldr	r3, [r7, #4]
 4509 005a 03F58063 		add	r3, r3, #1024
 4510 005e 1A46     		mov	r2, r3
 4511 0060 41F27073 		movw	r3, #6000
 4512 0064 5360     		str	r3, [r2, #4]
 4513              	.L193:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   } 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 4514              		.loc 1 1335 0
 4515 0066 0023     		movs	r3, #0
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4516              		.loc 1 1336 0
 4517 0068 1846     		mov	r0, r3
 4518 006a 0C37     		adds	r7, r7, #12
 4519              	.LCFI206:
 4520              		.cfi_def_cfa_offset 4
 4521 006c BD46     		mov	sp, r7
 4522              	.LCFI207:
 4523              		.cfi_def_cfa_register 13
 4524              		@ sp needed
 4525 006e 5DF8047B 		ldr	r7, [sp], #4
 4526              	.LCFI208:
 4527              		.cfi_restore 7
 4528              		.cfi_def_cfa_offset 0
 4529 0072 7047     		bx	lr
ARM GAS  /tmp/ccyAKTho.s 			page 103


 4530              		.cfi_endproc
 4531              	.LFE158:
 4533              		.section	.text.USB_ResetPort,"ax",%progbits
 4534              		.align	1
 4535              		.global	USB_ResetPort
 4536              		.syntax unified
 4537              		.thumb
 4538              		.thumb_func
 4539              		.fpu fpv4-sp-d16
 4541              	USB_ResetPort:
 4542              	.LFB159:
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note   (1)The application must wait at least 10 ms
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4543              		.loc 1 1346 0
 4544              		.cfi_startproc
 4545              		@ args = 0, pretend = 0, frame = 16
 4546              		@ frame_needed = 1, uses_anonymous_args = 0
 4547 0000 80B5     		push	{r7, lr}
 4548              	.LCFI209:
 4549              		.cfi_def_cfa_offset 8
 4550              		.cfi_offset 7, -8
 4551              		.cfi_offset 14, -4
 4552 0002 84B0     		sub	sp, sp, #16
 4553              	.LCFI210:
 4554              		.cfi_def_cfa_offset 24
 4555 0004 00AF     		add	r7, sp, #0
 4556              	.LCFI211:
 4557              		.cfi_def_cfa_register 7
 4558 0006 7860     		str	r0, [r7, #4]
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4559              		.loc 1 1349 0
 4560 0008 7B68     		ldr	r3, [r7, #4]
 4561 000a 03F58863 		add	r3, r3, #1088
 4562 000e 1B68     		ldr	r3, [r3]
 4563 0010 FB60     		str	r3, [r7, #12]
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
 4564              		.loc 1 1351 0
 4565 0012 FB68     		ldr	r3, [r7, #12]
 4566 0014 23F02E03 		bic	r3, r3, #46
 4567 0018 FB60     		str	r3, [r7, #12]
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);  
 4568              		.loc 1 1354 0
 4569 001a 7B68     		ldr	r3, [r7, #4]
 4570 001c 03F58863 		add	r3, r3, #1088
ARM GAS  /tmp/ccyAKTho.s 			page 104


 4571 0020 1A46     		mov	r2, r3
 4572 0022 FB68     		ldr	r3, [r7, #12]
 4573 0024 43F48073 		orr	r3, r3, #256
 4574 0028 1360     		str	r3, [r2]
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay (10U);                                /* See Note #1 */
 4575              		.loc 1 1355 0
 4576 002a 0A20     		movs	r0, #10
 4577 002c FFF7FEFF 		bl	HAL_Delay
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0); 
 4578              		.loc 1 1356 0
 4579 0030 7B68     		ldr	r3, [r7, #4]
 4580 0032 03F58863 		add	r3, r3, #1088
 4581 0036 1A46     		mov	r2, r3
 4582 0038 FB68     		ldr	r3, [r7, #12]
 4583 003a 23F48073 		bic	r3, r3, #256
 4584 003e 1360     		str	r3, [r2]
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4585              		.loc 1 1357 0
 4586 0040 0023     		movs	r3, #0
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4587              		.loc 1 1358 0
 4588 0042 1846     		mov	r0, r3
 4589 0044 1037     		adds	r7, r7, #16
 4590              	.LCFI212:
 4591              		.cfi_def_cfa_offset 8
 4592 0046 BD46     		mov	sp, r7
 4593              	.LCFI213:
 4594              		.cfi_def_cfa_register 13
 4595              		@ sp needed
 4596 0048 80BD     		pop	{r7, pc}
 4597              		.cfi_endproc
 4598              	.LFE159:
 4600              		.section	.text.USB_DriveVbus,"ax",%progbits
 4601              		.align	1
 4602              		.global	USB_DriveVbus
 4603              		.syntax unified
 4604              		.thumb
 4605              		.thumb_func
 4606              		.fpu fpv4-sp-d16
 4608              	USB_DriveVbus:
 4609              	.LFB160:
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : VBUS Active 
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : VBUS Inactive
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus (USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4610              		.loc 1 1369 0
 4611              		.cfi_startproc
 4612              		@ args = 0, pretend = 0, frame = 16
 4613              		@ frame_needed = 1, uses_anonymous_args = 0
 4614              		@ link register save eliminated.
ARM GAS  /tmp/ccyAKTho.s 			page 105


 4615 0000 80B4     		push	{r7}
 4616              	.LCFI214:
 4617              		.cfi_def_cfa_offset 4
 4618              		.cfi_offset 7, -4
 4619 0002 85B0     		sub	sp, sp, #20
 4620              	.LCFI215:
 4621              		.cfi_def_cfa_offset 24
 4622 0004 00AF     		add	r7, sp, #0
 4623              	.LCFI216:
 4624              		.cfi_def_cfa_register 7
 4625 0006 7860     		str	r0, [r7, #4]
 4626 0008 0B46     		mov	r3, r1
 4627 000a FB70     		strb	r3, [r7, #3]
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4628              		.loc 1 1372 0
 4629 000c 7B68     		ldr	r3, [r7, #4]
 4630 000e 03F58863 		add	r3, r3, #1088
 4631 0012 1B68     		ldr	r3, [r3]
 4632 0014 FB60     		str	r3, [r7, #12]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA    | USB_OTG_HPRT_PCDET |\
 4633              		.loc 1 1373 0
 4634 0016 FB68     		ldr	r3, [r7, #12]
 4635 0018 23F02E03 		bic	r3, r3, #46
 4636 001c FB60     		str	r3, [r7, #12]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                          USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG );
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 4637              		.loc 1 1376 0
 4638 001e FB68     		ldr	r3, [r7, #12]
 4639 0020 03F48053 		and	r3, r3, #4096
 4640 0024 002B     		cmp	r3, #0
 4641 0026 0AD1     		bne	.L198
 4642              		.loc 1 1376 0 is_stmt 0 discriminator 1
 4643 0028 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4644 002a 012B     		cmp	r3, #1
 4645 002c 07D1     		bne	.L198
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0); 
 4646              		.loc 1 1378 0 is_stmt 1
 4647 002e 7B68     		ldr	r3, [r7, #4]
 4648 0030 03F58863 		add	r3, r3, #1088
 4649 0034 1A46     		mov	r2, r3
 4650 0036 FB68     		ldr	r3, [r7, #12]
 4651 0038 43F48053 		orr	r3, r3, #4096
 4652 003c 1360     		str	r3, [r2]
 4653              	.L198:
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 4654              		.loc 1 1380 0
 4655 003e FB68     		ldr	r3, [r7, #12]
 4656 0040 03F48053 		and	r3, r3, #4096
 4657 0044 B3F5805F 		cmp	r3, #4096
 4658 0048 0AD1     		bne	.L199
 4659              		.loc 1 1380 0 is_stmt 0 discriminator 1
 4660 004a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccyAKTho.s 			page 106


 4661 004c 002B     		cmp	r3, #0
 4662 004e 07D1     		bne	.L199
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0); 
 4663              		.loc 1 1382 0 is_stmt 1
 4664 0050 7B68     		ldr	r3, [r7, #4]
 4665 0052 03F58863 		add	r3, r3, #1088
 4666 0056 1A46     		mov	r2, r3
 4667 0058 FB68     		ldr	r3, [r7, #12]
 4668 005a 23F48053 		bic	r3, r3, #4096
 4669 005e 1360     		str	r3, [r2]
 4670              	.L199:
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK; 
 4671              		.loc 1 1384 0
 4672 0060 0023     		movs	r3, #0
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4673              		.loc 1 1385 0
 4674 0062 1846     		mov	r0, r3
 4675 0064 1437     		adds	r7, r7, #20
 4676              	.LCFI217:
 4677              		.cfi_def_cfa_offset 4
 4678 0066 BD46     		mov	sp, r7
 4679              	.LCFI218:
 4680              		.cfi_def_cfa_register 13
 4681              		@ sp needed
 4682 0068 5DF8047B 		ldr	r7, [sp], #4
 4683              	.LCFI219:
 4684              		.cfi_restore 7
 4685              		.cfi_def_cfa_offset 0
 4686 006c 7047     		bx	lr
 4687              		.cfi_endproc
 4688              	.LFE160:
 4690              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 4691              		.align	1
 4692              		.global	USB_GetHostSpeed
 4693              		.syntax unified
 4694              		.thumb
 4695              		.thumb_func
 4696              		.fpu fpv4-sp-d16
 4698              	USB_GetHostSpeed:
 4699              	.LFB161:
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed (USB_OTG_GlobalTypeDef *USBx)
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4700              		.loc 1 1397 0
 4701              		.cfi_startproc
 4702              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccyAKTho.s 			page 107


 4703              		@ frame_needed = 1, uses_anonymous_args = 0
 4704              		@ link register save eliminated.
 4705 0000 80B4     		push	{r7}
 4706              	.LCFI220:
 4707              		.cfi_def_cfa_offset 4
 4708              		.cfi_offset 7, -4
 4709 0002 85B0     		sub	sp, sp, #20
 4710              	.LCFI221:
 4711              		.cfi_def_cfa_offset 24
 4712 0004 00AF     		add	r7, sp, #0
 4713              	.LCFI222:
 4714              		.cfi_def_cfa_register 7
 4715 0006 7860     		str	r0, [r7, #4]
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0;
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4716              		.loc 1 1400 0
 4717 0008 7B68     		ldr	r3, [r7, #4]
 4718 000a 03F58863 		add	r3, r3, #1088
 4719 000e 1B68     		ldr	r3, [r3]
 4720 0010 FB60     		str	r3, [r7, #12]
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17U);
 4721              		.loc 1 1401 0
 4722 0012 FB68     		ldr	r3, [r7, #12]
 4723 0014 5B0C     		lsrs	r3, r3, #17
 4724 0016 03F00303 		and	r3, r3, #3
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4725              		.loc 1 1402 0
 4726 001a 1846     		mov	r0, r3
 4727 001c 1437     		adds	r7, r7, #20
 4728              	.LCFI223:
 4729              		.cfi_def_cfa_offset 4
 4730 001e BD46     		mov	sp, r7
 4731              	.LCFI224:
 4732              		.cfi_def_cfa_register 13
 4733              		@ sp needed
 4734 0020 5DF8047B 		ldr	r7, [sp], #4
 4735              	.LCFI225:
 4736              		.cfi_restore 7
 4737              		.cfi_def_cfa_offset 0
 4738 0024 7047     		bx	lr
 4739              		.cfi_endproc
 4740              	.LFE161:
 4742              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 4743              		.align	1
 4744              		.global	USB_GetCurrentFrame
 4745              		.syntax unified
 4746              		.thumb
 4747              		.thumb_func
 4748              		.fpu fpv4-sp-d16
 4750              	USB_GetCurrentFrame:
 4751              	.LFB162:
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
ARM GAS  /tmp/ccyAKTho.s 			page 108


1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame (USB_OTG_GlobalTypeDef *USBx)
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4752              		.loc 1 1410 0
 4753              		.cfi_startproc
 4754              		@ args = 0, pretend = 0, frame = 8
 4755              		@ frame_needed = 1, uses_anonymous_args = 0
 4756              		@ link register save eliminated.
 4757 0000 80B4     		push	{r7}
 4758              	.LCFI226:
 4759              		.cfi_def_cfa_offset 4
 4760              		.cfi_offset 7, -4
 4761 0002 83B0     		sub	sp, sp, #12
 4762              	.LCFI227:
 4763              		.cfi_def_cfa_offset 16
 4764 0004 00AF     		add	r7, sp, #0
 4765              	.LCFI228:
 4766              		.cfi_def_cfa_register 7
 4767 0006 7860     		str	r0, [r7, #4]
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 4768              		.loc 1 1411 0
 4769 0008 7B68     		ldr	r3, [r7, #4]
 4770 000a 03F58063 		add	r3, r3, #1024
 4771 000e 9B68     		ldr	r3, [r3, #8]
 4772 0010 9BB2     		uxth	r3, r3
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4773              		.loc 1 1412 0
 4774 0012 1846     		mov	r0, r3
 4775 0014 0C37     		adds	r7, r7, #12
 4776              	.LCFI229:
 4777              		.cfi_def_cfa_offset 4
 4778 0016 BD46     		mov	sp, r7
 4779              	.LCFI230:
 4780              		.cfi_def_cfa_register 13
 4781              		@ sp needed
 4782 0018 5DF8047B 		ldr	r7, [sp], #4
 4783              	.LCFI231:
 4784              		.cfi_restore 7
 4785              		.cfi_def_cfa_offset 0
 4786 001c 7047     		bx	lr
 4787              		.cfi_endproc
 4788              	.LFE162:
 4790              		.section	.text.USB_HC_Init,"ax",%progbits
 4791              		.align	1
 4792              		.global	USB_HC_Init
 4793              		.syntax unified
 4794              		.thumb
 4795              		.thumb_func
 4796              		.fpu fpv4-sp-d16
 4798              	USB_HC_Init:
 4799              	.LFB163:
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
ARM GAS  /tmp/ccyAKTho.s 			page 109


1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,  
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ch_num,
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum,
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t dev_address,
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t speed,
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type,
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint16_t mps)
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4800              		.loc 1 1445 0
 4801              		.cfi_startproc
 4802              		@ args = 12, pretend = 0, frame = 8
 4803              		@ frame_needed = 1, uses_anonymous_args = 0
 4804              		@ link register save eliminated.
 4805 0000 80B4     		push	{r7}
 4806              	.LCFI232:
 4807              		.cfi_def_cfa_offset 4
 4808              		.cfi_offset 7, -4
 4809 0002 83B0     		sub	sp, sp, #12
 4810              	.LCFI233:
 4811              		.cfi_def_cfa_offset 16
 4812 0004 00AF     		add	r7, sp, #0
 4813              	.LCFI234:
 4814              		.cfi_def_cfa_register 7
 4815 0006 7860     		str	r0, [r7, #4]
 4816 0008 0846     		mov	r0, r1
 4817 000a 1146     		mov	r1, r2
 4818 000c 1A46     		mov	r2, r3
 4819 000e 0346     		mov	r3, r0
 4820 0010 FB70     		strb	r3, [r7, #3]
 4821 0012 0B46     		mov	r3, r1
 4822 0014 BB70     		strb	r3, [r7, #2]
 4823 0016 1346     		mov	r3, r2
 4824 0018 7B70     		strb	r3, [r7, #1]
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCINT = 0xFFFFFFFFU;
 4825              		.loc 1 1448 0
 4826 001a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccyAKTho.s 			page 110


 4827 001c 5A01     		lsls	r2, r3, #5
 4828 001e 7B68     		ldr	r3, [r7, #4]
 4829 0020 1344     		add	r3, r3, r2
 4830 0022 03F5A063 		add	r3, r3, #1280
 4831 0026 1A46     		mov	r2, r3
 4832 0028 4FF0FF33 		mov	r3, #-1
 4833 002c 9360     		str	r3, [r2, #8]
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type) 
 4834              		.loc 1 1451 0
 4835 002e 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 4836 0030 032B     		cmp	r3, #3
 4837 0032 00F28680 		bhi	.L206
 4838 0036 01A2     		adr	r2, .L208
 4839 0038 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 4840              		.p2align 2
 4841              	.L208:
 4842 003c 4D000000 		.word	.L207+1
 4843 0040 F9000000 		.word	.L209+1
 4844 0044 4D000000 		.word	.L207+1
 4845 0048 B9000000 		.word	.L210+1
 4846              		.p2align 1
 4847              	.L207:
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_CTRL:
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_BULK:
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 4848              		.loc 1 1456 0
 4849 004c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4850 004e 5A01     		lsls	r2, r3, #5
 4851 0050 7B68     		ldr	r3, [r7, #4]
 4852 0052 1344     		add	r3, r3, r2
 4853 0054 03F5A063 		add	r3, r3, #1280
 4854 0058 1A46     		mov	r2, r3
 4855 005a 40F29D43 		movw	r3, #1181
 4856 005e D360     		str	r3, [r2, #12]
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM ;
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 4857              		.loc 1 1463 0
 4858 0060 97F90230 		ldrsb	r3, [r7, #2]
 4859 0064 002B     		cmp	r3, #0
 4860 0066 11DA     		bge	.L211
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 4861              		.loc 1 1465 0
 4862 0068 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4863 006a 5A01     		lsls	r2, r3, #5
 4864 006c 7B68     		ldr	r3, [r7, #4]
 4865 006e 1344     		add	r3, r3, r2
 4866 0070 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccyAKTho.s 			page 111


 4867 0074 1946     		mov	r1, r3
 4868 0076 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4869 0078 5A01     		lsls	r2, r3, #5
 4870 007a 7B68     		ldr	r3, [r7, #4]
 4871 007c 1344     		add	r3, r3, r2
 4872 007e 03F5A063 		add	r3, r3, #1280
 4873 0082 DB68     		ldr	r3, [r3, #12]
 4874 0084 43F48073 		orr	r3, r3, #256
 4875 0088 CB60     		str	r3, [r1, #12]
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else 
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if(USBx != USB_OTG_FS)
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
 4876              		.loc 1 1474 0
 4877 008a 55E0     		b	.L221
 4878              	.L211:
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 4879              		.loc 1 1469 0
 4880 008c 7B68     		ldr	r3, [r7, #4]
 4881 008e B3F1A04F 		cmp	r3, #1342177280
 4882 0092 51D0     		beq	.L221
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 4883              		.loc 1 1471 0
 4884 0094 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4885 0096 5A01     		lsls	r2, r3, #5
 4886 0098 7B68     		ldr	r3, [r7, #4]
 4887 009a 1344     		add	r3, r3, r2
 4888 009c 03F5A063 		add	r3, r3, #1280
 4889 00a0 1946     		mov	r1, r3
 4890 00a2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4891 00a4 5A01     		lsls	r2, r3, #5
 4892 00a6 7B68     		ldr	r3, [r7, #4]
 4893 00a8 1344     		add	r3, r3, r2
 4894 00aa 03F5A063 		add	r3, r3, #1280
 4895 00ae DB68     		ldr	r3, [r3, #12]
 4896 00b0 43F06003 		orr	r3, r3, #96
 4897 00b4 CB60     		str	r3, [r1, #12]
 4898              		.loc 1 1474 0
 4899 00b6 3FE0     		b	.L221
 4900              	.L210:
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_INTR:
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 4901              		.loc 1 1478 0
 4902 00b8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4903 00ba 5A01     		lsls	r2, r3, #5
 4904 00bc 7B68     		ldr	r3, [r7, #4]
 4905 00be 1344     		add	r3, r3, r2
 4906 00c0 03F5A063 		add	r3, r3, #1280
 4907 00c4 1A46     		mov	r2, r3
 4908 00c6 40F29D63 		movw	r3, #1693
ARM GAS  /tmp/ccyAKTho.s 			page 112


 4909 00ca D360     		str	r3, [r2, #12]
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_STALLM |\
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_TXERRM |\
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_DTERRM |\
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_NAKM   |\
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;    
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 4910              		.loc 1 1486 0
 4911 00cc 97F90230 		ldrsb	r3, [r7, #2]
 4912 00d0 002B     		cmp	r3, #0
 4913 00d2 33DA     		bge	.L222
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 4914              		.loc 1 1488 0
 4915 00d4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4916 00d6 5A01     		lsls	r2, r3, #5
 4917 00d8 7B68     		ldr	r3, [r7, #4]
 4918 00da 1344     		add	r3, r3, r2
 4919 00dc 03F5A063 		add	r3, r3, #1280
 4920 00e0 1946     		mov	r1, r3
 4921 00e2 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4922 00e4 5A01     		lsls	r2, r3, #5
 4923 00e6 7B68     		ldr	r3, [r7, #4]
 4924 00e8 1344     		add	r3, r3, r2
 4925 00ea 03F5A063 		add	r3, r3, #1280
 4926 00ee DB68     		ldr	r3, [r3, #12]
 4927 00f0 43F48073 		orr	r3, r3, #256
 4928 00f4 CB60     		str	r3, [r1, #12]
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
 4929              		.loc 1 1491 0
 4930 00f6 21E0     		b	.L222
 4931              	.L209:
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_ISOC:
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |\
 4932              		.loc 1 1494 0
 4933 00f8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4934 00fa 5A01     		lsls	r2, r3, #5
 4935 00fc 7B68     		ldr	r3, [r7, #4]
 4936 00fe 1344     		add	r3, r3, r2
 4937 0100 03F5A063 		add	r3, r3, #1280
 4938 0104 1A46     		mov	r2, r3
 4939 0106 40F22523 		movw	r3, #549
 4940 010a D360     		str	r3, [r2, #12]
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_ACKM   |\
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_AHBERR |\
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCINTMSK_FRMORM ;   
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (epnum & 0x80U) 
 4941              		.loc 1 1499 0
 4942 010c 97F90230 		ldrsb	r3, [r7, #2]
 4943 0110 002B     		cmp	r3, #0
 4944 0112 15DA     		bge	.L223
ARM GAS  /tmp/ccyAKTho.s 			page 113


1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);      
 4945              		.loc 1 1501 0
 4946 0114 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4947 0116 5A01     		lsls	r2, r3, #5
 4948 0118 7B68     		ldr	r3, [r7, #4]
 4949 011a 1344     		add	r3, r3, r2
 4950 011c 03F5A063 		add	r3, r3, #1280
 4951 0120 1946     		mov	r1, r3
 4952 0122 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4953 0124 5A01     		lsls	r2, r3, #5
 4954 0126 7B68     		ldr	r3, [r7, #4]
 4955 0128 1344     		add	r3, r3, r2
 4956 012a 03F5A063 		add	r3, r3, #1280
 4957 012e DB68     		ldr	r3, [r3, #12]
 4958 0130 43F4C073 		orr	r3, r3, #384
 4959 0134 CB60     		str	r3, [r1, #12]
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     break;
 4960              		.loc 1 1503 0
 4961 0136 03E0     		b	.L223
 4962              	.L221:
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
 4963              		.loc 1 1474 0
 4964 0138 00BF     		nop
 4965 013a 02E0     		b	.L206
 4966              	.L222:
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   case EP_TYPE_ISOC:
 4967              		.loc 1 1491 0
 4968 013c 00BF     		nop
 4969 013e 00E0     		b	.L206
 4970              	.L223:
 4971              		.loc 1 1503 0
 4972 0140 00BF     		nop
 4973              	.L206:
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= (1 << ch_num);
 4974              		.loc 1 1507 0
 4975 0142 7B68     		ldr	r3, [r7, #4]
 4976 0144 03F58063 		add	r3, r3, #1024
 4977 0148 1846     		mov	r0, r3
 4978 014a 7B68     		ldr	r3, [r7, #4]
 4979 014c 03F58063 		add	r3, r3, #1024
 4980 0150 9B69     		ldr	r3, [r3, #24]
 4981 0152 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 4982 0154 0121     		movs	r1, #1
 4983 0156 01FA02F2 		lsl	r2, r1, r2
 4984 015a 1343     		orrs	r3, r3, r2
 4985 015c 8361     		str	r3, [r0, #24]
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 4986              		.loc 1 1510 0
 4987 015e 7B68     		ldr	r3, [r7, #4]
 4988 0160 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/ccyAKTho.s 			page 114


 4989 0162 43F00072 		orr	r2, r3, #33554432
 4990 0166 7B68     		ldr	r3, [r7, #4]
 4991 0168 9A61     		str	r2, [r3, #24]
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = (((dev_address << 22U) & USB_OTG_HCCHAR_DAD)  |\
 4992              		.loc 1 1513 0
 4993 016a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4994 016c 5A01     		lsls	r2, r3, #5
 4995 016e 7B68     		ldr	r3, [r7, #4]
 4996 0170 1344     		add	r3, r3, r2
 4997 0172 03F5A063 		add	r3, r3, #1280
 4998 0176 1946     		mov	r1, r3
 4999 0178 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 5000 017a 9B05     		lsls	r3, r3, #22
 5001 017c 03F0FE52 		and	r2, r3, #532676608
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 5002              		.loc 1 1514 0
 5003 0180 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 5004 0182 DB02     		lsls	r3, r3, #11
 5005 0184 03F4F043 		and	r3, r3, #30720
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 5006              		.loc 1 1513 0
 5007 0188 1A43     		orrs	r2, r2, r3
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((((epnum & 0x80U) == 0x80U)<< 15U) & USB_OTG_HCCHAR_EPDIR)|\
 5008              		.loc 1 1515 0
 5009 018a 97F90230 		ldrsb	r3, [r7, #2]
 5010 018e 002B     		cmp	r3, #0
 5011 0190 02DA     		bge	.L215
 5012              		.loc 1 1515 0 is_stmt 0 discriminator 1
 5013 0192 4FF40043 		mov	r3, #32768
 5014 0196 00E0     		b	.L216
 5015              	.L215:
 5016              		.loc 1 1515 0 discriminator 2
 5017 0198 0023     		movs	r3, #0
 5018              	.L216:
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 5019              		.loc 1 1514 0 is_stmt 1
 5020 019a 1A43     		orrs	r2, r2, r3
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((speed == USB_OTG_SPEED_LOW)<< 17U) & USB_OTG_HCCHAR_LSDEV)|\
 5021              		.loc 1 1516 0
 5022 019c 3B7C     		ldrb	r3, [r7, #16]	@ zero_extendqisi2
 5023 019e 022B     		cmp	r3, #2
 5024 01a0 02D1     		bne	.L217
 5025              		.loc 1 1516 0 is_stmt 0 discriminator 1
 5026 01a2 4FF40033 		mov	r3, #131072
 5027 01a6 00E0     		b	.L218
 5028              	.L217:
 5029              		.loc 1 1516 0 discriminator 2
 5030 01a8 0023     		movs	r3, #0
 5031              	.L218:
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((((epnum & 0x80U) == 0x80U)<< 15U) & USB_OTG_HCCHAR_EPDIR)|\
 5032              		.loc 1 1515 0 is_stmt 1
 5033 01aa 1A43     		orrs	r2, r2, r3
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((ep_type << 18U) & USB_OTG_HCCHAR_EPTYP)|\
 5034              		.loc 1 1517 0
 5035 01ac 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
ARM GAS  /tmp/ccyAKTho.s 			page 115


 5036 01ae 9B04     		lsls	r3, r3, #18
 5037 01b0 03F44023 		and	r3, r3, #786432
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((speed == USB_OTG_SPEED_LOW)<< 17U) & USB_OTG_HCCHAR_LSDEV)|\
 5038              		.loc 1 1516 0
 5039 01b4 1A43     		orrs	r2, r2, r3
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (mps & USB_OTG_HCCHAR_MPSIZ));
 5040              		.loc 1 1518 0
 5041 01b6 3B8B     		ldrh	r3, [r7, #24]
 5042 01b8 C3F30A03 		ubfx	r3, r3, #0, #11
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              ((ep_type << 18U) & USB_OTG_HCCHAR_EPTYP)|\
 5043              		.loc 1 1517 0
 5044 01bc 1343     		orrs	r3, r3, r2
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                              (((epnum & 0x7FU)<< 11U) & USB_OTG_HCCHAR_EPNUM)|\
 5045              		.loc 1 1513 0
 5046 01be 0B60     		str	r3, [r1]
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
 5047              		.loc 1 1520 0
 5048 01c0 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 5049 01c2 032B     		cmp	r3, #3
 5050 01c4 10D1     		bne	.L219
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
 5051              		.loc 1 1522 0
 5052 01c6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5053 01c8 5A01     		lsls	r2, r3, #5
 5054 01ca 7B68     		ldr	r3, [r7, #4]
 5055 01cc 1344     		add	r3, r3, r2
 5056 01ce 03F5A063 		add	r3, r3, #1280
 5057 01d2 1946     		mov	r1, r3
 5058 01d4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5059 01d6 5A01     		lsls	r2, r3, #5
 5060 01d8 7B68     		ldr	r3, [r7, #4]
 5061 01da 1344     		add	r3, r3, r2
 5062 01dc 03F5A063 		add	r3, r3, #1280
 5063 01e0 1B68     		ldr	r3, [r3]
 5064 01e2 43F00053 		orr	r3, r3, #536870912
 5065 01e6 0B60     		str	r3, [r1]
 5066              	.L219:
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK; 
 5067              		.loc 1 1525 0
 5068 01e8 0023     		movs	r3, #0
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5069              		.loc 1 1526 0
 5070 01ea 1846     		mov	r0, r3
 5071 01ec 0C37     		adds	r7, r7, #12
 5072              	.LCFI235:
 5073              		.cfi_def_cfa_offset 4
 5074 01ee BD46     		mov	sp, r7
 5075              	.LCFI236:
 5076              		.cfi_def_cfa_register 13
 5077              		@ sp needed
 5078 01f0 5DF8047B 		ldr	r7, [sp], #4
 5079              	.LCFI237:
 5080              		.cfi_restore 7
ARM GAS  /tmp/ccyAKTho.s 			page 116


 5081              		.cfi_def_cfa_offset 0
 5082 01f4 7047     		bx	lr
 5083              		.cfi_endproc
 5084              	.LFE163:
 5086 01f6 00BF     		.section	.text.USB_HC_StartXfer,"ax",%progbits
 5087              		.align	1
 5088              		.global	USB_HC_StartXfer
 5089              		.syntax unified
 5090              		.thumb
 5091              		.thumb_func
 5092              		.fpu fpv4-sp-d16
 5094              	USB_HC_StartXfer:
 5095              	.LFB164:
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled 
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used 
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used  
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined   (__CC_ARM) /*!< ARM Compiler */
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #pragma O0
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #elif defined (__GNUC__) /*!< GNU Compiler */
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #pragma GCC optimize ("O0")
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* __CC_ARM */
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5096              		.loc 1 1544 0
 5097              		.cfi_startproc
 5098              		@ args = 0, pretend = 0, frame = 32
 5099              		@ frame_needed = 1, uses_anonymous_args = 0
 5100 0000 80B5     		push	{r7, lr}
 5101              	.LCFI238:
 5102              		.cfi_def_cfa_offset 8
 5103              		.cfi_offset 7, -8
 5104              		.cfi_offset 14, -4
 5105 0002 8AB0     		sub	sp, sp, #40
 5106              	.LCFI239:
 5107              		.cfi_def_cfa_offset 48
 5108 0004 02AF     		add	r7, sp, #8
 5109              	.LCFI240:
 5110              		.cfi_def_cfa 7, 40
 5111 0006 F860     		str	r0, [r7, #12]
 5112 0008 B960     		str	r1, [r7, #8]
 5113 000a 1346     		mov	r3, r2
 5114 000c FB71     		strb	r3, [r7, #7]
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe = 0; 
 5115              		.loc 1 1545 0
 5116 000e 0023     		movs	r3, #0
 5117 0010 7B77     		strb	r3, [r7, #29]
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words = 0;   
 5118              		.loc 1 1546 0
 5119 0012 0023     		movs	r3, #0
ARM GAS  /tmp/ccyAKTho.s 			page 117


 5120 0014 7B83     		strh	r3, [r7, #26]	@ movhi
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets = 0;
 5121              		.loc 1 1547 0
 5122 0016 0023     		movs	r3, #0
 5123 0018 FB83     		strh	r3, [r7, #30]	@ movhi
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256;
 5124              		.loc 1 1548 0
 5125 001a 4FF48073 		mov	r3, #256
 5126 001e 3B83     		strh	r3, [r7, #24]	@ movhi
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
 5127              		.loc 1 1549 0
 5128 0020 0023     		movs	r3, #0
 5129 0022 7B61     		str	r3, [r7, #20]
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if((USBx != USB_OTG_FS) && (hc->speed == USB_OTG_SPEED_HIGH))
 5130              		.loc 1 1551 0
 5131 0024 FB68     		ldr	r3, [r7, #12]
 5132 0026 B3F1A04F 		cmp	r3, #1342177280
 5133 002a 2BD0     		beq	.L225
 5134              		.loc 1 1551 0 is_stmt 0 discriminator 1
 5135 002c BB68     		ldr	r3, [r7, #8]
 5136 002e 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 5137 0030 002B     		cmp	r3, #0
 5138 0032 27D1     		bne	.L225
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if((dma == 0) && (hc->do_ping == 1U))
 5139              		.loc 1 1553 0 is_stmt 1
 5140 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5141 0036 002B     		cmp	r3, #0
 5142 0038 0BD1     		bne	.L226
 5143              		.loc 1 1553 0 is_stmt 0 discriminator 1
 5144 003a BB68     		ldr	r3, [r7, #8]
 5145 003c 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5146 003e 012B     		cmp	r3, #1
 5147 0040 07D1     		bne	.L226
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_DoPing(USBx, hc->ch_num);
 5148              		.loc 1 1555 0 is_stmt 1
 5149 0042 BB68     		ldr	r3, [r7, #8]
 5150 0044 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5151 0046 1946     		mov	r1, r3
 5152 0048 F868     		ldr	r0, [r7, #12]
 5153 004a FFF7FEFF 		bl	USB_DoPing
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 5154              		.loc 1 1556 0
 5155 004e 0023     		movs	r3, #0
 5156 0050 0DE1     		b	.L227
 5157              	.L226:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if(dma == 1)
 5158              		.loc 1 1558 0
 5159 0052 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5160 0054 012B     		cmp	r3, #1
 5161 0056 15D1     		bne	.L225
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc->ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
 5162              		.loc 1 1560 0
ARM GAS  /tmp/ccyAKTho.s 			page 118


 5163 0058 BB68     		ldr	r3, [r7, #8]
 5164 005a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5165 005c 5A01     		lsls	r2, r3, #5
 5166 005e FB68     		ldr	r3, [r7, #12]
 5167 0060 1344     		add	r3, r3, r2
 5168 0062 03F5A063 		add	r3, r3, #1280
 5169 0066 1946     		mov	r1, r3
 5170 0068 BB68     		ldr	r3, [r7, #8]
 5171 006a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5172 006c 5A01     		lsls	r2, r3, #5
 5173 006e FB68     		ldr	r3, [r7, #12]
 5174 0070 1344     		add	r3, r3, r2
 5175 0072 03F5A063 		add	r3, r3, #1280
 5176 0076 DB68     		ldr	r3, [r3, #12]
 5177 0078 23F06003 		bic	r3, r3, #96
 5178 007c CB60     		str	r3, [r1, #12]
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
 5179              		.loc 1 1561 0
 5180 007e BB68     		ldr	r3, [r7, #8]
 5181 0080 0022     		movs	r2, #0
 5182 0082 5A71     		strb	r2, [r3, #5]
 5183              	.L225:
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 5184              		.loc 1 1566 0
 5185 0084 BB68     		ldr	r3, [r7, #8]
 5186 0086 1B69     		ldr	r3, [r3, #16]
 5187 0088 002B     		cmp	r3, #0
 5188 008a 19D0     		beq	.L228
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (hc->xfer_len + hc->max_packet - 1U) / hc->max_packet;
 5189              		.loc 1 1568 0
 5190 008c BB68     		ldr	r3, [r7, #8]
 5191 008e 1B69     		ldr	r3, [r3, #16]
 5192 0090 BA68     		ldr	r2, [r7, #8]
 5193 0092 1289     		ldrh	r2, [r2, #8]
 5194 0094 1344     		add	r3, r3, r2
 5195 0096 013B     		subs	r3, r3, #1
 5196 0098 BA68     		ldr	r2, [r7, #8]
 5197 009a 1289     		ldrh	r2, [r2, #8]
 5198 009c B3FBF2F3 		udiv	r3, r3, r2
 5199 00a0 FB83     		strh	r3, [r7, #30]	@ movhi
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 5200              		.loc 1 1570 0
 5201 00a2 FA8B     		ldrh	r2, [r7, #30]
 5202 00a4 3B8B     		ldrh	r3, [r7, #24]
 5203 00a6 9A42     		cmp	r2, r3
 5204 00a8 0CD9     		bls	.L230
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 5205              		.loc 1 1572 0
 5206 00aa 3B8B     		ldrh	r3, [r7, #24]	@ movhi
 5207 00ac FB83     		strh	r3, [r7, #30]	@ movhi
ARM GAS  /tmp/ccyAKTho.s 			page 119


1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = num_packets * hc->max_packet;
 5208              		.loc 1 1573 0
 5209 00ae FB8B     		ldrh	r3, [r7, #30]
 5210 00b0 BA68     		ldr	r2, [r7, #8]
 5211 00b2 1289     		ldrh	r2, [r2, #8]
 5212 00b4 02FB03F3 		mul	r3, r2, r3
 5213 00b8 1A46     		mov	r2, r3
 5214 00ba BB68     		ldr	r3, [r7, #8]
 5215 00bc 1A61     		str	r2, [r3, #16]
 5216 00be 01E0     		b	.L230
 5217              	.L228:
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1;
 5218              		.loc 1 1578 0
 5219 00c0 0123     		movs	r3, #1
 5220 00c2 FB83     		strh	r3, [r7, #30]	@ movhi
 5221              	.L230:
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in)
 5222              		.loc 1 1580 0
 5223 00c4 BB68     		ldr	r3, [r7, #8]
 5224 00c6 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5225 00c8 002B     		cmp	r3, #0
 5226 00ca 07D0     		beq	.L231
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->xfer_len = num_packets * hc->max_packet;
 5227              		.loc 1 1582 0
 5228 00cc FB8B     		ldrh	r3, [r7, #30]
 5229 00ce BA68     		ldr	r2, [r7, #8]
 5230 00d0 1289     		ldrh	r2, [r2, #8]
 5231 00d2 02FB03F3 		mul	r3, r2, r3
 5232 00d6 1A46     		mov	r2, r3
 5233 00d8 BB68     		ldr	r3, [r7, #8]
 5234 00da 1A61     		str	r2, [r3, #16]
 5235              	.L231:
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCTSIZ = (((hc->xfer_len) & USB_OTG_HCTSIZ_XFRSIZ)) |\
 5236              		.loc 1 1586 0
 5237 00dc BB68     		ldr	r3, [r7, #8]
 5238 00de 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5239 00e0 5A01     		lsls	r2, r3, #5
 5240 00e2 FB68     		ldr	r3, [r7, #12]
 5241 00e4 1344     		add	r3, r3, r2
 5242 00e6 03F5A063 		add	r3, r3, #1280
 5243 00ea 1946     		mov	r1, r3
 5244 00ec BB68     		ldr	r3, [r7, #8]
 5245 00ee 1B69     		ldr	r3, [r3, #16]
 5246 00f0 C3F31202 		ubfx	r2, r3, #0, #19
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 5247              		.loc 1 1587 0
 5248 00f4 FB8B     		ldrh	r3, [r7, #30]
 5249 00f6 DB04     		lsls	r3, r3, #19
ARM GAS  /tmp/ccyAKTho.s 			page 120


 5250 00f8 1846     		mov	r0, r3
 5251 00fa 5F4B     		ldr	r3, .L244
 5252 00fc 0340     		ands	r3, r3, r0
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 5253              		.loc 1 1586 0
 5254 00fe 1A43     		orrs	r2, r2, r3
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (((hc->data_pid) << 29U) & USB_OTG_HCTSIZ_DPID);
 5255              		.loc 1 1588 0
 5256 0100 BB68     		ldr	r3, [r7, #8]
 5257 0102 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 5258 0104 5B07     		lsls	r3, r3, #29
 5259 0106 03F0C043 		and	r3, r3, #1610612736
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 5260              		.loc 1 1587 0
 5261 010a 1343     		orrs	r3, r3, r2
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 5262              		.loc 1 1586 0
 5263 010c 0B61     		str	r3, [r1, #16]
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma)
 5264              		.loc 1 1590 0
 5265 010e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5266 0110 002B     		cmp	r3, #0
 5267 0112 0AD0     		beq	.L232
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc->ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 5268              		.loc 1 1593 0
 5269 0114 BB68     		ldr	r3, [r7, #8]
 5270 0116 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5271 0118 5A01     		lsls	r2, r3, #5
 5272 011a FB68     		ldr	r3, [r7, #12]
 5273 011c 1344     		add	r3, r3, r2
 5274 011e 03F5A063 		add	r3, r3, #1280
 5275 0122 1A46     		mov	r2, r3
 5276 0124 BB68     		ldr	r3, [r7, #8]
 5277 0126 DB68     		ldr	r3, [r3, #12]
 5278 0128 5361     		str	r3, [r2, #20]
 5279              	.L232:
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (USBx_HOST->HFNUM & 0x01) ? 0 : 1;
 5280              		.loc 1 1596 0
 5281 012a FB68     		ldr	r3, [r7, #12]
 5282 012c 03F58063 		add	r3, r3, #1024
 5283 0130 9B68     		ldr	r3, [r3, #8]
 5284 0132 03F00103 		and	r3, r3, #1
 5285 0136 002B     		cmp	r3, #0
 5286 0138 0CBF     		ite	eq
 5287 013a 0123     		moveq	r3, #1
 5288 013c 0023     		movne	r3, #0
 5289 013e DBB2     		uxtb	r3, r3
 5290 0140 7B77     		strb	r3, [r7, #29]
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5291              		.loc 1 1597 0
 5292 0142 BB68     		ldr	r3, [r7, #8]
 5293 0144 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
ARM GAS  /tmp/ccyAKTho.s 			page 121


 5294 0146 5A01     		lsls	r2, r3, #5
 5295 0148 FB68     		ldr	r3, [r7, #12]
 5296 014a 1344     		add	r3, r3, r2
 5297 014c 03F5A063 		add	r3, r3, #1280
 5298 0150 1946     		mov	r1, r3
 5299 0152 BB68     		ldr	r3, [r7, #8]
 5300 0154 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5301 0156 5A01     		lsls	r2, r3, #5
 5302 0158 FB68     		ldr	r3, [r7, #12]
 5303 015a 1344     		add	r3, r3, r2
 5304 015c 03F5A063 		add	r3, r3, #1280
 5305 0160 1B68     		ldr	r3, [r3]
 5306 0162 23F00053 		bic	r3, r3, #536870912
 5307 0166 0B60     		str	r3, [r1]
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR |= (is_oddframe << 29);
 5308              		.loc 1 1598 0
 5309 0168 BB68     		ldr	r3, [r7, #8]
 5310 016a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5311 016c 5A01     		lsls	r2, r3, #5
 5312 016e FB68     		ldr	r3, [r7, #12]
 5313 0170 1344     		add	r3, r3, r2
 5314 0172 03F5A063 		add	r3, r3, #1280
 5315 0176 1946     		mov	r1, r3
 5316 0178 BB68     		ldr	r3, [r7, #8]
 5317 017a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5318 017c 5A01     		lsls	r2, r3, #5
 5319 017e FB68     		ldr	r3, [r7, #12]
 5320 0180 1344     		add	r3, r3, r2
 5321 0182 03F5A063 		add	r3, r3, #1280
 5322 0186 1B68     		ldr	r3, [r3]
 5323 0188 7A7F     		ldrb	r2, [r7, #29]	@ zero_extendqisi2
 5324 018a 5207     		lsls	r2, r2, #29
 5325 018c 1343     		orrs	r3, r3, r2
 5326 018e 0B60     		str	r3, [r1]
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(hc->ch_num)->HCCHAR;
 5327              		.loc 1 1601 0
 5328 0190 BB68     		ldr	r3, [r7, #8]
 5329 0192 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5330 0194 5A01     		lsls	r2, r3, #5
 5331 0196 FB68     		ldr	r3, [r7, #12]
 5332 0198 1344     		add	r3, r3, r2
 5333 019a 03F5A063 		add	r3, r3, #1280
 5334 019e 1B68     		ldr	r3, [r3]
 5335 01a0 7B61     		str	r3, [r7, #20]
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5336              		.loc 1 1602 0
 5337 01a2 7B69     		ldr	r3, [r7, #20]
 5338 01a4 23F08043 		bic	r3, r3, #1073741824
 5339 01a8 7B61     		str	r3, [r7, #20]
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5340              		.loc 1 1603 0
 5341 01aa 7B69     		ldr	r3, [r7, #20]
 5342 01ac 43F00043 		orr	r3, r3, #-2147483648
 5343 01b0 7B61     		str	r3, [r7, #20]
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(hc->ch_num)->HCCHAR = tmpreg;
ARM GAS  /tmp/ccyAKTho.s 			page 122


 5344              		.loc 1 1604 0
 5345 01b2 BB68     		ldr	r3, [r7, #8]
 5346 01b4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5347 01b6 5A01     		lsls	r2, r3, #5
 5348 01b8 FB68     		ldr	r3, [r7, #12]
 5349 01ba 1344     		add	r3, r3, r2
 5350 01bc 03F5A063 		add	r3, r3, #1280
 5351 01c0 1A46     		mov	r2, r3
 5352 01c2 7B69     		ldr	r3, [r7, #20]
 5353 01c4 1360     		str	r3, [r2]
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0) /* Slave mode */
 5354              		.loc 1 1606 0
 5355 01c6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5356 01c8 002B     		cmp	r3, #0
 5357 01ca 4FD1     		bne	.L233
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {  
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 5358              		.loc 1 1608 0
 5359 01cc BB68     		ldr	r3, [r7, #8]
 5360 01ce DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5361 01d0 002B     		cmp	r3, #0
 5362 01d2 4BD1     		bne	.L233
 5363              		.loc 1 1608 0 is_stmt 0 discriminator 1
 5364 01d4 BB68     		ldr	r3, [r7, #8]
 5365 01d6 1B69     		ldr	r3, [r3, #16]
 5366 01d8 002B     		cmp	r3, #0
 5367 01da 47D0     		beq	.L233
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       switch(hc->ep_type) 
 5368              		.loc 1 1610 0 is_stmt 1
 5369 01dc BB68     		ldr	r3, [r7, #8]
 5370 01de DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 5371 01e0 032B     		cmp	r3, #3
 5372 01e2 31D8     		bhi	.L241
 5373 01e4 01A2     		adr	r2, .L236
 5374 01e6 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5375 01ea 00BF     		.p2align 2
 5376              	.L236:
 5377 01ec FD010000 		.word	.L235+1
 5378 01f0 21020000 		.word	.L237+1
 5379 01f4 FD010000 		.word	.L235+1
 5380 01f8 21020000 		.word	.L237+1
 5381              		.p2align 1
 5382              	.L235:
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Non periodic transfer */
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_CTRL:
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_BULK:
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (hc->xfer_len + 3) / 4;
 5383              		.loc 1 1616 0
 5384 01fc BB68     		ldr	r3, [r7, #8]
 5385 01fe 1B69     		ldr	r3, [r3, #16]
 5386 0200 0333     		adds	r3, r3, #3
 5387 0202 9B08     		lsrs	r3, r3, #2
 5388 0204 7B83     		strh	r3, [r7, #26]	@ movhi
ARM GAS  /tmp/ccyAKTho.s 			page 123


1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if(len_words > (USBx->HNPTXSTS & 0xFFFF))
 5389              		.loc 1 1619 0
 5390 0206 7A8B     		ldrh	r2, [r7, #26]
 5391 0208 FB68     		ldr	r3, [r7, #12]
 5392 020a DB6A     		ldr	r3, [r3, #44]
 5393 020c 9BB2     		uxth	r3, r3
 5394 020e 9A42     		cmp	r2, r3
 5395 0210 1CD9     		bls	.L242
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in nptxfempty interrupt */
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 5396              		.loc 1 1622 0
 5397 0212 FB68     		ldr	r3, [r7, #12]
 5398 0214 9B69     		ldr	r3, [r3, #24]
 5399 0216 43F02002 		orr	r2, r3, #32
 5400 021a FB68     		ldr	r3, [r7, #12]
 5401 021c 9A61     		str	r2, [r3, #24]
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 5402              		.loc 1 1624 0
 5403 021e 15E0     		b	.L242
 5404              	.L237:
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_INTR:
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       case EP_TYPE_ISOC:
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         len_words = (hc->xfer_len + 3) / 4;
 5405              		.loc 1 1628 0
 5406 0220 BB68     		ldr	r3, [r7, #8]
 5407 0222 1B69     		ldr	r3, [r3, #16]
 5408 0224 0333     		adds	r3, r3, #3
 5409 0226 9B08     		lsrs	r3, r3, #2
 5410 0228 7B83     		strh	r3, [r7, #26]	@ movhi
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* check if there is enough space in FIFO space */
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if(len_words > (USBx_HOST->HPTXSTS & 0xFFFF)) /* split the transfer */
 5411              		.loc 1 1630 0
 5412 022a 7A8B     		ldrh	r2, [r7, #26]
 5413 022c FB68     		ldr	r3, [r7, #12]
 5414 022e 03F58063 		add	r3, r3, #1024
 5415 0232 1B69     		ldr	r3, [r3, #16]
 5416 0234 9BB2     		uxth	r3, r3
 5417 0236 9A42     		cmp	r2, r3
 5418 0238 0AD9     		bls	.L243
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* need to process data in ptxfempty interrupt */
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;          
 5419              		.loc 1 1633 0
 5420 023a FB68     		ldr	r3, [r7, #12]
 5421 023c 9B69     		ldr	r3, [r3, #24]
 5422 023e 43F08062 		orr	r2, r3, #67108864
 5423 0242 FB68     		ldr	r3, [r7, #12]
 5424 0244 9A61     		str	r2, [r3, #24]
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 5425              		.loc 1 1635 0
 5426 0246 03E0     		b	.L243
ARM GAS  /tmp/ccyAKTho.s 			page 124


 5427              	.L241:
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       default:
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
 5428              		.loc 1 1638 0
 5429 0248 00BF     		nop
 5430 024a 02E0     		b	.L239
 5431              	.L242:
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
 5432              		.loc 1 1624 0
 5433 024c 00BF     		nop
 5434 024e 00E0     		b	.L239
 5435              	.L243:
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         
 5436              		.loc 1 1635 0
 5437 0250 00BF     		nop
 5438              	.L239:
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Write packet into the Tx FIFO. */
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, hc->xfer_len, 0);
 5439              		.loc 1 1642 0
 5440 0252 BB68     		ldr	r3, [r7, #8]
 5441 0254 D968     		ldr	r1, [r3, #12]
 5442 0256 BB68     		ldr	r3, [r7, #8]
 5443 0258 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5444 025a BB68     		ldr	r3, [r7, #8]
 5445 025c 1B69     		ldr	r3, [r3, #16]
 5446 025e 98B2     		uxth	r0, r3
 5447 0260 0023     		movs	r3, #0
 5448 0262 0093     		str	r3, [sp]
 5449 0264 0346     		mov	r3, r0
 5450 0266 F868     		ldr	r0, [r7, #12]
 5451 0268 FFF7FEFF 		bl	USB_WritePacket
 5452              	.L233:
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5453              		.loc 1 1646 0
 5454 026c 0023     		movs	r3, #0
 5455              	.L227:
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5456              		.loc 1 1647 0
 5457 026e 1846     		mov	r0, r3
 5458 0270 2037     		adds	r7, r7, #32
 5459              	.LCFI241:
 5460              		.cfi_def_cfa_offset 8
 5461 0272 BD46     		mov	sp, r7
 5462              	.LCFI242:
 5463              		.cfi_def_cfa_register 13
 5464              		@ sp needed
 5465 0274 80BD     		pop	{r7, pc}
 5466              	.L245:
 5467 0276 00BF     		.align	2
 5468              	.L244:
 5469 0278 0000F81F 		.word	536346624
ARM GAS  /tmp/ccyAKTho.s 			page 125


 5470              		.cfi_endproc
 5471              	.LFE164:
 5473              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 5474              		.align	1
 5475              		.global	USB_HC_ReadInterrupt
 5476              		.syntax unified
 5477              		.thumb
 5478              		.thumb_func
 5479              		.fpu fpv4-sp-d16
 5481              	USB_HC_ReadInterrupt:
 5482              	.LFB165:
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt (USB_OTG_GlobalTypeDef *USBx)
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5483              		.loc 1 1655 0
 5484              		.cfi_startproc
 5485              		@ args = 0, pretend = 0, frame = 8
 5486              		@ frame_needed = 1, uses_anonymous_args = 0
 5487              		@ link register save eliminated.
 5488 0000 80B4     		push	{r7}
 5489              	.LCFI243:
 5490              		.cfi_def_cfa_offset 4
 5491              		.cfi_offset 7, -4
 5492 0002 83B0     		sub	sp, sp, #12
 5493              	.LCFI244:
 5494              		.cfi_def_cfa_offset 16
 5495 0004 00AF     		add	r7, sp, #0
 5496              	.LCFI245:
 5497              		.cfi_def_cfa_register 7
 5498 0006 7860     		str	r0, [r7, #4]
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 5499              		.loc 1 1656 0
 5500 0008 7B68     		ldr	r3, [r7, #4]
 5501 000a 03F58063 		add	r3, r3, #1024
 5502 000e 5B69     		ldr	r3, [r3, #20]
 5503 0010 9BB2     		uxth	r3, r3
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5504              		.loc 1 1657 0
 5505 0012 1846     		mov	r0, r3
 5506 0014 0C37     		adds	r7, r7, #12
 5507              	.LCFI246:
 5508              		.cfi_def_cfa_offset 4
 5509 0016 BD46     		mov	sp, r7
 5510              	.LCFI247:
 5511              		.cfi_def_cfa_register 13
 5512              		@ sp needed
 5513 0018 5DF8047B 		ldr	r7, [sp], #4
 5514              	.LCFI248:
 5515              		.cfi_restore 7
 5516              		.cfi_def_cfa_offset 0
 5517 001c 7047     		bx	lr
 5518              		.cfi_endproc
ARM GAS  /tmp/ccyAKTho.s 			page 126


 5519              	.LFE165:
 5521              		.section	.text.USB_HC_Halt,"ax",%progbits
 5522              		.align	1
 5523              		.global	USB_HC_Halt
 5524              		.syntax unified
 5525              		.thumb
 5526              		.thumb_func
 5527              		.fpu fpv4-sp-d16
 5529              	USB_HC_Halt:
 5530              	.LFB166:
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx , uint8_t hc_num)
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5531              		.loc 1 1667 0
 5532              		.cfi_startproc
 5533              		@ args = 0, pretend = 0, frame = 16
 5534              		@ frame_needed = 1, uses_anonymous_args = 0
 5535              		@ link register save eliminated.
 5536 0000 80B4     		push	{r7}
 5537              	.LCFI249:
 5538              		.cfi_def_cfa_offset 4
 5539              		.cfi_offset 7, -4
 5540 0002 85B0     		sub	sp, sp, #20
 5541              	.LCFI250:
 5542              		.cfi_def_cfa_offset 24
 5543 0004 00AF     		add	r7, sp, #0
 5544              	.LCFI251:
 5545              		.cfi_def_cfa_register 7
 5546 0006 7860     		str	r0, [r7, #4]
 5547 0008 0B46     		mov	r3, r1
 5548 000a FB70     		strb	r3, [r7, #3]
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 5549              		.loc 1 1668 0
 5550 000c 0023     		movs	r3, #0
 5551 000e FB60     		str	r3, [r7, #12]
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((((USBx_HC(hc_num)->HCCHAR) & USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_CTRL) || (((((USBx_HC(h
 5552              		.loc 1 1671 0
 5553 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5554 0012 5A01     		lsls	r2, r3, #5
 5555 0014 7B68     		ldr	r3, [r7, #4]
 5556 0016 1344     		add	r3, r3, r2
 5557 0018 03F5A063 		add	r3, r3, #1280
 5558 001c 1B68     		ldr	r3, [r3]
 5559 001e 9B0C     		lsrs	r3, r3, #18
 5560 0020 03F00303 		and	r3, r3, #3
 5561 0024 002B     		cmp	r3, #0
 5562 0026 0BD0     		beq	.L249
 5563              		.loc 1 1671 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccyAKTho.s 			page 127


 5564 0028 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5565 002a 5A01     		lsls	r2, r3, #5
 5566 002c 7B68     		ldr	r3, [r7, #4]
 5567 002e 1344     		add	r3, r3, r2
 5568 0030 03F5A063 		add	r3, r3, #1280
 5569 0034 1B68     		ldr	r3, [r3]
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
 5570              		.loc 1 1672 0 is_stmt 1 discriminator 1
 5571 0036 9B0C     		lsrs	r3, r3, #18
 5572 0038 03F00303 		and	r3, r3, #3
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_OTG_HCCHAR_EPTYP) >> 18) == HCCHAR_BULK)))
 5573              		.loc 1 1671 0 discriminator 1
 5574 003c 022B     		cmp	r3, #2
 5575 003e 60D1     		bne	.L250
 5576              	.L249:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5577              		.loc 1 1674 0
 5578 0040 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5579 0042 5A01     		lsls	r2, r3, #5
 5580 0044 7B68     		ldr	r3, [r7, #4]
 5581 0046 1344     		add	r3, r3, r2
 5582 0048 03F5A063 		add	r3, r3, #1280
 5583 004c 1946     		mov	r1, r3
 5584 004e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5585 0050 5A01     		lsls	r2, r3, #5
 5586 0052 7B68     		ldr	r3, [r7, #4]
 5587 0054 1344     		add	r3, r3, r2
 5588 0056 03F5A063 		add	r3, r3, #1280
 5589 005a 1B68     		ldr	r3, [r3]
 5590 005c 43F08043 		orr	r3, r3, #1073741824
 5591 0060 0B60     		str	r3, [r1]
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->HNPTXSTS & 0xFF0000U) == 0U)
 5592              		.loc 1 1676 0
 5593 0062 7B68     		ldr	r3, [r7, #4]
 5594 0064 DB6A     		ldr	r3, [r3, #44]
 5595 0066 03F47F03 		and	r3, r3, #16711680
 5596 006a 002B     		cmp	r3, #0
 5597 006c 35D1     		bne	.L251
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5598              		.loc 1 1678 0
 5599 006e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5600 0070 5A01     		lsls	r2, r3, #5
 5601 0072 7B68     		ldr	r3, [r7, #4]
 5602 0074 1344     		add	r3, r3, r2
 5603 0076 03F5A063 		add	r3, r3, #1280
 5604 007a 1946     		mov	r1, r3
 5605 007c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5606 007e 5A01     		lsls	r2, r3, #5
 5607 0080 7B68     		ldr	r3, [r7, #4]
 5608 0082 1344     		add	r3, r3, r2
 5609 0084 03F5A063 		add	r3, r3, #1280
 5610 0088 1B68     		ldr	r3, [r3]
 5611 008a 23F00043 		bic	r3, r3, #-2147483648
 5612 008e 0B60     		str	r3, [r1]
ARM GAS  /tmp/ccyAKTho.s 			page 128


1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;  
 5613              		.loc 1 1679 0
 5614 0090 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5615 0092 5A01     		lsls	r2, r3, #5
 5616 0094 7B68     		ldr	r3, [r7, #4]
 5617 0096 1344     		add	r3, r3, r2
 5618 0098 03F5A063 		add	r3, r3, #1280
 5619 009c 1946     		mov	r1, r3
 5620 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5621 00a0 5A01     		lsls	r2, r3, #5
 5622 00a2 7B68     		ldr	r3, [r7, #4]
 5623 00a4 1344     		add	r3, r3, r2
 5624 00a6 03F5A063 		add	r3, r3, #1280
 5625 00aa 1B68     		ldr	r3, [r3]
 5626 00ac 43F00043 		orr	r3, r3, #-2147483648
 5627 00b0 0B60     		str	r3, [r1]
 5628              	.L254:
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do 
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U) 
 5629              		.loc 1 1682 0
 5630 00b2 FB68     		ldr	r3, [r7, #12]
 5631 00b4 0133     		adds	r3, r3, #1
 5632 00b6 FB60     		str	r3, [r7, #12]
 5633 00b8 FB68     		ldr	r3, [r7, #12]
 5634 00ba B3F57A7F 		cmp	r3, #1000
 5635 00be 1ED8     		bhi	.L263
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } 
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);     
 5636              		.loc 1 1687 0
 5637 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5638 00c2 5A01     		lsls	r2, r3, #5
 5639 00c4 7B68     		ldr	r3, [r7, #4]
 5640 00c6 1344     		add	r3, r3, r2
 5641 00c8 03F5A063 		add	r3, r3, #1280
 5642 00cc 1B68     		ldr	r3, [r3]
 5643 00ce 03F00043 		and	r3, r3, #-2147483648
 5644 00d2 B3F1004F 		cmp	r3, #-2147483648
 5645 00d6 ECD0     		beq	.L254
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5646              		.loc 1 1676 0
 5647 00d8 74E0     		b	.L256
 5648              	.L251:
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
 5649              		.loc 1 1691 0
 5650 00da FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5651 00dc 5A01     		lsls	r2, r3, #5
 5652 00de 7B68     		ldr	r3, [r7, #4]
 5653 00e0 1344     		add	r3, r3, r2
 5654 00e2 03F5A063 		add	r3, r3, #1280
 5655 00e6 1946     		mov	r1, r3
ARM GAS  /tmp/ccyAKTho.s 			page 129


 5656 00e8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5657 00ea 5A01     		lsls	r2, r3, #5
 5658 00ec 7B68     		ldr	r3, [r7, #4]
 5659 00ee 1344     		add	r3, r3, r2
 5660 00f0 03F5A063 		add	r3, r3, #1280
 5661 00f4 1B68     		ldr	r3, [r3]
 5662 00f6 43F00043 		orr	r3, r3, #-2147483648
 5663 00fa 0B60     		str	r3, [r1]
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5664              		.loc 1 1676 0
 5665 00fc 62E0     		b	.L256
 5666              	.L263:
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5667              		.loc 1 1684 0
 5668 00fe 00BF     		nop
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5669              		.loc 1 1676 0
 5670 0100 60E0     		b	.L256
 5671              	.L250:
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5672              		.loc 1 1696 0
 5673 0102 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5674 0104 5A01     		lsls	r2, r3, #5
 5675 0106 7B68     		ldr	r3, [r7, #4]
 5676 0108 1344     		add	r3, r3, r2
 5677 010a 03F5A063 		add	r3, r3, #1280
 5678 010e 1946     		mov	r1, r3
 5679 0110 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5680 0112 5A01     		lsls	r2, r3, #5
 5681 0114 7B68     		ldr	r3, [r7, #4]
 5682 0116 1344     		add	r3, r3, r2
 5683 0118 03F5A063 		add	r3, r3, #1280
 5684 011c 1B68     		ldr	r3, [r3]
 5685 011e 43F08043 		orr	r3, r3, #1073741824
 5686 0122 0B60     		str	r3, [r1]
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & 0xFFFFU) == 0U)
 5687              		.loc 1 1698 0
 5688 0124 7B68     		ldr	r3, [r7, #4]
 5689 0126 03F58063 		add	r3, r3, #1024
 5690 012a 1B69     		ldr	r3, [r3, #16]
 5691 012c 9BB2     		uxth	r3, r3
 5692 012e 002B     		cmp	r3, #0
 5693 0130 35D1     		bne	.L257
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5694              		.loc 1 1700 0
 5695 0132 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5696 0134 5A01     		lsls	r2, r3, #5
 5697 0136 7B68     		ldr	r3, [r7, #4]
 5698 0138 1344     		add	r3, r3, r2
 5699 013a 03F5A063 		add	r3, r3, #1280
 5700 013e 1946     		mov	r1, r3
ARM GAS  /tmp/ccyAKTho.s 			page 130


 5701 0140 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5702 0142 5A01     		lsls	r2, r3, #5
 5703 0144 7B68     		ldr	r3, [r7, #4]
 5704 0146 1344     		add	r3, r3, r2
 5705 0148 03F5A063 		add	r3, r3, #1280
 5706 014c 1B68     		ldr	r3, [r3]
 5707 014e 23F00043 		bic	r3, r3, #-2147483648
 5708 0152 0B60     		str	r3, [r1]
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA;  
 5709              		.loc 1 1701 0
 5710 0154 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5711 0156 5A01     		lsls	r2, r3, #5
 5712 0158 7B68     		ldr	r3, [r7, #4]
 5713 015a 1344     		add	r3, r3, r2
 5714 015c 03F5A063 		add	r3, r3, #1280
 5715 0160 1946     		mov	r1, r3
 5716 0162 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5717 0164 5A01     		lsls	r2, r3, #5
 5718 0166 7B68     		ldr	r3, [r7, #4]
 5719 0168 1344     		add	r3, r3, r2
 5720 016a 03F5A063 		add	r3, r3, #1280
 5721 016e 1B68     		ldr	r3, [r3]
 5722 0170 43F00043 		orr	r3, r3, #-2147483648
 5723 0174 0B60     		str	r3, [r1]
 5724              	.L260:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U) 
 5725              		.loc 1 1704 0
 5726 0176 FB68     		ldr	r3, [r7, #12]
 5727 0178 0133     		adds	r3, r3, #1
 5728 017a FB60     		str	r3, [r7, #12]
 5729 017c FB68     		ldr	r3, [r7, #12]
 5730 017e B3F57A7F 		cmp	r3, #1000
 5731 0182 1ED8     		bhi	.L264
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       } 
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hc_num)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);     
 5732              		.loc 1 1709 0
 5733 0184 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5734 0186 5A01     		lsls	r2, r3, #5
 5735 0188 7B68     		ldr	r3, [r7, #4]
 5736 018a 1344     		add	r3, r3, r2
 5737 018c 03F5A063 		add	r3, r3, #1280
 5738 0190 1B68     		ldr	r3, [r3]
 5739 0192 03F00043 		and	r3, r3, #-2147483648
 5740 0196 B3F1004F 		cmp	r3, #-2147483648
 5741 019a ECD0     		beq	.L260
 5742 019c 12E0     		b	.L256
 5743              	.L257:
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****        USBx_HC(hc_num)->HCCHAR |= USB_OTG_HCCHAR_CHENA; 
 5744              		.loc 1 1713 0
ARM GAS  /tmp/ccyAKTho.s 			page 131


 5745 019e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5746 01a0 5A01     		lsls	r2, r3, #5
 5747 01a2 7B68     		ldr	r3, [r7, #4]
 5748 01a4 1344     		add	r3, r3, r2
 5749 01a6 03F5A063 		add	r3, r3, #1280
 5750 01aa 1946     		mov	r1, r3
 5751 01ac FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5752 01ae 5A01     		lsls	r2, r3, #5
 5753 01b0 7B68     		ldr	r3, [r7, #4]
 5754 01b2 1344     		add	r3, r3, r2
 5755 01b4 03F5A063 		add	r3, r3, #1280
 5756 01b8 1B68     		ldr	r3, [r3]
 5757 01ba 43F00043 		orr	r3, r3, #-2147483648
 5758 01be 0B60     		str	r3, [r1]
 5759 01c0 00E0     		b	.L256
 5760              	.L264:
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5761              		.loc 1 1706 0
 5762 01c2 00BF     		nop
 5763              	.L256:
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5764              		.loc 1 1717 0
 5765 01c4 0023     		movs	r3, #0
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5766              		.loc 1 1718 0
 5767 01c6 1846     		mov	r0, r3
 5768 01c8 1437     		adds	r7, r7, #20
 5769              	.LCFI252:
 5770              		.cfi_def_cfa_offset 4
 5771 01ca BD46     		mov	sp, r7
 5772              	.LCFI253:
 5773              		.cfi_def_cfa_register 13
 5774              		@ sp needed
 5775 01cc 5DF8047B 		ldr	r7, [sp], #4
 5776              	.LCFI254:
 5777              		.cfi_restore 7
 5778              		.cfi_def_cfa_offset 0
 5779 01d0 7047     		bx	lr
 5780              		.cfi_endproc
 5781              	.LFE166:
 5783              		.section	.text.USB_DoPing,"ax",%progbits
 5784              		.align	1
 5785              		.global	USB_DoPing
 5786              		.syntax unified
 5787              		.thumb
 5788              		.thumb_func
 5789              		.fpu fpv4-sp-d16
 5791              	USB_DoPing:
 5792              	.LFB167:
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
ARM GAS  /tmp/ccyAKTho.s 			page 132


1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx , uint8_t ch_num)
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5793              		.loc 1 1728 0
 5794              		.cfi_startproc
 5795              		@ args = 0, pretend = 0, frame = 16
 5796              		@ frame_needed = 1, uses_anonymous_args = 0
 5797              		@ link register save eliminated.
 5798 0000 80B4     		push	{r7}
 5799              	.LCFI255:
 5800              		.cfi_def_cfa_offset 4
 5801              		.cfi_offset 7, -4
 5802 0002 85B0     		sub	sp, sp, #20
 5803              	.LCFI256:
 5804              		.cfi_def_cfa_offset 24
 5805 0004 00AF     		add	r7, sp, #0
 5806              	.LCFI257:
 5807              		.cfi_def_cfa_register 7
 5808 0006 7860     		str	r0, [r7, #4]
 5809 0008 0B46     		mov	r3, r1
 5810 000a FB70     		strb	r3, [r7, #3]
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  num_packets = 1U;
 5811              		.loc 1 1729 0
 5812 000c 0123     		movs	r3, #1
 5813 000e FB73     		strb	r3, [r7, #15]
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg = 0U;
 5814              		.loc 1 1730 0
 5815 0010 0023     		movs	r3, #0
 5816 0012 BB60     		str	r3, [r7, #8]
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = ((num_packets << 19U) & USB_OTG_HCTSIZ_PKTCNT) |\
 5817              		.loc 1 1732 0
 5818 0014 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5819 0016 5A01     		lsls	r2, r3, #5
 5820 0018 7B68     		ldr	r3, [r7, #4]
 5821 001a 1344     		add	r3, r3, r2
 5822 001c 03F5A063 		add	r3, r3, #1280
 5823 0020 1A46     		mov	r2, r3
 5824 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 5825 0024 DB04     		lsls	r3, r3, #19
 5826 0026 1946     		mov	r1, r3
 5827 0028 124B     		ldr	r3, .L267
 5828 002a 0B40     		ands	r3, r3, r1
 5829 002c 43F00043 		orr	r3, r3, #-2147483648
 5830 0030 1361     		str	r3, [r2, #16]
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                 USB_OTG_HCTSIZ_DOPING;
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 5831              		.loc 1 1736 0
 5832 0032 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5833 0034 5A01     		lsls	r2, r3, #5
 5834 0036 7B68     		ldr	r3, [r7, #4]
 5835 0038 1344     		add	r3, r3, r2
 5836 003a 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccyAKTho.s 			page 133


 5837 003e 1B68     		ldr	r3, [r3]
 5838 0040 BB60     		str	r3, [r7, #8]
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5839              		.loc 1 1737 0
 5840 0042 BB68     		ldr	r3, [r7, #8]
 5841 0044 23F08043 		bic	r3, r3, #1073741824
 5842 0048 BB60     		str	r3, [r7, #8]
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5843              		.loc 1 1738 0
 5844 004a BB68     		ldr	r3, [r7, #8]
 5845 004c 43F00043 		orr	r3, r3, #-2147483648
 5846 0050 BB60     		str	r3, [r7, #8]
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 5847              		.loc 1 1739 0
 5848 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5849 0054 5A01     		lsls	r2, r3, #5
 5850 0056 7B68     		ldr	r3, [r7, #4]
 5851 0058 1344     		add	r3, r3, r2
 5852 005a 03F5A063 		add	r3, r3, #1280
 5853 005e 1A46     		mov	r2, r3
 5854 0060 BB68     		ldr	r3, [r7, #8]
 5855 0062 1360     		str	r3, [r2]
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 5856              		.loc 1 1741 0
 5857 0064 0023     		movs	r3, #0
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5858              		.loc 1 1742 0
 5859 0066 1846     		mov	r0, r3
 5860 0068 1437     		adds	r7, r7, #20
 5861              	.LCFI258:
 5862              		.cfi_def_cfa_offset 4
 5863 006a BD46     		mov	sp, r7
 5864              	.LCFI259:
 5865              		.cfi_def_cfa_register 13
 5866              		@ sp needed
 5867 006c 5DF8047B 		ldr	r7, [sp], #4
 5868              	.LCFI260:
 5869              		.cfi_restore 7
 5870              		.cfi_def_cfa_offset 0
 5871 0070 7047     		bx	lr
 5872              	.L268:
 5873 0072 00BF     		.align	2
 5874              	.L267:
 5875 0074 0000F81F 		.word	536346624
 5876              		.cfi_endproc
 5877              	.LFE167:
 5879              		.section	.text.USB_StopHost,"ax",%progbits
 5880              		.align	1
 5881              		.global	USB_StopHost
 5882              		.syntax unified
 5883              		.thumb
 5884              		.thumb_func
 5885              		.fpu fpv4-sp-d16
 5887              	USB_StopHost:
 5888              	.LFB168:
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccyAKTho.s 			page 134


1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5889              		.loc 1 1750 0
 5890              		.cfi_startproc
 5891              		@ args = 0, pretend = 0, frame = 24
 5892              		@ frame_needed = 1, uses_anonymous_args = 0
 5893 0000 80B5     		push	{r7, lr}
 5894              	.LCFI261:
 5895              		.cfi_def_cfa_offset 8
 5896              		.cfi_offset 7, -8
 5897              		.cfi_offset 14, -4
 5898 0002 86B0     		sub	sp, sp, #24
 5899              	.LCFI262:
 5900              		.cfi_def_cfa_offset 32
 5901 0004 00AF     		add	r7, sp, #0
 5902              	.LCFI263:
 5903              		.cfi_def_cfa_register 7
 5904 0006 7860     		str	r0, [r7, #4]
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t i;
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 5905              		.loc 1 1752 0
 5906 0008 0023     		movs	r3, #0
 5907 000a 3B61     		str	r3, [r7, #16]
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_DisableGlobalInt(USBx);
 5908              		.loc 1 1755 0
 5909 000c 7868     		ldr	r0, [r7, #4]
 5910 000e FFF7FEFF 		bl	USB_DisableGlobalInt
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Flush FIFO */
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushTxFifo(USBx, 0x10U);
 5911              		.loc 1 1758 0
 5912 0012 1021     		movs	r1, #16
 5913 0014 7868     		ldr	r0, [r7, #4]
 5914 0016 FFF7FEFF 		bl	USB_FlushTxFifo
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_FlushRxFifo(USBx);
 5915              		.loc 1 1759 0
 5916 001a 7868     		ldr	r0, [r7, #4]
 5917 001c FFF7FEFF 		bl	USB_FlushRxFifo
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0; i <= 15; i++)
 5918              		.loc 1 1762 0
 5919 0020 0023     		movs	r3, #0
 5920 0022 FB75     		strb	r3, [r7, #23]
 5921 0024 1FE0     		b	.L270
 5922              	.L271:
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR ;
 5923              		.loc 1 1765 0 discriminator 3
ARM GAS  /tmp/ccyAKTho.s 			page 135


 5924 0026 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5925 0028 5A01     		lsls	r2, r3, #5
 5926 002a 7B68     		ldr	r3, [r7, #4]
 5927 002c 1344     		add	r3, r3, r2
 5928 002e 03F5A063 		add	r3, r3, #1280
 5929 0032 1B68     		ldr	r3, [r3]
 5930 0034 FB60     		str	r3, [r7, #12]
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 5931              		.loc 1 1766 0 discriminator 3
 5932 0036 FB68     		ldr	r3, [r7, #12]
 5933 0038 43F08043 		orr	r3, r3, #1073741824
 5934 003c FB60     		str	r3, [r7, #12]
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;  
 5935              		.loc 1 1767 0 discriminator 3
 5936 003e FB68     		ldr	r3, [r7, #12]
 5937 0040 23F00043 		bic	r3, r3, #-2147483648
 5938 0044 FB60     		str	r3, [r7, #12]
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 5939              		.loc 1 1768 0 discriminator 3
 5940 0046 FB68     		ldr	r3, [r7, #12]
 5941 0048 23F40043 		bic	r3, r3, #32768
 5942 004c FB60     		str	r3, [r7, #12]
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 5943              		.loc 1 1769 0 discriminator 3
 5944 004e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5945 0050 5A01     		lsls	r2, r3, #5
 5946 0052 7B68     		ldr	r3, [r7, #4]
 5947 0054 1344     		add	r3, r3, r2
 5948 0056 03F5A063 		add	r3, r3, #1280
 5949 005a 1A46     		mov	r2, r3
 5950 005c FB68     		ldr	r3, [r7, #12]
 5951 005e 1360     		str	r3, [r2]
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
 5952              		.loc 1 1762 0 discriminator 3
 5953 0060 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5954 0062 0133     		adds	r3, r3, #1
 5955 0064 FB75     		strb	r3, [r7, #23]
 5956              	.L270:
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {   
 5957              		.loc 1 1762 0 is_stmt 0 discriminator 1
 5958 0066 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5959 0068 0F2B     		cmp	r3, #15
 5960 006a DCD9     		bls	.L271
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */  
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0; i <= 15; i++)
 5961              		.loc 1 1773 0 is_stmt 1
 5962 006c 0023     		movs	r3, #0
 5963 006e FB75     		strb	r3, [r7, #23]
 5964 0070 34E0     		b	.L272
 5965              	.L276:
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR ;
 5966              		.loc 1 1775 0
 5967 0072 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5968 0074 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccyAKTho.s 			page 136


 5969 0076 7B68     		ldr	r3, [r7, #4]
 5970 0078 1344     		add	r3, r3, r2
 5971 007a 03F5A063 		add	r3, r3, #1280
 5972 007e 1B68     		ldr	r3, [r3]
 5973 0080 FB60     		str	r3, [r7, #12]
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 5974              		.loc 1 1777 0
 5975 0082 FB68     		ldr	r3, [r7, #12]
 5976 0084 43F08043 		orr	r3, r3, #1073741824
 5977 0088 FB60     		str	r3, [r7, #12]
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;  
 5978              		.loc 1 1778 0
 5979 008a FB68     		ldr	r3, [r7, #12]
 5980 008c 43F00043 		orr	r3, r3, #-2147483648
 5981 0090 FB60     		str	r3, [r7, #12]
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 5982              		.loc 1 1779 0
 5983 0092 FB68     		ldr	r3, [r7, #12]
 5984 0094 23F40043 		bic	r3, r3, #32768
 5985 0098 FB60     		str	r3, [r7, #12]
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 5986              		.loc 1 1781 0
 5987 009a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5988 009c 5A01     		lsls	r2, r3, #5
 5989 009e 7B68     		ldr	r3, [r7, #4]
 5990 00a0 1344     		add	r3, r3, r2
 5991 00a2 03F5A063 		add	r3, r3, #1280
 5992 00a6 1A46     		mov	r2, r3
 5993 00a8 FB68     		ldr	r3, [r7, #12]
 5994 00aa 1360     		str	r3, [r2]
 5995              	.L275:
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do 
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 1000U) 
 5996              		.loc 1 1784 0
 5997 00ac 3B69     		ldr	r3, [r7, #16]
 5998 00ae 0133     		adds	r3, r3, #1
 5999 00b0 3B61     		str	r3, [r7, #16]
 6000 00b2 3B69     		ldr	r3, [r7, #16]
 6001 00b4 B3F57A7F 		cmp	r3, #1000
 6002 00b8 0CD8     		bhi	.L278
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     } 
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6003              		.loc 1 1789 0
 6004 00ba FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 6005 00bc 5A01     		lsls	r2, r3, #5
 6006 00be 7B68     		ldr	r3, [r7, #4]
 6007 00c0 1344     		add	r3, r3, r2
 6008 00c2 03F5A063 		add	r3, r3, #1280
 6009 00c6 1B68     		ldr	r3, [r3]
 6010 00c8 03F00043 		and	r3, r3, #-2147483648
 6011 00cc B3F1004F 		cmp	r3, #-2147483648
ARM GAS  /tmp/ccyAKTho.s 			page 137


 6012 00d0 ECD0     		beq	.L275
 6013 00d2 00E0     		b	.L274
 6014              	.L278:
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 6015              		.loc 1 1786 0
 6016 00d4 00BF     		nop
 6017              	.L274:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6018              		.loc 1 1773 0 discriminator 2
 6019 00d6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 6020 00d8 0133     		adds	r3, r3, #1
 6021 00da FB75     		strb	r3, [r7, #23]
 6022              	.L272:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6023              		.loc 1 1773 0 is_stmt 0 discriminator 1
 6024 00dc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 6025 00de 0F2B     		cmp	r3, #15
 6026 00e0 C7D9     		bls	.L276
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */  
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 6027              		.loc 1 1793 0 is_stmt 1
 6028 00e2 7B68     		ldr	r3, [r7, #4]
 6029 00e4 03F58063 		add	r3, r3, #1024
 6030 00e8 1A46     		mov	r2, r3
 6031 00ea 4FF0FF33 		mov	r3, #-1
 6032 00ee 5361     		str	r3, [r2, #20]
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 6033              		.loc 1 1794 0
 6034 00f0 7B68     		ldr	r3, [r7, #4]
 6035 00f2 4FF0FF32 		mov	r2, #-1
 6036 00f6 5A61     		str	r2, [r3, #20]
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USB_EnableGlobalInt(USBx);
 6037              		.loc 1 1795 0
 6038 00f8 7868     		ldr	r0, [r7, #4]
 6039 00fa FFF7FEFF 		bl	USB_EnableGlobalInt
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;  
 6040              		.loc 1 1796 0
 6041 00fe 0023     		movs	r3, #0
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6042              		.loc 1 1797 0
 6043 0100 1846     		mov	r0, r3
 6044 0102 1837     		adds	r7, r7, #24
 6045              	.LCFI264:
 6046              		.cfi_def_cfa_offset 8
 6047 0104 BD46     		mov	sp, r7
 6048              	.LCFI265:
 6049              		.cfi_def_cfa_register 13
 6050              		@ sp needed
 6051 0106 80BD     		pop	{r7, pc}
 6052              		.cfi_endproc
 6053              	.LFE168:
 6055              		.section	.bss.debug.9202,"aw",%nobits
 6056              		.align	2
 6059              	debug.9202:
 6060 0000 00000000 		.space	4
ARM GAS  /tmp/ccyAKTho.s 			page 138


 6061              		.text
 6062              	.Letext0:
 6063              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 6064              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 6065              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 6066              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6067              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 6068              		.file 7 "/usr/arm-none-eabi/include/sys/lock.h"
 6069              		.file 8 "/usr/arm-none-eabi/include/sys/_types.h"
 6070              		.file 9 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 6071              		.file 10 "/usr/arm-none-eabi/include/sys/reent.h"
 6072              		.file 11 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 6073              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6074              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
ARM GAS  /tmp/ccyAKTho.s 			page 139


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_ll_usb.c
     /tmp/ccyAKTho.s:18     .text.USB_CoreInit:0000000000000000 $t
     /tmp/ccyAKTho.s:25     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/ccyAKTho.s:4133   .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/ccyAKTho.s:143    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/ccyAKTho.s:150    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/ccyAKTho.s:194    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/ccyAKTho.s:201    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/ccyAKTho.s:245    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/ccyAKTho.s:252    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/ccyAKTho.s:320    .text.USB_DevInit:0000000000000000 $t
     /tmp/ccyAKTho.s:327    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/ccyAKTho.s:845    .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/ccyAKTho.s:690    .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/ccyAKTho.s:769    .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/ccyAKTho.s:677    .text.USB_DevInit:000000000000025c $d
     /tmp/ccyAKTho.s:683    .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/ccyAKTho.s:757    .text.USB_FlushTxFifo:0000000000000048 $d
     /tmp/ccyAKTho.s:762    .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/ccyAKTho.s:833    .text.USB_FlushRxFifo:0000000000000040 $d
     /tmp/ccyAKTho.s:838    .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/ccyAKTho.s:895    .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/ccyAKTho.s:902    .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/ccyAKTho.s:987    .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/ccyAKTho.s:994    .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/ccyAKTho.s:1151   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccyAKTho.s:1158   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/ccyAKTho.s:1377   .text.USB_ActivateDedicatedEndpoint:0000000000000184 $d
     /tmp/ccyAKTho.s:6059   .bss.debug.9202:0000000000000000 debug.9202
     /tmp/ccyAKTho.s:1382   .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/ccyAKTho.s:1389   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/ccyAKTho.s:1602   .text.USB_DeactivateEndpoint:0000000000000180 $d
     /tmp/ccyAKTho.s:1607   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccyAKTho.s:1614   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccyAKTho.s:1827   .text.USB_DeactivateDedicatedEndpoint:0000000000000180 $d
     /tmp/ccyAKTho.s:1832   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/ccyAKTho.s:1839   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/ccyAKTho.s:2804   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/ccyAKTho.s:2263   .text.USB_EPStartXfer:0000000000000354 $d
     /tmp/ccyAKTho.s:2266   .text.USB_EPStartXfer:0000000000000358 $t
     /tmp/ccyAKTho.s:2419   .text.USB_EPStartXfer:0000000000000480 $d
     /tmp/ccyAKTho.s:2424   .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/ccyAKTho.s:2431   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/ccyAKTho.s:2797   .text.USB_WritePacket:0000000000000000 $t
     /tmp/ccyAKTho.s:2892   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/ccyAKTho.s:2899   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/ccyAKTho.s:2972   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/ccyAKTho.s:2979   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/ccyAKTho.s:3116   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/ccyAKTho.s:3123   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/ccyAKTho.s:3260   .text.USB_StopDevice:0000000000000000 $t
     /tmp/ccyAKTho.s:3267   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/ccyAKTho.s:3364   .text.USB_SetDevAddress:0000000000000000 $t
     /tmp/ccyAKTho.s:3371   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/ccyAKTho.s:3432   .text.USB_DevConnect:0000000000000000 $t
     /tmp/ccyAKTho.s:3439   .text.USB_DevConnect:0000000000000000 USB_DevConnect
ARM GAS  /tmp/ccyAKTho.s 			page 140


     /tmp/ccyAKTho.s:3485   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/ccyAKTho.s:3492   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/ccyAKTho.s:3538   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/ccyAKTho.s:3545   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/ccyAKTho.s:3596   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/ccyAKTho.s:3603   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccyAKTho.s:3654   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/ccyAKTho.s:3661   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccyAKTho.s:3712   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/ccyAKTho.s:3719   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/ccyAKTho.s:3774   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/ccyAKTho.s:3781   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/ccyAKTho.s:3850   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/ccyAKTho.s:3857   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/ccyAKTho.s:3901   .text.USB_GetMode:0000000000000000 $t
     /tmp/ccyAKTho.s:3908   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/ccyAKTho.s:3948   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/ccyAKTho.s:3955   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/ccyAKTho.s:4029   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/ccyAKTho.s:4036   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/ccyAKTho.s:4127   .text.USB_CoreReset:0000000000000000 $t
     /tmp/ccyAKTho.s:4220   .text.USB_CoreReset:0000000000000064 $d
     /tmp/ccyAKTho.s:4225   .text.USB_HostInit:0000000000000000 $t
     /tmp/ccyAKTho.s:4232   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/ccyAKTho.s:4608   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/ccyAKTho.s:4435   .text.USB_HostInit:0000000000000144 $d
     /tmp/ccyAKTho.s:4444   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/ccyAKTho.s:4451   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/ccyAKTho.s:4534   .text.USB_ResetPort:0000000000000000 $t
     /tmp/ccyAKTho.s:4541   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/ccyAKTho.s:4601   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/ccyAKTho.s:4691   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/ccyAKTho.s:4698   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/ccyAKTho.s:4743   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/ccyAKTho.s:4750   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/ccyAKTho.s:4791   .text.USB_HC_Init:0000000000000000 $t
     /tmp/ccyAKTho.s:4798   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/ccyAKTho.s:4842   .text.USB_HC_Init:000000000000003c $d
     /tmp/ccyAKTho.s:4846   .text.USB_HC_Init:000000000000004c $t
     /tmp/ccyAKTho.s:5087   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/ccyAKTho.s:5094   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/ccyAKTho.s:5791   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/ccyAKTho.s:5377   .text.USB_HC_StartXfer:00000000000001ec $d
     /tmp/ccyAKTho.s:5381   .text.USB_HC_StartXfer:00000000000001fc $t
     /tmp/ccyAKTho.s:5469   .text.USB_HC_StartXfer:0000000000000278 $d
     /tmp/ccyAKTho.s:5474   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/ccyAKTho.s:5481   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/ccyAKTho.s:5522   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/ccyAKTho.s:5529   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/ccyAKTho.s:5784   .text.USB_DoPing:0000000000000000 $t
     /tmp/ccyAKTho.s:5875   .text.USB_DoPing:0000000000000074 $d
     /tmp/ccyAKTho.s:5880   .text.USB_StopHost:0000000000000000 $t
     /tmp/ccyAKTho.s:5887   .text.USB_StopHost:0000000000000000 USB_StopHost
     /tmp/ccyAKTho.s:6056   .bss.debug.9202:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
ARM GAS  /tmp/ccyAKTho.s 			page 141


HAL_Delay
